!function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(d&&d(e);p.length;)p.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={1:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([271,0]),i()}([,function(t,e,i){"use strict";var n=i(63);let a={buildButton:function(t,e,i,n,a){let s=$.summernote.ui;"string"!=typeof i&&(i=""+i),i+=this.getHotkey(t);let o=s.button({contents:e,tooltip:i,click:t=>{GoogleAnalyticsHelper.send("SummerNoteHelper.clickButton",{name:$(e).text()}),n(t)}});if(!1!==a){return o.render()}return o},buildDropdownButtonsGroup:function(t,e,i,n){let a=$.summernote.ui,s=$.summernote.options;return a.buttonGroup([a.button({className:"dropdown-toggle",contents:a.dropdownButtonContents(e,s),tooltip:i,data:{toggle:"dropdown"}}),a.dropdown(n)]).render()},getHotkey:function(t){let e="",i=n.a.pc;for(let n in i)if(i[n]===t){e=n;break}return""!==e&&(e=` (${e})`),e}};e.a=a},,,function(t,e,i){"use strict";var n=i(1);var a={stopWords:["~@®","﹁",">","<","|","“","﹕","HH","®","@","o0","8%","»","°","ol","(",")","&amp;","﹍","﹣","﹩"," %","乙逄","U3","﹥","~","《","。","*"," s ","O O ","©","=",'"',": :","i&i","[J","[8","\\n","」","+","區曙","，","—","【"," 一u 一","£","//","¥","!"],nameQueue:[],ocrImage:function(t){if(!0===$v.EditorManager.enableOCRImageFilename){let e=$v.EditorManager.FieldPostBody.getElement(),i=e.find(`a[href^="filesystem:"][data-filename="${t}"]`),n=i.find(`img[src^="filesystem:"][data-filename="${t}"]`);if(this.nameQueue.indexOf(t)>-1)return void console.log("this image is already doing OCR.");this.nameQueue.push(t),i.length>0&&n.length>0&&(n.attr("data-ocr","waiting"),DelayExecHelper.addForceWaiting(t),TesseractHelper.push(n,a=>{if(0===e.find(`a[href^="filesystem:"][data-filename="${t}"]`).length)return console.log("image is deleted. stop ocr"),void this.ocrImageComplete(t);"string"==typeof(a=this.filterOCRText(a))&&""!==a.trim()?(!0===$v.EditorManager.enableOCRImageAlt&&n.attr("alt",a),n.attr("data-ocr","finish")):n.removeAttr("data-ocr");let s=this.parseOCRName(a);if(this.isNeedOCRFilename(t)&&""!==s){let e=n.attr("src"),a=e.slice(e.lastIndexOf("/")+1,e.lastIndexOf("."));a.length>30&&(a=a.slice(0,30));let o=a+"-"+s+e.slice(e.lastIndexOf(".")),r=e.slice(0,e.lastIndexOf("/")+1)+o;FileSystemHelper.copy(e,r,()=>{i.attr("href",r).attr("data-filename",o),n.attr("src",r).attr("title",o).attr("data-filename",o),!1===$v.EditorManager.enableOCRImageAlt&&n.attr("alt",o),this.ocrImageComplete(t,o)})}else n.removeClass("ocr-lock"),this.ocrImageComplete(t)}))}return this},ocrImageComplete:function(t,e){DelayExecHelper.removeForceWaiting(t),$v.EditorManager.FieldPostBody.onChange(),void 0===e&&(e=t),GoogleAnalyticsHelper.send("SummerNoteImageOCR.ocrImageComplete",{newName:e});for(let e=this.nameQueue.length-1;e>=0;e--)this.nameQueue[e]===t&&this.nameQueue.splice(e,1);return this},isNeedOCRFilename:function(t){return(t=(t=(t=(t=t.replace(/image/g,"")).replace(/screenshot/g,"")).replace(/Screenshot/g,"")).split(" - Copy").join("")).trim().match(/[A-Za-z]{2,}/g).map(t=>t).join("").length<5},parseOCRName:function(t){if("string"!=typeof t)return"";let e=t.trim().match(/[A-Za-z]{2,}/g),i=[];null!==e&&(i=e.map(t=>t));let n="";for(let t=0;t<i.length&&(""!==n&&(n+="-"),n+=i[t],!(n.length>30));t++);return n.length>50&&(n=n.slice(0,50)),n},filterOCRText:function(t){for(t=(t=(t=t.replace(/ [\u4e00-\u9fa5] /g,(t,e)=>t.slice(1,2))).replace(/[\u4e00-\u9fa5] /g,(t,e)=>t.slice(0,1))).replace(/ [\u4e00-\u9fa5]/g,(t,e)=>t.slice(1)),this.stopWords.forEach(e=>{t=t.split(e).join(" ")}),t=t.replace(/[\t|\n]/g," ");t.indexOf("  ")>-1;)t=t.split("  ").join(" ");return t.trim()}};let s={ImageReplacer:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="image icon"></i>'+t("Upload Images")),s=t("Replace Images with Blogger");return n.a.buildButton("ImageReplacer",a,s,()=>{$v.ImageReplacer.open()},i)},imageSizeOriginal:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="expand arrows icon"></i>'+t("Resize Original")),s=t("Resize images to original");return n.a.buildButton("imageSizeOriginal",a,s,()=>{this.imageSizeOriginalClick()},i)},imageSizeOriginalClick:function(){$v.EditorManager.FieldPostBody.getElement().find("img").each((t,e)=>{this.removeImageTargetSize(e),$(e).addClass("original-size")})},imageSizeThumbnail:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="compress icon"></i>'+t("Resize Thumbnail")),s=t("Resize to thumbnail size");return n.a.buildButton("imageSizeThumbnail",a,s,()=>{this.imageSizeThumbnailClick()},i)},imageSizeThumbnailClick:function(){let t=$v.EditorManager.imageSizeDefault;$v.EditorManager.FieldPostBody.getElement().find("img").each((e,i)=>{this.setImageTargetSize(i,t),$(i).removeClass("original-size")})},downloadImageTamplate:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="object group outline icon"></i>'+t("Cover Template")),s=t("Download cover template");return n.a.buildButton("downloadImageTamplate",a,s,()=>{this.downloadImageTamplateClick()},i)},downloadImageTamplateClick:function(){let t=$v.EditorManager.FieldPostTitle.getText().trim(),e=t.match(/[A-Za-z\d]+/g).map(t=>t);t="";for(let i=0;i<e.length&&(""!==t&&(t+="_"),t+=e[i],!(t.length>30));i++);t=$v.PostManager.editingPostId+"-cover-"+t,t+=".dps",FileHelper.download("./static/ImageTemplate/image-template.dps",t)},downloadAnnotationTamplate:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="object group outline icon"></i>'+t("Annotation Template")),s=t("Download annotation template");return n.a.buildButton("downloadAnnotationTamplate",a,s,()=>{this.downloadAnnotationTamplateClick()},i)},downloadAnnotationTamplateClick:function(){let t=$v.EditorManager.FieldPostTitle.getText().trim(),e=t.match(/[A-Za-z\d]+/g).map(t=>t);t="";for(let i=0;i<e.length&&(""!==t&&(t+="_"),t+=e[i],!(t.length>30));i++);t=$v.PostManager.editingPostId+"-annotation-"+t,t+=".wps",FileHelper.download("./static/ImageTemplate/annotation-template.wps",t)},popoverImageSizeOriginal:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="expand arrows icon"></i>'+t("Resize Original")),s=t("Resize to original");return n.a.buildButton("popoverImageSizeOriginal",a,s,()=>{let t=$v.EditorManager.FieldPostBody.getSelectTarget();this.removeImageTargetSize(t),t=$(t),t.addClass("original-size");let e=t.attr("src");BloggerImageHelper.isBloggerImageLink(e)&&!1===BloggerImageHelper.isFullSizeLink(e)&&t.attr("src",BloggerImageHelper.getFullSize(e))},i)},popoverImageSizeDefault:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="compress icon"></i>'+t("Resize Thumbnail")),s=t("Resize to thumbnail size");return n.a.buildButton("popoverImageSizeDefault",a,s,()=>{let t=$v.EditorManager.FieldPostBody.getSelectTarget(),e=$v.EditorManager.imageSizeDefault;this.setImageTargetSize(t,e),t=$(t),t.removeClass("original-size")},i)},popoverImageSave:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="save icon"></i>'+t("Save")),s=t("Save image");return n.a.buildButton("popoverImageSave",a,s,()=>{let t=$v.EditorManager.FieldPostBody.getSelectTarget();t=$(t);let e=t.attr("src"),i=e.slice(e.lastIndexOf("/")+1);i=decodeURIComponent(i),FileHelper.download(e,i)},i)},popoverImageOpen:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="share icon"></i>'+t("Open")),s=t("Open image in new tab");return n.a.buildButton("popoverImageOpen",a,s,()=>{let t=$v.EditorManager.FieldPostBody.getSelectTarget();t=$(t);let e=t.attr("src"),i=e.slice(e.lastIndexOf("/")+1);WindowHelper.popup(e,i)},i)},popoverImageOCR:function(t,e,i){let s=SemanticUIHelper.wrapNIWSF('<i class="crosshairs icon"></i>'+t("OCR")),o=t("Recognize text and append on image");return n.a.buildButton("popoverImageOCR",s,o,()=>{let t=$v.EditorManager.FieldPostBody.getSelectTarget();if(!1===t.src.startsWith("filesystem:"))return;let e=t.getAttribute("data-filename");a.ocrImage(e)},i)},removeImageTargetSize:function(t){(t=$(t)).removeAttr("width"),t.removeAttr("height");let e=t.attr("src");BloggerImageHelper.isBloggerImageLink(e)&&!1===BloggerImageHelper.isFullSizeLink(e)&&t.attr("src",BloggerImageHelper.getFullSize(e))},setImageTargetSize:function(t,e){t=$(t);let i=BloggerImageHelper.calcResize(e,t);void 0!==i&&t.attr("width",i.width).attr("height",i.height);let n=t.attr("src");BloggerImageHelper.isBloggerImageLink(n)&&t.attr("src",BloggerImageHelper.getSize(n,e))},insertFromButton:function(t){let e=this.getAssetDirPath();FileSystemHelper.writeFromFile(e,t,t=>{t.forEach(t=>{let e=FileSystemHelper.getFileName(t);this.insertImageNode(t,e)})})},getAssetDirPath:function(){return`/${$v.PostManager.editingPostId}/assets/`},insertImageFromPaste:function(t){let e=this.getAssetDirPath(),i=DayjsHelper.nowFormat()+".png";return FileSystemHelper.writeFromFile(e,t,i,t=>{this.insertImageNode(t,i)}),this},insertImageFromDrop:function(t,e){let i=this.getAssetDirPath(),n=t.type,a=t.name;a=FileHelper.extractSafeFilename(a),FileSystemHelper.writeFromFile(i,t,t=>{let i;n.startsWith("image")?this.insertImageNode(t,a):(i=$(`<a href="${t}" class="file">${a}</a>`)[0],$v.EditorManager.FieldPostBody.insert(i)),FunctionHelper.triggerCallback(e)})},insertImageNode:function(t,e){let i=$(`<a href="${t}" data-filename="${e}">\n      <img src="${t}" title="${e}" alt="${e}" data-filename="${e}" onload="BloggerImageHelper.readyToResize(this)" />\n    </a>`)[0];return $v.EditorManager.FieldPostBody.insert(i),setTimeout(()=>{a.ocrImage(e)},0),GoogleAnalyticsHelper.send("SummerNoteImage.insertImageNode",{name:e}),this}};e.a=s},function(t,e,i){"use strict";var n=i(1);i(98);let a={insertMore:function(t,e,i=!0,a=!0){let s='<i class="ellipsis horizontal icon"></i>';a&&(s+=t("Read More")),s=SemanticUIHelper.wrapNIWSF(s);let o=t("Insert Read More");return n.a.buildButton("insertMore",s,o,()=>{this.insertMoreClick()},i)},insertMoreClick:function(){let t=$v.EditorManager.FieldPostBody;t.getElement().find('a[name="more"]').remove(),t.insert('<p><a name="more"></a>\x3c!--more--\x3e</p><hr /><h2>[H2 Title]</h2><p>paragraph...</p>')},CopyCode:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="code icon"></i>'+t("Copy Code")),s=t("Copy Code");return n.a.buildButton("CopyCode",a,s,()=>{this.CopyCodeClick(t)},i)},CopyCodeClick:function(t,e=!0){let i=$v.EditorManager.FieldPostBody.getElement();i=this.CleanCodeClick(i),i=i.clone(),i.find("img:first").length>0&&void 0!==i.find("img:first").attr("width")&&!0===e&&alert(t("First image has width!")),i=BloggerImageHelper.filterPostBody(i),i.find("[data-filename]").removeAttr("data-filename"),i.find("[data-ocr]").removeAttr("data-ocr"),i.find('a[href*="http://pulipuli.blogspot.com/"],a[href*="https://pulipuli.blogspot.com/"]').each((t,e)=>{let i=e.href;i=i.slice(i.indexOf(".com/")+4),e.href=i}),i.find('a[href*="http://pulipuli.blogspot.tw/"],a[href*="https://pulipuli.blogspot.tw/"]').each((t,e)=>{let i=e.href;i=i.slice(i.indexOf(".tw/")+3),e.href=i}),i.find('a[href*="http://blog.pulipuli.info/"],a[href*="https://blog.pulipuli.info/"]').each((t,e)=>{let i=e.href;i=i.slice(i.indexOf(".info/")+5),e.href=i});let n=i.children(":last");for(;""===n.html().trim();)n.remove(),n=i.children(":last");let a=i.html();for(a=a.replace('<p><a name="more"></a>\x3c!--more--\x3e</p>',"\x3c!--more--\x3e"),a=a.replace('<a name="more"></a>\x3c!--more--\x3e</p>',"</p>\x3c!--more--\x3e"),a=a.replace('<p><a name="more"><br></a></p>',"\x3c!--more--\x3e"),a=a.replace('<a name="more"></a>',""),a=a.replace("<p>\x3c!--more--\x3e</p>","\x3c!--more--\x3e"),a=a.replace("\x3c!--more--\x3e<hr></p>","</p>\x3c!--more--\x3e<hr />"),a=a.split("</p><").join("</p>\n<");a.endsWith("<p><br></p>");)a=a.slice(0,-11).trim();return-1===a.indexOf("\x3c!--more--\x3e")&&alert(t("\x3c!--more--\x3e is not found")),a=html_beautify(a,{indent_size:2,indent_char:" ",indent_with_tabs:!1}),CopyPasteHelper.copyPlainText(a),GoogleAnalyticsHelper.send("SummerNoteCode.CopyCodeClick",{codeLength:a.length}),a},GetOneFileHTML:function(t){let e=this.CopyCodeClick(t);e=this.replaceAll(e,'<a href="//','<a href="https://'),e=this.replaceAll(e,'<img src="//','<img src="https://'),e=this.replaceAll(e,'<iframe frameborder="0" src="//','<iframe frameborder="0" src="https://'),e=this.replaceAll(e,"\x3c!--more--\x3e",""),e=e.split('<img src="').map((t,e)=>{if(0===e)return t;let i=t.slice(0,t.indexOf('"')),n=i.split("/");return n[7]&&n[7].startsWith("s")&&(n[7]="s1600"),i=n.join("/"),t=i+t.slice(t.indexOf('"'))}).join('<img src="'),e=e.split('<img src="').map((t,e)=>{if(0===e)return t;let i=t.slice(0,t.indexOf('"')),n=i.split("/");return n[7]="s1600",i=n.join("/"),t=i+t.slice(t.indexOf('"'))}).join('<img src="');let i=$(`<div>${e}</div>`);return i.find("img").each((t,e)=>{(e=$(e)).removeAttr("width"),e.removeAttr("height"),e.css({width:"100%",maxWidth:"14cm",height:"auto",maxHeight:"24cm"})}),i.find("iframe.note-video-clip").each((t,e)=>{let i=e.src;(e=$(e)).parents("p:first").after(`<p><a href="${i}" target="_blank">${i}</a></p>`),e.remove()}),e=i.html(),e},replaceAll:(t,e,i)=>t.split(e).join(i),CleanCode:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="eraser icon"></i>'+t("Clean")),s=t("Clean Code");return n.a.buildButton("CleanCode",a,s,()=>{this.CleanCodeClick()},i)},skipTagList:["hr","td","tr","th","caption","code","table"],CleanCodeClick:function(t){return void 0===t&&(t=$v.EditorManager.FieldPostBody.getElement()),t.children().each((t,e)=>{let i=$(e),n=e.tagName.toLowerCase();if(this.skipTagList.indexOf(n)>-1)return!1;let a=e.innerHTML.trim().toLowerCase();if(""===a||"<br>"===a)return i.remove(),!1;let s=i.children();for(;a.startsWith("<br>");)i.find("br:first").remove(),a=e.innerHTML.trim().toLowerCase();for(;a.endsWith("<br>");)i.find("br:last").remove(),a=e.innerHTML.trim().toLowerCase();s=i.contents(),0===s.length&&$(e).remove()}),t.find('[style*="font-family:"],[style*="font-size:"],[style*="text-indent:"],[style*="background-color:"]').each((t,e)=>{(e=$(e)).css("font-family",""),e.css("font-size",""),e.css("text-indent","");let i=e.css("background-color").toLowerCase();"transparent"!==i&&"rgba(0, 0, 0, 0)"!==i||e.css("background-color","");let n=e.attr("style");void 0===n||""!==n.trim()&&";"!==n||e.removeAttr("style")}),t.find('[align="left"]').each((t,e)=>{"left"===(e=$(e)).attr("align")&&e.removeAttr("align")}),t.find('a[href*=".googleusercontent.com/"]:not(a[href*="https://blogger.googleusercontent.com/img/a/"])').each((t,e)=>{let i=e.href;i=i.slice(i.indexOf("//")),i=i.replace("/s1600-h/","/s1600/"),e.href=i}),t.find('img[src*=".googleusercontent.com/"]:not(img[src*="https://blogger.googleusercontent.com/img/a/"])').each((t,e)=>{let i=e.src;i=i.slice(i.indexOf("//")),i=i.replace("/s1600-h/","/s1600/"),e.src=i}),t.find('[style=""]').removeAttr("style"),t.find(".note-editor-comment").removeAttr("title").removeClass("note-editor-comment"),t.find("span").each((t,e)=>{e.outerHTML.startsWith("<span>")&&(e.outerHTML=e.innerHTML)}),t.children("p").each((t,e)=>{""===e.innerHTML.trim()?$(e).remove():$(e).children("p").each((t,e)=>{""!==e.innerHTML.trim()?$(e).replaceWith(e.innerHTML):$(e).remove()})}),t.find("a").each((t,e)=>{""===e.innerHTML.trim()&&$(e).remove()}),t.find('a[href^="file:///"][href*="index.htm#"]').each((t,e)=>{let i=e.href;e.href=i.slice(i.lastIndexOf("#"))}),t.find('a[href^="http://#"]').each((t,e)=>{let i=e.href;e.href=i.slice(i.lastIndexOf("#")),$(e).removeAttr("target")}),$v.EditorManager.FieldPostBody.cleanUnusedFileSystem(),t},SaveSnippet:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="file code outline icon"></i>'+t("Snippet")),s=t("Save Snippet");return n.a.buildButton("SaveSnippet",a,s,()=>{this.SaveSnippetClick()},i)},SaveSnippetClick:function(){let t=$v.EditorManager.FieldPostBody;if(!1===t.hasSelectedRange())return void $v.SnippetInserter.open();let e=t.getSelectedNodeAndRemove(),i=$v.EditorManager.SnippetInserter;i.saveSnippet(e,()=>{i.loadSnippet()})},ReadAloud:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="assistive listening systems icon"></i>'),s=t("Read Aloud");return n.a.buildButton("readAloud",a,s,()=>{console.log("Read Aloud")},i)}};e.a=a},,,function(module,__webpack_exports__,__webpack_require__){"use strict";var _SummerNoteButtons_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(132),_SummerNoteCallbacks_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(131),_SummerNoteKeyMap_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63);let SummerNoteConfig={$t:null,toolbar:function($t,loadDefault){let config;if(this.$t=$t,void 0===loadDefault&&(loadDefault=!0),"string"==typeof $v.EditorManager.summerNoteConfigToolbar&&(config=$v.EditorManager.summerNoteConfigToolbar.trim()),void 0!==config&&""!==config)try{return eval("config = "+config),config.length>0?config:this.defaultToolbar(loadDefault)}catch(t){return this.defaultToolbar(loadDefault)}return this.defaultToolbar(loadDefault)},defaultToolbar:function(t){if(!1===t)return[];return[["menu",["toggleMenu","codeview","OutlineNavigator"]],["clear",["undo","clear"]],["mainInset",["buttonOpenCoverBuilder","buttonInsertMore","buttonInsertHR","buttonInsertCode"]],["style",["style","forecolor","backcolor"]],["formatBlockHeading2",["formatH2","formatH3","formatH4"]],["formatBlock",["formatPara","comment","htmlify","textify"]],["font",["bold","underline"]],["para",["ul","ol","paragraph"]],["insert",["link","picture","table","insertGroup"]],["view",["formatGroup"]],["help",["help"]],["read",["ReadAloudSpeedGroup","ReadAloud"]]]},styleTags:function($t,loadDefault){if(this.$t=$t,void 0===loadDefault&&(loadDefault=!0),""!==$v.EditorManager.summerNoteConfigStyleTags.trim())try{let config=$v.EditorManager.summerNoteConfigStyleTags.trim();return eval("config = "+config),config.length>0?config:this.defaultStyleTags($t,loadDefault)}catch(t){return this.defaultStyleTags($t,loadDefault)}return this.defaultStyleTags($t,loadDefault)},defaultStyleTags:function(t,e){if(!1===e)return[];if("function"!=typeof t)return;return[{tag:"span",title:t("red color & underline"),style:"color: red; font-weight: bold; text-decoration: underline;"},{tag:"i",title:t("italic")},{tag:"sup",title:t("sup")},{tag:"sub",title:t("sub")},{tag:"span",title:t("strikethrough"),style:"text-decoration: line-through;"},{tag:"span",title:t("comment"),className:"note-editor-comment"},"blockquote","h1",{tag:"h5",title:t("Heading 5")},{tag:"h6",title:t("Heading 6")}]},popoverImage:function(){return[["imagesize",["popoverImageSizeOriginal","popoverImageSizeDefault"]],["imagesLink",["openMedia","saveMedia","copyMediaLink"]],["ocr",["imgEdit","popoverImageOCR"]],["remove",["removeMedia"]]]},popoverTable:function(){return[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]]},popoverLink:function(){return[["link",["linkDialogShow","unlink","copyLink","insertScreenshot"]],["remove",["removeLink"]]]},popoverAir:function(){return[]},loadLocale:function(t){let e=I18nHelper.locale();if("auto"===e||e.startsWith("en"))FunctionHelper.triggerCallback(t);else{let i=`static/summernote/lang/summernote-${e}.js`;$.ajax({url:i,dataType:"script",complete:t})}},postBodyConfig:function(t,e){return{lang:I18nHelper.locale(),focus:!0,disableResizeEditor:!0,placeholder:"Post Body",toolbar:this.toolbar(),styleTags:this.styleTags(t),clearEnterFormat:!0,showHeadingLabel:!0,enableDropImage:!1,enablePasteImage:!1,popover:{image:this.popoverImage(),table:this.popoverTable(),link:this.popoverLink()},buttons:_SummerNoteButtons_js__WEBPACK_IMPORTED_MODULE_0__.a.config(t),callbacks:_SummerNoteCallbacks_js__WEBPACK_IMPORTED_MODULE_1__.a.config(e),keyMap:_SummerNoteKeyMap_js__WEBPACK_IMPORTED_MODULE_2__.a,helpFooter:""}},postTitleConfig:function(t,e){return{airMode:!0,placeholder:t,shortcuts:!1,disableDragAndDrop:!0,allowEnter:!1,enableDropImage:!1,enablePasteImage:!1,popover:{air:this.popoverAir()},callbacks:{onChange:t=>{$v.EditorManager.FieldPostTitle.onPostTitleChange(t)},onInit:function(){FunctionHelper.triggerCallback(e)},onKeypress:t=>{13===t.keyCode&&(t.preventDefault(),t.stopPropagation())}}}},postLabelsConfig:function(t,e,i){return{airMode:!0,placeholder:t,shortcuts:!1,disableDragAndDrop:!0,allowEnter:!1,enableDropImage:!1,enablePasteImage:!1,popover:{air:this.popoverAir()},callbacks:{onInit:()=>{FunctionHelper.triggerCallback(e)},onChange:t=>{$v.EditorManager.FieldPostLabels.onPostLabelsChange(t)},onKeyup:t=>{FunctionHelper.triggerCallback(i,t)}},hint:$v.EditorManager.FieldPostLabels.getLabelsHintConfig()}}};__webpack_exports__.a=SummerNoteConfig},,,,function(t,e,i){"use strict";(function(t){!function(e,n){"object"==typeof exports&&void 0!==t?t.exports=n():"function"==typeof define&&i(94)?define(n):(e=e||self).hotkeys=n()}(void 0,(function(){var t="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function e(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on".concat(e),(function(){i(window.event)}))}function i(t,e){for(var i=e.slice(0,e.length-1),n=0;n<i.length;n++)i[n]=t[i[n].toLowerCase()];return i}function n(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),i=e.lastIndexOf("");0<=i;)e[i-1]+=",",e.splice(i,1),i=e.lastIndexOf("");return e}for(var a={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":t?173:189,"=":t?61:187,";":t?59:186,"'":222,"[":219,"]":221,"\\":220},s={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},o={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},r={16:!1,18:!1,17:!1,91:!1},l={},c=1;c<20;c++)a["f".concat(c)]=111+c;var d=[],u="all",p=[],h=function(t){return a[t.toLowerCase()]||s[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function g(t){u=t||"all"}function m(){return u||"all"}function f(t){var e=t.scope,a=t.method,o=t.splitKey,r=void 0===o?"+":o;n(t.key).forEach((function(t){var n=t.split(r),o=n.length,c=n[o-1],d="*"===c?"*":h(c);if(l[d]){e=e||m();var u=1<o?i(s,n):[];l[d]=l[d].map((function(t){return a&&t.method!==a||t.scope!==e||!function(t,e){for(var i=t.length<e.length?e:t,n=t.length<e.length?t:e,a=!0,s=0;s<i.length;s++)~n.indexOf(i[s])||(a=!1);return a}(t.mods,u)?t:{}}))}}))}function _(t,e,i){var n;if(e.scope===i||"all"===e.scope){for(var a in n=0<e.mods.length,r)Object.prototype.hasOwnProperty.call(r,a)&&(!r[a]&&~e.mods.indexOf(+a)||r[a]&&!~e.mods.indexOf(+a))&&(n=!1);(0!==e.mods.length||r[16]||r[18]||r[17]||r[91])&&!n&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function v(t){var e=l["*"],i=t.keyCode||t.which||t.charCode;if(b.filter.call(this,t)){if(93!==i&&224!==i||(i=91),~d.indexOf(i)||229===i||d.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var i=o[e];t[e]&&!~d.indexOf(i)?d.push(i):!t[e]&&~d.indexOf(i)?d.splice(d.indexOf(i),1):"metaKey"===e&&t[e]&&3===d.length&&(t.ctrlKey||t.shiftKey||t.altKey||(d=d.slice(d.indexOf(i))))})),i in r){for(var n in r[i]=!0,s)s[n]===i&&(b[n]=!0);if(!e)return}for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(r[a]=t[o[a]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(~d.indexOf(17)||d.push(17),~d.indexOf(18)||d.push(18),r[17]=!0,r[18]=!0);var c=m();if(e)for(var u=0;u<e.length;u++)e[u].scope===c&&("keydown"===t.type&&e[u].keydown||"keyup"===t.type&&e[u].keyup)&&_(t,e[u],c);if(i in l)for(var p=0;p<l[i].length;p++)if(("keydown"===t.type&&l[i][p].keydown||"keyup"===t.type&&l[i][p].keyup)&&l[i][p].key){for(var g=l[i][p],f=g.key.split(g.splitKey),v=[],y=0;y<f.length;y++)v.push(h(f[y]));v.sort().join("")===d.sort().join("")&&_(t,g,c)}}}function b(t,a,o){d=[];var c=n(t),u=[],g="all",m=document,f=0,_=!1,y=!0,C="+";for(void 0===o&&"function"==typeof a&&(o=a),"[object Object]"===Object.prototype.toString.call(a)&&(a.scope&&(g=a.scope),a.element&&(m=a.element),a.keyup&&(_=a.keyup),void 0!==a.keydown&&(y=a.keydown),"string"==typeof a.splitKey&&(C=a.splitKey)),"string"==typeof a&&(g=a);f<c.length;f++)u=[],1<(t=c[f].split(C)).length&&(u=i(s,t)),(t="*"===(t=t[t.length-1])?"*":h(t))in l||(l[t]=[]),l[t].push({keyup:_,keydown:y,scope:g,mods:u,shortcut:c[f],method:o,key:c[f],splitKey:C});void 0!==m&&!~p.indexOf(m)&&window&&(p.push(m),e(m,"keydown",(function(t){v(t)})),e(window,"focus",(function(){d=[]})),e(m,"keyup",(function(t){v(t),function(t){var e=t.keyCode||t.which||t.charCode,i=d.indexOf(e);if(i<0||d.splice(i,1),t.key&&"meta"==t.key.toLowerCase()&&d.splice(0,d.length),93!==e&&224!==e||(e=91),e in r)for(var n in r[e]=!1,s)s[n]===e&&(b[n]=!1)}(t)})))}var y={setScope:g,getScope:m,deleteScope:function(t,e){var i,n;for(var a in t=t||m(),l)if(Object.prototype.hasOwnProperty.call(l,a))for(i=l[a],n=0;n<i.length;)i[n].scope===t?i.splice(n,1):n++;m()===t&&g(e||"all")},getPressedKeyCodes:function(){return d.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=h(t)),!!~d.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,i=e.tagName,n=!0;return!e.isContentEditable&&("INPUT"!==i&&"TEXTAREA"!==i&&"SELECT"!==i||e.readOnly)||(n=!1),n},unbind:function(t){if(t){if(Array.isArray(t))t.forEach((function(t){t.key&&f(t)}));else if("object"==typeof t)t.key&&f(t);else if("string"==typeof t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var a=i[0],s=i[1];"function"==typeof a&&(s=a,a=""),f({key:t,scope:a,method:s,splitKey:"+"})}}else Object.keys(l).forEach((function(t){return delete l[t]}))}};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(b[C]=y[C]);if("undefined"!=typeof window){var w=window.hotkeys;b.noConflict=function(t){return t&&window.hotkeys===b&&(window.hotkeys=w),b},window.hotkeys=b}return b})),e.a=window.hotkeys}).call(this,i(250)(t))},,function(t,e,i){"use strict";var n=i(1);let a=new SpeechSynthesisUtterance,s=["。",":","：","；","\n","\t"],o=["，",",","、"];var r={isSpeaking:!1,rate:1.5,setRate(){},lang:"zh-TW",setLang(t){return"auto"===t?this.lang:(this.lang=t,t)},speechSynthesis:window.speechSynthesis,voice:null,getVoice(){if(this.voice)return this.voice;let t,e=this.speechSynthesis.getVoices();for(let i=e.length,n=i;n>0;n--)if(t=e[i-n],t.lang===this.lang)return this.voice=t,t;return this.voice=t,t},stop(){this.speechSynthesis.cancel(),this.isSpeaking=!1},speak:function(t,e){return"string"!=typeof t?(this.isSpeaking=!1,!1):("number"==typeof e&&(this.rate=e),new Promise(e=>{this.isSpeaking=!0;let i=this.splitSpeechTextToParts(t);for(let t=0,n=i.length;t<n;t++){if(i[t].length>100)return a.text="The message is too long.",a.rate=this.rate,a.voice=this.getVoice(),this.speechSynthesis.cancel(),this.speechSynthesis.speak(a),this.isSpeaking=!1,e(),!1}let n=t=>{if(!1===this.isSpeaking)return!1;t<i.length?(a.text=i[t],a.rate=this.rate,a.voice=this.getVoice(),a.onend=()=>{t++,n(t)},this.speechSynthesis.cancel(),this.speechSynthesis.speak(a)):(this.isSpeaking=!1,e())};n(0)}))},splitSpeechTextToParts:function(t){let e=t;e=e.replace(/ *\([^)]*\) */g,""),e=e.replace(/ *\[[^)]*\] */g,""),e=e.replace(/ *\{[^)]*\} */g,""),e=e.split("ɑ").join("α"),e=e.split("@").join(" at "),e=e.split("（").map((t,e)=>{if(0===e)return t;let i=t.indexOf("）");return-1===i?"":t.slice(i+1)}).join("");let i=function(t,e){for(var i=e[0],n=1;n<e.length;n++)t=t.split(e[n]).join(i);return t=t.split(i)}(t=e,s);i=i.filter(t=>""!==t.trim());let n=[],a=o;return i.forEach(t=>{if(t.length<100)return n.push(t);let e,i,s,o=[];for(let r=0,l=t.length;r<l;r++){let l=t[r];o.push(l),100===o.length&&(i?(n.push(o.slice(0,s-1).join("")),r=i,o=[]):(n.push(o.join("")),o=[])),a.indexOf(l)>-1&&(e=l,i=r,s=o.length)}o.length>0&&n.push(o.join(""))}),i=n,i}};let l={readAloudButton:null,ReadAloudClickEvent:async function(){if(this.readAloudButton||(this.readAloudButton=$(".note-toolbar .speak-button")),r.isSpeaking)return r.stop(),this.readAloudButton.css("color",""),!1;let t=$v.EditorManager.FieldPostBody.getSelectText(),e=!0;if(0===t.length){let i=$v.EditorManager.FieldPostBody.getCurrentElement();for(;;){let t=i.parent();if(t.hasClass("note-editable"))break;i=t}i&&(t=i.text()),e=!1}if(0===t.length)return!1;if(this.readAloudButton.css("color","green"),r.setLang(ConfigHelper.get("locale")),await r.speak(t,$v.EditorManager.speakRate),this.readAloudButton.css("color",""),!1===e){if(0===$v.EditorManager.FieldPostBody.getCurrentElement().next().length)return!1;$v.EditorManager.FieldPostBody.moveToNextElement(),setTimeout(()=>{this.ReadAloudClickEvent()},100)}},textSelect:function(t,e,i){if(i=i||e,t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n.select()}else t.setSelectionRange&&(t.focus(),t.setSelectionRange(e,i))},ReadAloud:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="assistive listening systems icon speak-button"></i>'),s=t("Read Aloud");return n.a.buildButton("readAloud",a,s,()=>{this.ReadAloudClickEvent()},i)},rateLabel:null,getRateLabel:function(){return this.rateLabel||(this.rateLabel=$(".note-toolbar .rate-label"),0!==this.rateLabel.length)?this.rateLabel:(this.rateLabel=null,!1)},ReadAloudSpeedGroup:function(t,e,i){let a=$v.EditorManager.speakRate,s=SemanticUIHelper.wrapNIWSF(`<span class="rate-label">${a}${t("x")}</span>`);return n.a.buildDropdownButtonsGroup(e,s,t("Rate"),[this.ReadAloudSpeed(t,e,!1,1.5),this.ReadAloudSpeed(t,e,!1,1.6),this.ReadAloudSpeed(t,e,!1,1.7),this.ReadAloudSpeed(t,e,!1,1.8),this.ReadAloudSpeed(t,e,!1,1.9),this.ReadAloudSpeed(t,e,!1,2),this.ReadAloudSpeed(t,e,!1,1),this.ReadAloudSpeed(t,e,!1,.8),this.ReadAloudSpeed(t,e,!1,.6),this.ReadAloudSpeed(t,e,!1,.5)])},ReadAloudSpeed:function(t,e,i,a){let s=SemanticUIHelper.wrapNIWSF(`<span class="rate-option" data-rate="${a}">${a}x</span>`),o=t("Rate")+": "+a;return n.a.buildButton("ReadAloudSpeed"+a,s,o,()=>{$v.EditorManager.speakRate=a,$v.EditorManager.persist()},i)}};e.a=l},function(t,e,i){var n=i(215);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(217);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(219);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{},"zh-TW":{}}'),delete t.options._Ctor}},function(t,e,i){var n=i(222);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(224);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Title":"iframe Prompt","URL":"iframe URL"},"zh-TW":{"Post Manager":"文章管理","Quota Usage":"儲存空間用量","EDITING":"編輯中","REMOVE":"移除","Search...":"搜尋...","Are you sure to delete post":"您確定要刪除文章","Drop file to upload":"拖曳檔案到這裡上傳","No title":"沒有標題"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(226);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Template Builder":"Template Builder"},"zh-TW":{"Template Builder":"建立樣板","Prev":"上一步","Next":"下一步","Open the article page in Blogger.":"開啓Blogger中的文章頁面。","View page source.":"檢視原始碼。","Copy whole code.":"複製所有原始碼。","Paste code into following field:":"在下面輸入框內貼上：","Parsing result":"分析結果",", ":"、","You have to add them by yourself.":"請自行手動加入。","Download parsing result":"下載分析結果","Set as template":"設爲範本","Template detected:":"偵測到的樣板：","Template not detected:":"沒偵測到的樣板："}}'),delete t.options._Ctor}},function(t,e,i){var n=i(228);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Title":"Publish"},"zh-TW":{"Theme Manager":"管理主題","Template":"模板","Style":"樣式","Upload":"上傳","Open":"檢視","Reset":"重置","Download":"下載","Open Template Builder":"開啟模板產生器","Drop file to upload":"拖曳至此上傳","Close":"關閉"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(230);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{},"zh-TW":{}}'),delete t.options._Ctor}},function(t,e,i){var n=i(232);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"There are still {0} image need to upload.":"There are still {0} image need to upload.","There are still {0} images need to upload.":"There are still {0} images need to upload.","Remain {sec} seconds":"Remain {sec} seconds","Remain {sec} second":"Remain {sec} second","Start countdown {sec} second":"Start countdown {sec} second"},"zh-TW":{"Image Replace":"Blogger圖片上傳","Prev":"上一步","Next":"下一步","Filesystem image remained":"待上傳圖片數","Filesystem images remained":"待上傳圖片數","No filesystem image in post body.":"文章中沒有需要上傳的圖片","Download Image Package":"下載文章中需要上傳的圖片","Skip tutorial":"略過教學","Unzip package into a folder.":"解壓縮到資料匣中。","(How to unzip Image Package)":"(解壓縮教學)","Open a Blogger draft in Compose mode and empty content.":"開啓Blogger草稿，切換至「撰寫」模式，刪除所有內容。","Open Blogger Draft":"開啓Blogger草稿","Drag images into Blogger draft and upload them.":"將圖片拖曳至Blogger草稿中，上傳圖片。","Switch to HTML mode, copy HTML.":"Blogger草稿切換到「HTML」模式。複製所有HTML程式碼。","Paste HTML into following field:":"把HTML程式碼貼到下面的欄位：","Well done!":"全部完成了！","Not Finished!":"尚未完成！","Replaced":"圖片已被取代","All filesystem image had been uploaded.":"所有檔案系統圖片已經被上傳","All filesystem images had been uploaded.":"所有檔案系統圖片已經被上傳","There are still {0} image need to upload.":"仍然有{0}張圖片需要上傳","There are still {0} images need to upload.":"仍然有{0}張圖片需要上傳","Download image package and upload again":"下載圖片後再次上傳","Remain {sec} seconds":"剩餘{sec}秒","Remain {sec} second":"剩餘{sec}秒","Start countdown {sec} second":"開始倒數{sec}秒"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(234);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Title":"iframe Prompt","URL":"iframe URL"},"zh-TW":{"Title":"插入iframe","URL":"iframe URL","We recommend you replace \\"http://\\" with \\"//\\"":"建議您用「//」取代「http://」","We recommend you replace \\"https://\\" with \\"//\\"":"建議您用「//」取代「https://」"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(237);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Title":"File Upload"},"zh-TW":{"Title":"檔案上傳","Name":"上傳網站","Upload URL":"上傳網址","Delimiter":"分隔符號","Upload":"上傳","Setting":"設定","Insert":"插入"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(239);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Title":"Code Inserter"},"zh-TW":{"Title":"插入程式碼","Syntax":"語法","Help":"說明","(Auto)":"(自動判斷)","No Highlight":"不標亮","Enable new line to <br />":"將換行取代爲<br />","Code":"程式碼","JavaScript":"JavaScript","HTML, XML":"HTML, XML","CSS":"CSS","Bash":"Bash","ini":"ini","JSON":"JSON","Java":"Java","PHP":"PHP","Perl":"Perl","SQL":"SQL","R Script":"R腳本","AutoIT":"AutoIT","C#":"C#","C++":"C++","DOS":"DOS","Excel":"Excel","Markdown":"Markdown","Nginx":"Nginx","Python":"Python","Ruby":"Ruby","Swift":"Swift","TypeScript":"TypeScript","VB.Net":"VB.Net","VBscript":"VBscript","XQuery, Xpath":"XQuery, Xpath","Matlab":"Matlab"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(241);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Title":"Markdown Importer"},"zh-TW":{"Title":"插入程式碼","Syntax":"語法","Help":"說明","(Auto)":"(自動判斷)","No Highlight":"不標亮","Enable new line to <br />":"將換行取代爲<br />","Code":"程式碼","JavaScript":"JavaScript","HTML, XML":"HTML, XML","CSS":"CSS","Bash":"Bash","ini":"ini","JSON":"JSON","Java":"Java","PHP":"PHP","Perl":"Perl","SQL":"SQL","R Script":"R腳本","AutoIT":"AutoIT","C#":"C#","C++":"C++","DOS":"DOS","Excel":"Excel","Markdown":"Markdown","Nginx":"Nginx","Python":"Python","Ruby":"Ruby","Swift":"Swift","TypeScript":"TypeScript","VB.Net":"VB.Net","VBscript":"VBscript","XQuery, Xpath":"XQuery, Xpath","Matlab":"Matlab"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(243);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Go to Top":"Go to Top","Go to Footer":"Go to Footer"},"zh-TW":{"Go to Top":"移至頁首","Go to Footer":"移至頁尾","(Header)":"(頁首)","comment":"註解","comments":"註解","image is wating for OCR":"張圖片正在等待OCR","images is wating for OCR":"張圖片正在等待OCR"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(245);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Title":"Insert Snippet"},"zh-TW":{"Title":"插入預設範本","Save & Insert":"儲存並插入","Save":"儲存","Name":"範本名稱","Snippet":"範本內容","Are you sure to delete snippet":"您確定要刪除這個預設範本","Scope":"可用範圍","All":"沒有限制","This Post":"僅此文章","Toggle to preview":"切換為預覽","Toggle to code":"切換為程式碼","SELECT ALL":"全選","COPY":"複製","CLEAN":"清空","Pin top":"置頂","RELOAD":"重新整理"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(247);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{},"zh-TW":{"Saving... (Click to Save)":"儲存中...(點擊立即儲存)","Please wait for saving.":"處理中，請等待。"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(249);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Title":"Google Docs Link Builder","type.document.share":"Google Document","type.document.preview":"Preview","type.document.copy":"Make a copy","type.document.pdf":"PDF","type.document.doc":"Microsoft Word","type.document.odt":"OpenDocument Text","type.document.rtf":"Rich Text Format","type.document.txt":"Text","type.document.html":"HTML","type.document.epub":"EPUB","type.spreadsheets.share":"Google Spreadsheet","type.spreadsheets.preview":"Preview","type.spreadsheets.copy":"Make a copy","type.spreadsheets.pdf":"PDF","type.spreadsheets.xlsx":"Microsoft Excel","type.spreadsheets.ods":"OpenDocument Spreadsheet","type.spreadsheets.csv":"CSV","type.spreadsheets.tsc":"TSV","type.presentation.share":"Google Slide","type.presentation.preview":"Preview","type.presentation.present":"Present","type.presentation.copy":"Make a copy","type.presentation.pdf":"PDF","type.presentation.pptx":"Microsoft Power Point","type.presentation.odp":"OpenDocument Presentation","type.presentation.txt":"Text","type.presentation.jpeg":"JPEG image","type.presentation.png":"PNG image","type.presentation.svg":"SVG image","type.file.share":"File preview","type.file.download":"File download"},"zh-TW":{"Title":"Google文件連結轉換器","Share Link":"文件共享連結","How to get share link":"如何取得共享連結","Delimiter":"分隔符號","GoogleDocTitle":"文件標題",": ":"：","type.document.share":"Google文件","type.document.preview":"預覽","type.document.copy":"建立副本","type.document.pdf":"PDF","type.document.doc":"Microsoft Word","type.document.odt":"OpenDocument Text","type.document.rtf":"Rich Text Format","type.document.txt":"純文字檔案","type.document.html":"HTML網頁","type.document.epub":"EPUB","type.spreadsheets.share":"Google試算表","type.spreadsheets.preview":"預覽","type.spreadsheets.copy":"建立副本","type.spreadsheets.pdf":"PDF","type.spreadsheets.xlsx":"Microsoft Excel","type.spreadsheets.ods":"OpenDocument Spreadsheet","type.spreadsheets.csv":"CSV","type.spreadsheets.tsc":"TSV","type.presentation.share":"Google簡報","type.presentation.preview":"預覽","type.presentation.present":"播放","type.presentation.copy":"建立副本","type.presentation.pdf":"PDF","type.presentation.pptx":"Microsoft Power Point","type.presentation.odp":"OpenDocument Presentation","type.presentation.txt":"純文字檔案","type.presentation.jpeg":"JPEG點陣圖片","type.presentation.png":"PNG點陣圖片","type.presentation.svg":"SVG向量圖片","type.file.share":"檔案檢視","type.file.download":"檔案下載"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(252);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Title":"iframe Prompt","URL":"iframe URL"},"zh-TW":{"Editor Manager":"編輯器設定","Image":"圖片上傳設定","Toolbar":"編輯器工具列","Labels":"標籤","Upload Image Draft URL":"上傳圖片的Blogger草稿網址","Blogger Console":"Blogger主控臺","Open Draft":"開啟草稿","Replace Images":"取代圖片","Thumbnail Image Size":"縮圖尺寸","HELP":"說明","Style Tags":"格式標籤","Search Label":"搜尋標籤","Use OCR text as image\'s filename":"使用OCR結果作為圖片檔名","Use OCR text as image\'s alt text":"使用OCR結果作為alt文字","OCR Language":"OCR語言","No Title":"沒有標題","No Label":"沒有標籤","Add a new label...":"新增標籤...","Config uploaded":"設定檔已上傳","Snippet":"模板","Save Snippet":"儲存預設模板","Read More":"閱讀更多分隔線","Insert Read More":"插入閱讀更多分隔線","Copy Code":"複製程式碼","\x3c!--more--\x3e is not found":"沒有找到\x3c!--more--\x3e","Clean":"清理程式碼","Clean Code":"清理程式碼","Iframe":"Iframe","Insert iframe":"插入Iframe","Upload File":"上傳檔案","Upload file and insert links":"上傳檔案並插入連結","Code":"程式碼","Insert Code":"插入程式碼","Outline":"大綱","Outline Navigation":"大綱瀏覽器","Insert Snippet":"插入預設模板","Google Docs Links":"Google文件連結","Open Google Docs Links Builder":"開啟Google文件連結轉換器","OneDrive Links":"OneDrive連結","Open OneDrive Link Builder":"OneDrive連結轉換器","Google Photo":"Google相簿","Open Google Photo":"開啟Google相簿","Horizontal Rule":"水平線","Video":"影片","Trans":"翻譯","Translate Selected":"翻譯所選的文字","Toggle Menu":"切換顯示選單","Insert":"插入","Insert Tools":"各種插入工具","Format":"格式","Format Tools":"各種格式工具","Resize Thumbnail":"縮圖","Resize to thumbnail size":"調整圖片為縮圖大小","Resize Original":"原圖","Resize to original":"調整圖片為原始大小","Resize images to original":"調整圖片為原始大小","Cover Template":"封面模板","Download cover template":"下載封面模板","Annotation Template":"註解模板","Download annotation template":"下載註解模板","Open":"開啟","Open image in new tab":"開啟新頁籤","Save":"儲存","Save image":"儲存圖片","Upload Images":"上傳圖片","Replace Images with Blogger":"上傳圖片到Blogger","Table":"表格","Inser Table":"插入表格","red color & underline":"紅色與底線","italic":"斜體","sup":"上標","sub":"下標","strikethrough":"刪除線","comment":"註解","Heading 5":"標題5","Heading 6":"標題6","OCR":"識別文字","Recognize text and append on image":"辨識文字並添增到圖片上","Blogger Editor":"Blogger Editor"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(254);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en-US":{"Config Manager":"Config Manager"},"zh-TW":{"Config Manager":"設定","Backup URL":"備份網址","Restore":"載入設定","Backup":"下載設定","Backup Manage":"備份管理","Backup Config":"備份設定","Google Analytics":"Google分析","Event Track":"事件記錄","Download":"下載","Production":"生產記錄","Strength":"強度記錄","Download in":"下載","Clear":"清除","days event record.":"天內的事件記錄","Tracking ID":"追蹤碼","How to get Tracking ID?":"如何取得追蹤碼？","Report URL":"報表網址","Realtime Report URL":"即時報表網址","Interface":"介面設定","About":"關於","Contact":"聯絡","Issue":"回報錯誤","Author":"作者","You need reload this page to change language. <br />Do you want to reload?":"重新讀取頁面才能改變語言，你確定要重新讀取嗎？"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(256);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Title":"Publish"},"zh-TW":{"Title":"發佈主控臺","Post Title":"文章標題","Post Labels":"標籤","Blogger Console":"Blogger主控臺","Post Draft URL":"草稿網址","Public URL":"發佈網址","Upload Image":"上傳圖片","Backup":"備份文章","Upload Backup":"上傳備份","Upload Backup to Web":"上傳備份到網站","Copy HTML":"複製HTML程式碼","Drop file to upload":"拖曳檔案到這裡上傳"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(258);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Total spent time is {hour} hours and {minute} minutes":"Total spent time is {hour} hours and {minute} minutes","Total spent time is {hour} hours and {minute} minute":"Total spent time is {hour} hours and {minute} minute","Total spent time is {hour} hour and {minute} minutes":"Total spent time is {hour} hour and {minute} minutes","Total spent time is {hour} hour and {minute} minute":"Total spent time is {hour} hour and {minute} minute","Total spent time is {hour} hours":"Total spent time is {hour} hours","Total spent time is {hour} hour":"Total spent time is {hour} hour","Total spent time is {minute} minutes":"Total spent time is {minute} minutes","Total spent time is {minute} minute":"Total spent time is {minute} minute"},"zh-TW":{"word":"字","words":"字","picture":"圖","pictures":"圖","table":"表格","tables":"表格","iframe":"內嵌網頁","iframes":"內嵌網頁","Total spent time is {hour} hours and {minute} minutes":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hours and {minute} minute":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hour and {minute} minutes":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hour and {minute} minute":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hours":"現在總共花費了{hour}小時","Total spent time is {hour} hour":"現在總共花費了{hour}小時","Total spent time is {minute} minutes":"現在總共花費了{minute}分鐘","Total spent time is {minute} minute":"現在總共花費了{minute}分鐘"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(260);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(262);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Config":"Config","Total spent time is {hour} hours and {minute} minutes":"Total spent time is {hour} hours and {minute} minutes","Total spent time is {hour} hours and {minute} minute":"Total spent time is {hour} hours and {minute} minute","Total spent time is {hour} hour and {minute} minutes":"Total spent time is {hour} hour and {minute} minutes","Total spent time is {hour} hour and {minute} minute":"Total spent time is {hour} hour and {minute} minute","Total spent time is {hour} hours":"Total spent time is {hour} hours","Total spent time is {hour} hour":"Total spent time is {hour} hour","Total spent time is {minute} minutes":"Total spent time is {minute} minutes","Total spent time is {minute} minute":"Total spent time is {minute} minute"},"zh-TW":{"Publish":"發佈","Post":"文章","Theme":"主題","Editor":"編輯器","Config":"設定","word":"字","words":"字","picture":"圖","pictures":"圖","Insert Tools":"插入工具","More Spliter":"更多分隔線","Snippet":"預設範本","Iframe":"Iframe","File":"檔案","Code":"程式碼","Open Google Photo":"開啟Google相簿","Google Docs Links":"Google文件連結","OneDrive Links":"OneDrive檔案連結","Format Tools":"格式工具","Download Cover Template":"下載圖片範本","Upload Images to Blogger":"上傳圖片到Blogger","Clean Code":"清理程式碼","Copy Code":"複製程式碼","Resize Original":"圖片設為原始尺寸","Resize Thumbnail":"圖片設為縮圖尺寸","Reload Page":"重新讀取","Total spent time is {hour} hours and {minute} minutes":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hours and {minute} minute":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hour and {minute} minutes":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hour and {minute} minute":"現在總共花費了{hour}小時{minute}分鐘","Total spent time is {hour} hours":"現在總共花費了{hour}小時","Total spent time is {hour} hour":"現在總共花費了{hour}小時","Total spent time is {minute} minutes":"現在總共花費了{minute}分鐘","Total spent time is {minute} minute":"現在總共花費了{minute}分鐘"}}'),delete t.options._Ctor}},function(t,e,i){var n=i(264);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(266);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Config":"Config"},"zh-TW":{}}'),delete t.options._Ctor}},function(t,e,i){var n=i(268);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(270);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,a);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Config":"Config"},"zh-TW":{"Publish":"發佈","Post":"文章","Theme":"主題","Editor":"編輯器","Config":"設定","word":"字","words":"字"}}'),delete t.options._Ctor}},function(t,e,i){"use strict";e.a={pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo","CTRL+S":"DelayForceExec","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+M":"comment","CTRL+ALT+M":"uncomment","CTRL+ALT+H":"htmlify","ALT+X":"SaveSnippet","ALT+S":"ReadAloud","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","SHIFT+TAB":"outdent",TAB:"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show","CTRL+L":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+M":"comment","CMD+SHIFT+X":"SaveSnippet","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}}},,,function(t,e,i){"use strict";i.r(e);var n=i(65),a=i(67);var s={"en-US":{button:"Button",URL:"URL"},"zh-TW":{button:"按鈕","Drop file to upload":"拖曳檔案至此上傳",Close:"關閉",Language:"操作介面語系",URL:"網址",Insert:"插入",INSERT:"插入",Open:"開啟",OPEN:"開啟",Setting:"設定","Filter...":"篩選...",NEW:"新增",EDIT:"編輯",DELETE:"刪除",Cancel:"取消",Yes:"是",No:"否",OK:"確認"}},o=i(129),r=i(13),l=i.n(r);n.a.use(o.a),n.a.use(a.a);let c={getLocalStorage:function(t,e){return localStorage.getItem(t)?localStorage.getItem(t):void 0!==e?e:void 0},getLocalStorageInt:function(t,e){return localStorage.getItem(t)?parseInt(localStorage.getItem(t),10):void 0!==e?parseInt(e,10):void 0},getLocalStorageNumber:function(t,e){return localStorage.getItem(t)?Number(localStorage.getItem(t)):void 0!==e?Number(e):void 0},mountLocalStorage:function(t,e,i){let n=this.mergeKey(t,e);if(localStorage.getItem(n))try{t[e]=localStorage.getItem(n)}catch(t){console.log(t),localStorage.removeItem(n)}else void 0!==i&&(t[e]=i)},mountLocalStorageJSON:function(t,e,i){let n=this.mergeKey(t,e);if(localStorage.getItem(n))try{t[e]=JSON.parse(localStorage.getItem(n))}catch(t){console.log(t),localStorage.removeItem(n)}else void 0!==i&&(t[e]=i)},mountLocalStorageInt:function(t,e,i){let n=this.mergeKey(t,e);if(localStorage.getItem(n))try{t[e]=parseInt(localStorage.getItem(n),10)}catch(t){console.trace(t),localStorage.removeItem(n)}else void 0!==i&&(t[e]=parseInt(i,10))},mountLocalStorageNumber:function(t,e,i){let n=this.mergeKey(t,e);if(localStorage.getItem(n))try{t[e]=Number(localStorage.getItem(n))}catch(t){console.trace(t),localStorage.removeItem(n)}else void 0!==i&&(t[e]=Number(i))},mountLocalStorageBoolean:function(t,e,i){let n=this.mergeKey(t,e);if(localStorage.getItem(n))try{let i=localStorage.getItem(n).toLowerCase();t[e]="true"===i}catch(t){console.log(t),localStorage.removeItem(n)}else void 0!==i&&(t[e]=parseInt(i,10))},mergeKey:function(t,e){return"string"==typeof t.name&&(e=t.name+"."+e),e},persistLocalStorage:function(t,e){let i=this.mergeKey(t,e),n=t[e];"object"==typeof n&&(n=JSON.stringify(n)),localStorage[i]=n},_vueIdCount:0,_vueContainer:null,_i18nConfig:null,_getI18nConfig:function(){if(null===this._i18nConfig){let t=I18nHelper.locale();this._i18nConfig=new a.a({locale:t,messages:s,silentTranslationWarn:!0})}return this._i18nConfig},init:function(t,e,i){if("object"==typeof t&&(i=e,e=t,t="vue_sfc_"+this._vueIdCount,this._vueIdCount++),null===this._vueContainer&&(this._vueContainer=l()('<div class="non-invasive-web-style-framework"></div>').appendTo("body")),this._vueContainer.append(`<div id="${t}"></div>`),"function"==typeof i)if("function"==typeof e.created){let t=e.created;e.created=function(){i(this),t.call(this)}}else e.created=function(){i(this)};new n.a({el:"#"+t,i18n:this._getI18nConfig(),render:t=>t(e)})}};window.VueHelper=c;e.default=c},,function(t,e,i){"use strict";var n=i(18),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(21),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(23),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(25),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(27),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(29),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(31),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(33),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(35),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(37),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(39),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(41),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(43),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(45),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(47),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(49),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(51),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(53),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(56),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(59),a=i.n(n);e.default=a.a},function(t,e,i){"use strict";var n=i(62),a=i.n(n);e.default=a.a},,,,,,,,,function(t,e){FileSystemHelper={type:window.PERSISTENT,quota:1024*ConfigHelper.get("quotaInMB")*1024,fs:null,currentBaseUrl:null,init:function(t){window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;let e=e=>{window.requestFileSystem(this.type,e,e=>this.onInitFs(e,t),t=>this.errorHandler(t))};this.type===window.TEMPORARY?e(this.quota):navigator.webkitPersistentStorage.requestQuota(this.quota,t=>{e(t)},(function(t){console.log("Error",t)}))},onInitFs:function(t,e){this.fs=t,FunctionHelper.triggerCallback(e)},errorHandler:function(t){if(void 0===t.code)return;let e=`Error code: ${t.code}<br />\nName: ${t.name}<br />\nMessage: ${t.message}`;WindowHelper.alert(e),console.trace("FileSystem error: "+t.message)},createDir:function(t,e,i){"string"==typeof e&&(e=e.split("/"));for(;"."===e[0]||""===e[0];){if(!(e.length>1))return FunctionHelper.triggerCallback(i);e=e.slice(1)}t.getDirectory(e[0],{create:!0},t=>{e.length?this.createDir(t,e.slice(1),i):FunctionHelper.triggerCallback(i)},t=>{console.log(["createDir",e]),this.errorHandler(t)})},removeDir:function(t,e){if(!1===InitHelper.ready)return void console.log("wait init ready");this.fs.root.getDirectory(t,{},(function(t){t.removeRecursively((function(){FunctionHelper.triggerCallback(e)}),e)}),e)},writeFromString:function(t,e,i){if(!1===InitHelper.ready)return void console.log("wait init ready");let n=this.fs;!1===t.startsWith("/")&&(t="/"+t);let a=a=>{let s=t.slice(0,t.lastIndexOf("/")+1).trim();this.isExists(s,o=>{!1===o?this.createDir(n.root,s.split("/"),()=>{this.writeFromString(t,e,i)}):this.isExists(t,n=>{!0===n?this.remove(t,()=>{this.writeFromString(t,e,i)}):this.errorHandler(a)})})};n.root.getFile(t,{create:!0,exclusive:!0},n=>{n.createWriter(n=>{n.onwriteend=e=>{console.log("Write completed: "+t),FunctionHelper.triggerCallback(i,this.getFileSystemUrl(t))},n.onerror=e=>{FunctionHelper.triggerCallback(i,this.getFileSystemUrl(t))},n.write(new Blob([e]))},a)},a)},writeFromBase64:function(t,e,i){if(!1===InitHelper.ready)return void console.log("wait init ready");let n=this.fs;!1===t.startsWith("/")&&(t="/"+t);let a=a=>{let s=t.slice(0,t.lastIndexOf("/")+1).trim();this.isExists(s,o=>{!1===o?this.createDir(n.root,s.split("/"),()=>{this.writeFromString(t,e,i)}):this.isExists(t,n=>{!0===n?this.remove(t,()=>{this.writeFromString(t,e,i)}):this.errorHandler(a)})})};n.root.getFile(t,{create:!0,exclusive:!0},n=>{n.createWriter(async a=>{a.onwriteend=e=>{console.log("Write completed: "+t),FunctionHelper.triggerCallback(i,n.toURL())},a.onerror=e=>{console.log("Write failed: "+t+": "+e.toString()),FunctionHelper.triggerCallback(i,n.toURL())};let s=await(await fetch(e)).blob();a.write(s)},a)},a)},b64toBlob:function(t,e,i,n){t.startsWith("data:")&&t.indexOf(";base64,")>0&&(i=t.slice(5,t.indexOf(";base64,")),t=t.slice(t.indexOf(";base64,")+8)),i=i||"",n=n||512;for(var a=atob(t),s=[],o=0;o<a.length;o+=n){for(var r=a.slice(o,o+n),l=new Array(r.length),c=0;c<r.length;c++)l[c]=r.charCodeAt(c);var d=new Uint8Array(l);s.push(d)}return new File(s,e,{type:i})},isPlainText:function(t){return t.endsWith(".txt")||t.endsWith(".html")||t.endsWith(".htm")||t.endsWith(".xhtml")||t.endsWith(".xml")||t.endsWith(".json")},read:function(t,e){let i=this.fs;t=this.resolveFileSystemUrl(t);let n=t=>{8===t.code?FunctionHelper.triggerCallback(e):this.errorHandler(t)};i.root.getFile(t,{},i=>{i.file(i=>{let n=new FileReader;n.onloadend=function(t){"function"==typeof e&&e(this.result)},this.isPlainText(t)?n.readAsText(i):n.readAsDataURL(i)},n)},n)},writeFromFile:function(t,e,i,n){if(!1===InitHelper.ready)return void console.log("wait init ready");if("function"==typeof i&&(n=i,i=null),"string"==typeof e.name)return void this.writeFromFile(t,[e],i,t=>{"function"==typeof n&&n(t[0])});let a=this.fs,s=t=>{this.errorHandler(t)};this.createDir(a.root,t,()=>{let o=[],r=l=>{if(l<e.length){let n,c=e[l];null===i&&(i=c.name),i=FileHelper.extractSafeFilename(i),n=t+i;let d=n.slice(0,n.lastIndexOf(".")),u=n.slice(n.lastIndexOf(".")),p=0,h=t=>{a.root.getFile(t,{create:!0,exclusive:!0},(function(t){t.createWriter((function(e){e.write(c);let i=t.toURL();o.push(i),l++,r(l)}),s)}),e=>{13===e.code?(p++,h(t=d+"_"+p+u)):this.errorHandler(e)})};h(n)}else"function"==typeof n&&n(o)};r(0)})},remove:function(t,e){if(!1===InitHelper.ready)return void console.log("wait init ready");let i=this.fs,n=t=>{this.errorHandler(t.message),FunctionHelper.triggerCallback(e)};i.root.getFile(t,{create:!1},(function(t){t.remove((function(){FunctionHelper.triggerCallback(e)}),n)}),n)},getFileName:function(t){return t.lastIndexOf("/")>-1&&(t=t.slice(t.lastIndexOf("/")+1)),t=FileHelper.extractSafeFilename(t)},isExists:function(t,e){if("/"===t)return FunctionHelper.triggerCallback(e,!0);let i=this.fs,n=n=>{i.root.getDirectory(t,{create:!1},t=>{FunctionHelper.triggerCallback(e,!0)},()=>{FunctionHelper.triggerCallback(e,!1)})};i.root.getFile(t,{},(function(t){t.file((function(t){FunctionHelper.triggerCallback(e,!0)}),n)}),n)},getFileSystemUrl:function(t){let e="temporary";return this.type!==window.TEMPORARY&&(e="persistent"),!1===t.startsWith("/")&&(t="/"+t),"filesystem:"+location.protocol+"//"+location.host+"/"+e+t},resolveFileSystemUrl:function(t){if(t.startsWith("filesystem:")){let e=t.split("/");t="/"+e.slice(4).join("/")}return t=decodeURIComponent(t)},readEventFilesText:function(t,e){let i=!0;"string"==typeof t.name&&(t=[t],i=!1);let n=[],a=0,s=new FileReader;s.onload=function(t){let e=t.target.result;n.push(e),a++,o(a)};let o=a=>{if(a<t.length){let e=t[a];s.readAsText(e)}else!1===i&&(n=n[0]),FunctionHelper.triggerCallback(e,n)};o(a)},stripAssetFileSystemPrefix:function(t){return null!==t&&"string"==typeof t&&t.startsWith("filesystem:")&&-1!==t.lastIndexOf("/assets/")?t.slice(t.lastIndexOf("/assets/")+1):t},appendAssetFileSystemPrefix:function(t,e){if("string"!=typeof t)return"";if(t.startsWith(location.href)&&(t=t.slice(location.href.length)),t.startsWith("#"))return t;if(null===this.currentBaseUrl){let t=location.href;this.currentBaseUrl=t.slice(0,t.lastIndexOf("/")+1)}return!1===t.startsWith(this.currentBaseUrl)&&(t.startsWith("//")||t.startsWith("http://")||t.startsWith("https://"))?t:(t=`/${e}/${t=t.slice(t.lastIndexOf("/assets/")+1)}`,this.getFileSystemUrl(t))},statsticQuotaUsage:function(t){let e=navigator.webkitTemporaryStorage;this.type===window.PERSISTENT&&(e=navigator.webkitPersistentStorage),e.queryUsageAndQuota((e,i)=>{FunctionHelper.triggerCallback(t,e,i)})},list:function(t,e){let i=this.fs,n=i=>{8===i.code?(console.log("list not found: "+t),FunctionHelper.triggerCallback(e)):this.errorHandler(i)},a=[];i.root.getDirectory(t,{},(function(t){t.createReader().readEntries((function(t){for(var i=0;i<t.length;i++){var n=t[i];n.isFile&&a.push(n.fullPath)}FunctionHelper.triggerCallback(e,a)}),n)}),n)},copy:function(t,e,i){let n=this.fs;t=this.resolveFileSystemUrl(t);let a=(e=this.resolveFileSystemUrl(e)).slice(0,e.lastIndexOf("/")),s=e.slice(e.lastIndexOf("/")+1),o=t=>{8===t.code?FunctionHelper.triggerCallback(i):this.errorHandler(t)};n.root.getFile(t,{},t=>{n.root.getDirectory(a,{create:!0},e=>{t.copyTo(e,s,i,o)})},o)},move:function(t,e,i){let n=this.fs;t=this.resolveFileSystemUrl(t);let a=(e=this.resolveFileSystemUrl(e)).slice(0,e.lastIndexOf("/")),s=e.slice(e.lastIndexOf("/")+1),o=t=>{8===t.code?FunctionHelper.triggerCallback(i):this.errorHandler(t)};n.root.getFile(t,{},t=>{n.root.getDirectory(a,{create:!0},e=>{t.moveTo(e,s,i,o)})},o)},getURLScreenshot(t,e){let i=$v.ConfigManager.apiKeysURLScreenshot;if(""===i)return"https://i.ibb.co/Qpm8Qpw/6-Ways-to-Fix-Configuration-System-Failed-to-Initialize-in-Windows.jpg";let n=encodeURIComponent(e),a=i+"?url="+n,s=n;for(s.indexOf("://")>-1&&(s=s.slice(s.indexOf("://")+3)),s=s.replace(/[\W]/g,"-");s.indexOf("--")>-1;)s=s.replace(/--/g,"-");return s.startsWith("-")&&(s=s.slice(1)),s.endsWith("-")&&(s=s.slice(0,-1)),s.length>30&&(s=s.slice(0,10)+"-"+s.slice(-10)+(new Date).getTime()),t.endsWith("/")&&(t=t.slice(0,-1)),new Promise(e=>{$.getJSON(a,async i=>{let n=i.output;this.writeFromBase64(t+"/"+s+".png",n,t=>{e(t)})})})}}},function(t,e,i){(function(t){var e;e=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=18)}([,,function(t,e,i){"use strict";function n(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function a(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function s(t,e){this.__indent_cache=new a(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new n(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}n.prototype.clone_empty=function(){var t=new n(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},n.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},n.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},n.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},n.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},n.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},n.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},n.prototype.is_empty=function(){return 0===this.__items.length},n.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},n.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},n.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},n.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},n.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},n.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},n.prototype.toString=function(){var t="";return this.is_empty()||(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},a.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),i+=t*this.__indent_size,i+=e},a.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=""),e+=t*this.__indent_size,this.__ensure_cache(e),i+=this.__cache[e]},a.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},a.prototype.__add_column=function(){var t=this.__cache.length,e=0,i="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(" ")),this.__cache.push(i)},s.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},s.prototype.get_line_number=function(){return this.__lines.length},s.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},s.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},s.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},s.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},s.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join("\n");return"\n"!==t&&(i=i.replace(/[\n]/g,t)),i},s.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},s.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},s.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},s.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},s.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},s.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},s.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},s.prototype.just_added_newline=function(){return this.current_line.is_empty()},s.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},s.prototype.ensure_empty_line_above=function(t,e){for(var i=this.__lines.length-2;i>=0;){var a=this.__lines[i];if(a.is_empty())break;if(0!==a.item(0).indexOf(t)&&a.item(-1)!==e){this.__lines.splice(i+1,0,new n(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},t.exports.Output=s},function(t,e,i){"use strict";t.exports.Token=function(t,e,i,n){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(t,e,i){"use strict";function n(t,e){this.raw_options=a(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char"))}function a(t,e){var i,n={};for(i in t=s(t))i!==e&&(n[i]=t[i]);if(e&&t[e])for(i in t[e])n[i]=t[e][i];return n}function s(t){var e,i={};for(e in t)i[e.replace(/-/g,"_")]=t[e];return i}n.prototype._get_array=function(t,e){var i=this.raw_options[t],n=e||[];return"object"==typeof i?null!==i&&"function"==typeof i.concat&&(n=i.concat()):"string"==typeof i&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n},n.prototype._get_boolean=function(t,e){var i=this.raw_options[t];return void 0===i?!!e:!!i},n.prototype._get_characters=function(t,e){var i=this.raw_options[t],n=e||"";return"string"==typeof i&&(n=i.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},n.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var n=parseInt(i,10);return isNaN(n)&&(n=e),n},n.prototype._get_selection=function(t,e,i){var n=this._get_selection_list(t,e,i);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return n[0]},n.prototype._get_selection_list=function(t,e,i){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error("Invalid Default Value!");var n=this._get_array(t,i);if(!this._is_valid_selection(n,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return n},n.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=n,t.exports.normalizeOpts=s,t.exports.mergeOpts=a},,function(t,e,i){"use strict";var n=RegExp.prototype.hasOwnProperty("sticky");function a(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}a.prototype.restart=function(){this.__position=0},a.prototype.back=function(){this.__position>0&&(this.__position-=1)},a.prototype.hasNext=function(){return this.__position<this.__input_length},a.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},a.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},a.prototype.__match=function(t,e){t.lastIndex=e;var i=t.exec(this.__input);return!i||n&&t.sticky||i.index!==e&&(i=null),i},a.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},a.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,null!==i&&t.test(i)},a.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},a.prototype.read=function(t,e,i){var n,a="";return t&&(n=this.match(t))&&(a+=n[0]),!e||!n&&t||(a+=this.readUntil(e,i)),a},a.prototype.readUntil=function(t,e){var i,n=this.__position;t.lastIndex=this.__position;var a=t.exec(this.__input);return a?(n=a.index,e&&(n+=a[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i},a.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},a.prototype.get_regexp=function(t,e){var i=null,a="g";return e&&n&&(a="y"),"string"==typeof t&&""!==t?i=new RegExp(t,a):t&&(i=new RegExp(t.source,a)),i},a.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},a.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i},a.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=a},function(t,e,i){"use strict";var n=i(8).InputScanner,a=i(3).Token,s=i(10).TokenStream,o=i(11).WhitespacePattern,r={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new n(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new s,this._reset();for(var e=new a(r.START,""),i=null,n=[],o=new s;e.type!==r.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)o.add(t),t=this._get_next_token(e,i);o.isEmpty()||(t.comments_before=o,o=new s),t.parent=i,this._is_opening(t)?(n.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=n.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(r.RAW,i):this._create_token(r.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){return new a(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=r},function(t,e,i){"use strict";function n(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}n.prototype.restart=function(){this.__position=0},n.prototype.isEmpty=function(){return 0===this.__tokens_length},n.prototype.hasNext=function(){return this.__position<this.__tokens_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},n.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=n},function(t,e,i){"use strict";var n=i(12).Pattern;function a(t,e){n.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}a.prototype=new n,a.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},a.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},a.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i},a.prototype._create=function(){return new a(this._input,this)},a.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,n=[],a=t.exec(e);a;)n.push(e.substring(i,a.index)),i=a.index+a[0].length,a=t.exec(e);return i<e.length?n.push(e.substring(i,e.length)):n.push(""),n},t.exports.WhitespacePattern=a},function(t,e,i){"use strict";function n(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}n.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},n.prototype.read_match=function(){return this._input.match(this._match_pattern)},n.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},n.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},n.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},n.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){},t.exports.Pattern=n},function(t,e,i){"use strict";function n(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}n.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e},n.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=n},function(t,e,i){"use strict";var n=i(12).Pattern,a={django:!1,erb:!1,handlebars:!1,php:!1};function s(t,e){n.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},a),this._excluded=Object.assign({},a),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new n(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/)}}s.prototype=new n,s.prototype._create=function(){return new s(this._input,this)},s.prototype._update=function(){this.__set_templated_pattern()},s.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},s.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},s.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},s.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},s.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var i=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==i||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==i||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())));return t},t.exports.TemplatablePattern=s},,,,function(t,e,i){"use strict";var n=i(19).Beautifier,a=i(20).Options;t.exports=function(t,e,i,a){return new n(t,e,i,a).beautify()},t.exports.defaultOptions=function(){return new a}},function(t,e,i){"use strict";var n=i(20).Options,a=i(2).Output,s=i(21).Tokenizer,o=i(21).TOKEN,r=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,c=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new a(t,e)};c.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},c.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},c.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},c.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},c.prototype.print_preserved_newlines=function(t){var e=0;t.type!==o.TEXT&&t.previous.type!==o.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return 0!==e},c.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines||(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),0))},c.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},c.prototype.print_newline=function(t){this._output.add_new_line(t)},c.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},c.prototype.indent=function(){this.indent_level++},c.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?"":this._output.get_indent_string(t)};var d=function(t,e){var i=null,n=null;return e.closed?("script"===t?i="text/javascript":"style"===t&&(i="text/css"),(i=function(t){for(var e=null,i=t.next;i.type!==o.EOF&&t.closed!==i;){if(i.type===o.ATTRIBUTE&&"type"===i.text){i.next&&i.next.type===o.EQUALS&&i.next.next&&i.next.next.type===o.VALUE&&(e=i.next.next.text);break}i=i.next}return e}(e)||i).search("text/css")>-1?n="css":i.search(/(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function u(t,e){return-1!==e.indexOf(t)}function p(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=i||0,this.parser_token=e||null}function h(t){this._printer=t,this._current_frame=null}function g(t,e,i,a){this._source_text=t||"",e=e||{},this._js_beautify=i,this._css_beautify=a,this._tag_stack=null;var s=new n(e,"html");this._options=s,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}h.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},h.prototype.record_tag=function(t){var e=new p(this._current_frame,t,this._printer.indent_level);this._current_frame=e},h.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},h.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&-1===t.indexOf(i.tag);){if(e&&-1!==e.indexOf(i.tag)){i=null;break}i=i.parent}return i},h.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)},h.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},g.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&r.test(t)&&(e=t.match(r)[0]));var i=(t=t.replace(l,"\n")).match(/^[\t ]*/)[0],n={text:"",type:""},a=new m,d=new c(this._options,i),u=new s(t,this._options).tokenize();this._tag_stack=new h(d);for(var p=null,g=u.next();g.type!==o.EOF;)g.type===o.TAG_OPEN||g.type===o.COMMENT?a=p=this._handle_tag_open(d,g,a,n):g.type===o.ATTRIBUTE||g.type===o.EQUALS||g.type===o.VALUE||g.type===o.TEXT&&!a.tag_complete?p=this._handle_inside_tag(d,g,a,u):g.type===o.TAG_CLOSE?p=this._handle_tag_close(d,g,a):g.type===o.TEXT?p=this._handle_text(d,g,a):d.add_raw_token(g),n=p,g=u.next();return d._output.get_code(e)},g.prototype._handle_tag_close=function(t,e,i){var n={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),i.is_unformatted?t.add_raw_token(e):("<"===i.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(t.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||t.set_wrap_point(),n},g.prototype._handle_inside_tag=function(t,e,i,n){var a=i.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),i.is_unformatted)t.add_raw_token(e);else if("{"===i.tag_start_char&&e.type===o.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===o.ATTRIBUTE?(t.set_space_before_token(!0),i.attr_count+=1):(e.type===o.EQUALS||e.type===o.VALUE&&e.previous.type===o.EQUALS)&&t.set_space_before_token(!1),e.type===o.ATTRIBUTE&&"<"===i.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),a=a||0!==e.newlines),this._is_wrap_attributes_force)){var r=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===i.attr_count){var l,c=!0,d=0;do{if((l=n.peek(d)).type===o.ATTRIBUTE){c=!1;break}d+=1}while(d<4&&l.type!==o.EOF&&l.type!==o.TAG_CLOSE);r=!c}r&&(t.print_newline(!1),a=!0)}t.print_token(e),a=a||t.previous_token_wrapped(),i.has_wrapped_attrs=a}return s},g.prototype._handle_text=function(t,e,i){var n={text:e.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),n},g.prototype._print_custom_beatifier_text=function(t,e,i){var n=this;if(""!==e.text){t.print_newline(!1);var a,s=e.text,o=1;"javascript"===i.custom_beautifier_name&&"function"==typeof this._js_beautify?a=this._js_beautify:"css"===i.custom_beautifier_name&&"function"==typeof this._css_beautify?a=this._css_beautify:"html"===i.custom_beautifier_name&&(a=function(t,e){return new g(t,e,n._js_beautify,n._css_beautify).beautify()}),"keep"===this._options.indent_scripts?o=0:"separate"===this._options.indent_scripts&&(o=-t.indent_level);var r=t.get_full_indent(o);if(s=s.replace(/\n[ \t]*$/,""),a){var l=function(){this.eol="\n"};l.prototype=this._options.raw_options,s=a(r+s,new l)}else{var c=e.whitespace_before;c&&(s=s.replace(new RegExp("\n("+c+")?","g"),"\n")),s=r+s.replace(/\n/g,"\n"+r)}s&&(e.text=s,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},g.prototype._handle_tag_open=function(t,e,i,n){var a=this._get_tag_open_token(e);return(i.is_unformatted||i.is_content_unformatted)&&e.type===o.TAG_OPEN&&0===e.text.indexOf("</")?t.add_raw_token(e):(t.traverse_whitespace(e),this._set_tag_position(t,e,a,i,n),a.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(a.alignment_size=e.text.length+1),a.tag_complete||a.is_unformatted||(t.alignment_size=a.alignment_size),a};var m=function(t,e){var i;this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e?(this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(i=e.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=e.text.match(/^{{[#\^]?([^\s}]+)/),this.tag_check=i?i[1]:""),this.tag_check=this.tag_check.toLowerCase(),e.type===o.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};g.prototype._get_tag_open_token=function(t){var e=new m(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||u(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&u(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&u(e.tag_check,this._options.content_unformatted),e.is_inline_element=u(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},g.prototype._set_tag_position=function(t,e,i,n,a){i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||(i.parent&&(i.parent.multiline_content=!0),t.print_newline(!1))),this._tag_stack.record_tag(i),"script"!==i.tag_name&&"style"!==i.tag_name||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=d(i.tag_check,e)))),u(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element?("{"===i.tag_start_char&&"else"===i.tag_check&&(this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1)),"!--"===i.tag_name&&a.type===o.TAG_CLOSE&&n.is_end_tag&&-1===i.text.indexOf("\n")||i.is_inline_element||i.is_unformatted||t.print_newline(!1)):i.is_unformatted||i.is_content_unformatted?i.is_inline_element||i.is_unformatted||t.print_newline(!1):i.is_end_tag?(i.start_tag_token&&i.start_tag_token.multiline_content||!(i.is_inline_element||n.is_inline_element||a.type===o.TAG_CLOSE&&i.start_tag_token===n||"TK_CONTENT"===a.type))&&t.print_newline(!1):(i.indent_content=!i.custom_beautifier_name,"<"===i.tag_start_char&&("html"===i.tag_name?i.indent_content=this._options.indent_inner_html:"head"===i.tag_name?i.indent_content=this._options.indent_head_inner_html:"body"===i.tag_name&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||"TK_CONTENT"===a.type||(i.parent&&(i.parent.multiline_content=!0),t.print_newline(!1)))},g.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent)return"body"===t.tag_name?e=e||this._tag_stack.try_pop("head"):"li"===t.tag_name?e=e||this._tag_stack.try_pop("li",["ol","ul"]):"dd"===t.tag_name||"dt"===t.tag_name?e=(e=e||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):"rp"===t.tag_name||"rt"===t.tag_name?e=(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===t.tag_name?e=e||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?e=e||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===t.tag_name||"tfoot"===t.tag_name?e=(e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===t.tag_name?e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==t.tag_name&&"td"!==t.tag_name||(e=(e=e||this._tag_stack.try_pop("td",["tr"]))||this._tag_stack.try_pop("th",["tr"])),t.parent=this._tag_stack.get_parser_token(),e},t.exports.Beautifier=g},function(t,e,i){"use strict";var n=i(6).Options;function a(t){n.call(this,t,"html"),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}a.prototype=new n,t.exports.Options=a},function(t,e,i){"use strict";var n=i(9).Tokenizer,a=i(9).TOKEN,s=i(13).Directives,o=i(14).TemplatablePattern,r=i(12).Pattern,l={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:a.START,RAW:a.RAW,EOF:a.EOF},c=new s(/<\!--/,/-->/),d=function(t,e){n.call(this,t,e),this._current_tag_name="";var i=new o(this._input),a=new r(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =\/>]/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:a.starting_with(/{{!--/).until_after(/--}}/),handlebars:a.starting_with(/{{/).until_after(/}}/),handlebars_open:a.until(/[\n\r\t }]/),handlebars_raw_close:a.until(/}}/),comment:a.starting_with(/<!--/).until_after(/-->/),cdata:a.starting_with(/<!\[cdata\[/).until_after(/]]>/),conditional_comment:a.starting_with(/<!\[/).until_after(/]>/),processing:a.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=a.matching(s).until_after(s)}};(d.prototype=new n)._is_comment=function(t){return!1},d.prototype._is_opening=function(t){return t.type===l.TAG_OPEN},d.prototype._is_closing=function(t,e){return t.type===l.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},d.prototype._reset=function(){this._current_tag_name=""},d.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(l.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=i||this._read_open_handlebars(n,e))||this._read_attribute(n,t,e))||this._read_raw_content(t,e))||this._read_close(n,e))||this._read_content_word(n))||this._read_comment(n))||this._read_open(n,e))||this._create_token(l.UNKNOWN,this._input.next())},d.prototype._read_comment=function(t){var e=null,i=null,n=null;if("<"===t){var a=this._input.peek(1);"<"!==t||"!"!==a&&"?"!==a||((i=this.__patterns.comment.read())?(n=c.get_directives(i))&&"start"===n.ignore&&(i+=c.readIgnored(this._input)):i=(i=(i=this.__patterns.cdata.read())||this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((e=this._create_token(l.COMMENT,i)).directives=n)}return e},d.prototype._read_open=function(t,e){var i=null,n=null;return e||"<"===t&&(i=this._input.next(),"/"===this._input.peek()&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(l.TAG_OPEN,i)),n},d.prototype._read_open_handlebars=function(t,e){var i=null,n=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(i=(i=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(l.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(l.TAG_OPEN,i))),n},d.prototype._read_close=function(t,e){var i=null,n=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(i=this._input.next(),"/"===t&&(i+=this._input.next()),n=this._create_token(l.TAG_CLOSE,i)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(l.TAG_CLOSE,"}}"))),n},d.prototype._read_attribute=function(t,e,i){var n=null,a="";if(i&&"<"===i.text[0])if("="===t)n=this._create_token(l.EQUALS,this._input.next());else if('"'===t||"'"===t){var s=this._input.next();s+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(l.VALUE,s)}else(a=this.__patterns.attribute.read())&&(n=e.type===l.EQUALS?this._create_token(l.VALUE,a):this._create_token(l.ATTRIBUTE,a));return n},d.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&("script"===t||"style"===t||-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},d.prototype._read_raw_content=function(t,e){var i="";if(e&&"{"===e.text[0])i=this.__patterns.handlebars_raw_close.read();else if(t.type===l.TAG_CLOSE&&"<"===t.opened.text[0]){var n=t.opened.text.substr(1).toLowerCase();this._is_content_unformatted(n)&&(i=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig")))}return i?this._create_token(l.TEXT,i):null},d.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(l.TEXT,e)},t.exports.Tokenizer=d,t.exports.TOKEN=l}]),"undefined"!=typeof window?window.html_beautify=function(t,i){return e(t,i,window.js_beautify,window.css_beautify)}:void 0!==t&&(t.html_beautify=function(i,n){return e(i,n,t.js_beautify,t.css_beautify)})}).call(this,i(11))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(4);let a={blockList:["li","p","h1","h2","h3","h4","h5","h6","h7"],moveDown:[13,48,34],moveUp:[38,33],FieldPostBody:null,toolbar:null,toolbarHeight:null,config:function(t){return{onInit:()=>{FunctionHelper.triggerCallback(t)},onImageUpload:t=>{n.a.insertFromButton(t)},onDrop:t=>{this.onDrop(t)},onPaste:t=>{this.onPaste(t)},onChange:t=>{$v.EditorManager.FieldPostBody.onChange(t)},onKeyup:t=>{this.enableScrollPositionToCenterKeyCodes.indexOf(t.keyCode)>-1&&this.scrollPositionToCenter(t)},onInput:t=>{this.scrollPositionToCenter(t)},onHandleKeyMap:(t,e,i)=>{GoogleAnalyticsHelper.send("SummerNoteCallbacks.onHandleKeyMap",{keys:e,eventName:i})}}},enableScrollPositionToCenterKeyCodes:[37,38,39,40,13,32,33,34],scrollPositionToCenter:function(t){null===this.FieldPostBody&&(this.FieldPostBody=$v.EditorManager.FieldPostBody),null===this.toolbarHeight&&(this.toolbar=$(".summernotePostBody-wrapper .note-toolbar"),this.toolbarHeight=this.toolbar.height(),window.addEventListener("resize",()=>{this.toolbarHeight=this.toolbar.height()}));{let t,e=this.FieldPostBody.getCurrentPosition();if(void 0!==e&&(t=e.top),void 0===t)return!1;if(t<500||window.innerHeight<480)return!1;let i=(window.innerHeight-this.toolbarHeight)/10;t>window.scrollY+window.innerHeight-i&&window.scrollBy({top:i,behavior:"smooth"}),t<window.scrollY+this.toolbarHeight+i&&window.scrollBy({top:-1*i,behavior:"smooth"})}},onDrop:function(t){let e=i=>{if(i<t.length){let a=t[i];n.a.insertImageFromDrop(a,()=>{i++,setTimeout(()=>{e(i)},1)})}};e(0)},onPaste:function(t){let e=t.originalEvent.clipboardData.items;for(var i=0;i<e.length;i++)if("file"===e[i].kind&&e[i].type.startsWith("image/")){let a=e[i].getAsFile();n.a.insertImageFromPaste(a),t.preventDefault();break}}};e.a=a},function(t,e,i){"use strict";var n=i(1),a=i(4),s=i(5);var o={IframePrompt:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="plus square outline icon"></i>'+t("Iframe")),s=t("Insert iframe");return n.a.buildButton("IframePrompt",a,s,()=>{$v.IframePrompt.open()},i)},FileUploader:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="upload icon"></i>'+t("Upload File")),s=t("Upload file and insert links");return n.a.buildButton("FileUploader",a,s,()=>{$v.FileUploader.open()},i)},CodeInserter:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="code icon"></i>'),s=t("Insert Code");return n.a.buildButton("CodeInserter",a,s,()=>{$v.CodeInserter.open()},i)},CodeInserterOption:function(t,e,i=!0,a=!0){let s='<i class="code icon"></i>';a&&(s+=t("Code")),s=SemanticUIHelper.wrapNIWSF(s);let o=t("Insert Code");return n.a.buildButton("CodeInserterOption",s,o,()=>{$v.CodeInserter.open()},i)},MarkdownImporter:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="clipboard outline icon"></i>'),s=t("Import MD");return n.a.buildButton("MarkdownImporter",a,s,()=>{$v.MarkdownImporter.open()},i)},MarkdownImporterOption:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="clipboard outline icon"></i>'+t("Import MD")),s=t("Import MD");return n.a.buildButton("MarkdownImporterOption",a,s,()=>{$v.MarkdownImporter.open()},i)},OutlineNavigator:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="sitemap icon"></i>'),s=t("Outline Navigation");return n.a.buildButton("OutlineNavigator",a,s,()=>{$v.OutlineNavigator.toggle()},i)},SnippetInserter:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="quote left icon"></i>'+t("Snippet")),s=t("Insert Snippet");return n.a.buildButton("SnippetInserter",a,s,()=>{$v.SnippetInserter.open()},i)},GoogleDocsLinkBuilder:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="google icon"></i>'+t("Google Docs Links")),s=t("Open Google Docs Links Builder");return n.a.buildButton("GoogleDocsLinkBuilder",a,s,()=>{$v.GoogleDocLinkBuilder.open()},i)},OneDriveLinkBuilder:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="linkify icon"></i>'+t("OneDrive Links")),s=t("Open OneDrive Link Builder");return n.a.buildButton("OneDrive",a,s,()=>{WindowHelper.forcePopup("https://blog.pulipuli.info/2019/02/onedrive-onedrive-file-download-link.html#postcataonedrive-onedrive-file-download-link.html0_anchor3","OneDriveDownload")},i)},openCoverBuilder:function(t,e,i,a=!0){let s='<i class="id badge outline icon"></i>';a&&(s+=t("Cover Builder")),s=SemanticUIHelper.wrapNIWSF(s);let o=t("Open Cover Builder");return n.a.buildButton("CoverBuilder",s,o,()=>{WindowHelper.forcePopup("https://pulipulichen.github.io/PWA-Blog-Cover-Builder/#/","PWA-Blog-Cover-Builder")},i)},GooglePhoto:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="image icon"></i>'+t("Google Photo")),s=t("Open Google Photo");return n.a.buildButton("GooglePhoto",a,s,()=>{WindowHelper.forcePopup("https://photos.google.com/?hl=zh-TW","googlePhoto")},i)},PhotoRepository:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="image icon"></i>'+t("Photo Repository")),s=t("Open Photo Repository");return n.a.buildButton("GooglePhoto",a,s,()=>{WindowHelper.forcePopup($v.EditorManager.PhotoRepository,"photo-repository-draft")},i)},insertHR:function(t,e,i=!0,a=!0){let s='<i class="note-icon-minus icon"></i>';a&&(s+=t("Horizontal Rule")),s=SemanticUIHelper.wrapNIWSF(s);let o=t("Horizontal Rule");return n.a.buildButton("insertHorizontalRule",s,o,()=>{$v.EditorManager.FieldPostBody.get().summernote("insertHorizontalRule")},i)},insertVideo:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="note-icon-video icon"></i>'+t("Video")),s=t("Video");return n.a.buildButton("insertVideo",a,s,()=>{$v.EditorManager.FieldPostBody.get().summernote("videoDialog.show")},i)},insertTable:function(t,e,i){let n=$.summernote.ui,a=$.summernote.options,s=n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents('<i class="note-icon-table icon"></i>',a),tooltip:t("Inser Table"),data:{toggle:"dropdown"}}),n.dropdown({title:t("Table"),className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){let e;t.find(".note-dimension-picker-mousecatcher").css({width:"10em",height:"10em"}).mousedown((function(){void 0===e&&(e=$(".note-dimension-picker-mousecatcher:visible"));let t=e.parent().next().text();$v.EditorManager.FieldPostBody.get().summernote("editor.insertTable",t)})).mousemove((function(t){$v.EditorManager.FieldPostBody.get().summernote("buttons.tableMoveHandler",t)}))}});return!0===i&&void 0!==i||s.render(),s},insertIframe:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="linkify icon"></i>'+t("Iframe")),s=t("Insert iframe");return n.a.buildButton("insertIframe",a,s,()=>{$v.EditorManager.FieldPostBody.get().summernote("iframeDialog.show")},i)},DelayForceExec:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="save icon"></i>'+t("Save")),s=t("Save");return n.a.buildButton("DelayForceExec",a,s,t=>{$v.EditorManager.SaveIndicator.save()},i)},ReloadPage:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="redo icon"></i>'+t("Reload")),s=t("Reload");return n.a.buildButton("ReloadPage",a,s,()=>{DelayExecHelper.forceExec(()=>{location.reload()})},i)},transSelected:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="language icon"></i>'+t("Trans")),s=t("Translate Selected");return n.a.buildButton("transSelected",a,s,()=>{let t=$v.EditorManager.FieldPostBody.getSelectText();t=encodeURI(t);let e="https://translate.google.com/#view=home&op=translate&sl=auto&tl=auto&text="+t;WindowHelper.popup(e)},i)},toggleMenu:function(t,e,i){let a=SemanticUIHelper.wrapNIWSF('<i class="bars icon"></i>'),s=t("Toggle Menu");return n.a.buildButton("toggleMenu",a,s,()=>{$v.NavBar.toggle()},i)},downloadImageTemplate:function(t,e,i){let s=SemanticUIHelper.wrapNIWSF('<i class="image icon"></i> Cover Template');return n.a.buildButton("downloadImageTemplate",s,"Download Cover Template",()=>{a.a.downloadImageTamplateClick()},i)},insertGroup:function(t,e){return n.a.buildDropdownButtonsGroup(e,t("Insert"),t("Insert Tools"),[this.MarkdownImporterOption(t,e,!1),this.openCoverBuilder(t,e,!1),s.a.insertMore(t,e,!1),this.insertHR(t,e,!1),this.CodeInserterOption(t,e,!1),this.insertVideo(t,e,!1),this.SnippetInserter(t,e,!1),this.transSelected(t,e,!1),this.PhotoRepository(t,e,!1),this.insertIframe(t,e,!1),this.FileUploader(t,e,!1),this.GoogleDocsLinkBuilder(t,e,!1),this.OneDriveLinkBuilder(t,e,!1)])},formatGroup:function(t,e){return n.a.buildDropdownButtonsGroup(e,t("Format"),t("Format Tools"),[a.a.downloadImageTamplate(t,e,!1),a.a.downloadAnnotationTamplate(t,e,!1),a.a.ImageReplacer(t,e,!1),s.a.CopyCode(t,e,!1),s.a.CleanCode(t,e,!1),a.a.imageSizeOriginal(t,e,!1),a.a.imageSizeThumbnail(t,e,!1)])}},r=i(14);let l={config:function(t){return{CopyHTML:e=>s.a.CopyCode(t,e),ImageReplacer:e=>a.a.ImageReplacer(t,e),IframePrompt:e=>o.IframePrompt(t,e),FileUploader:e=>o.FileUploader(t,e),CodeInserter:e=>o.CodeInserter(t,e),MarkdownImporter:e=>o.MarkdownImporter(t,e),OutlineNavigator:e=>o.OutlineNavigator(t,e),SnippetInserter:e=>o.SnippetInserter(t,e,!0),DelayForceExec:e=>o.DelayForceExec(t,e,!0),ReloadPage:e=>o.ReloadPage(t,e,!0),imageSizeOriginal:e=>a.a.imageSizeOriginal(t,e),imageSizeThumbnail:e=>a.a.imageSizeThumbnail(t,e),insertMore:e=>s.a.insertMore(t,e),transSelected:e=>o.transSelected(t,e),downloadImageTemplate:e=>a.a.downloadImageTamplate(t,e),CleanCode:e=>s.a.CleanCode(t,e),SaveSnippet:e=>s.a.SaveSnippet(t,e),toggleMenu:e=>o.toggleMenu(t,e),insertTable:e=>o.insertTable(t,e),ReadAloud:e=>r.a.ReadAloud(t,e),ReadAloudSpeedGroup:e=>r.a.ReadAloudSpeedGroup(t,e),popoverImageSizeOriginal:e=>a.a.popoverImageSizeOriginal(t,e),popoverImageSizeDefault:e=>a.a.popoverImageSizeDefault(t,e),popoverImageSave:e=>a.a.popoverImageSave(t,e),popoverImageOpen:e=>a.a.popoverImageOpen(t,e),popoverImageOCR:e=>a.a.popoverImageOCR(t,e),insertGroup:e=>o.insertGroup(t,e),buttonOpenCoverBuilder:e=>o.openCoverBuilder(t,e,!0,!1),buttonInsertMore:e=>s.a.insertMore(t,e,!0,!1),buttonInsertHR:e=>o.insertHR(t,e,!0,!1),buttonInsertCode:e=>o.CodeInserterOption(t,e,!0,!1),formatGroup:e=>o.formatGroup(t,e)}}};e.a=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);let n={ready:!1,onInit:function(t){EventManager.trigger(this,"initFinish"),FunctionHelper.triggerCallback(t)},init:function(t){$(()=>{let e=[t=>{$v.PageLoader.open(),SemanticUIHelper.initDrop(),t()},t=>{WebSQLDatabaseHelper.init(t)},t=>{$v.NavBar.init(t)},t=>{$v.StatisticIndicator.init(t)},t=>{$v.BrowserDetector.init(t)},t=>{FileSystemHelper.init(t)},t=>{$v.PostManager.init(t)},t=>{$v.ThemeManager.init(t)},t=>{$v.EditorManager.init(t)},t=>{DelayExecHelper.init(),t()},t=>{ScrollHelper.load(),t()}],i=n=>{if(n<e.length){(0,e[n])(()=>{n++,i(n)})}else setTimeout(()=>{$v.PageLoader.close(),this.ready=!0,this.onInit(t)},1e3)};i(0)})},reload:function(t){$v.PageLoader.open(),$v.EditorManager.save(()=>{$v.ThemeManager.reload(()=>{$v.EditorManager.reload(()=>{$v.PageLoader.close(),FunctionHelper.triggerCallback(t)})})})}};window.InitHelper=n,e.default=n},function(t,e,i){"use strict";i.r(e);const n=i(190),a=i(191);let s={get:function(t,e){return void 0!==a.default[t]?a.default[t]:void 0!==n.default[t]?n.default[t]:e},lang:function(){return VueHelper.getLocalStorage("ConfigManager.locale",this.get("locale"))}};window.ConfigHelper=s,e.default=s},function(t,e,i){"use strict";i.r(e);e.default={locale:"auto",localeOptions:["auto","en-US","zh-TW"],defaultTheme:"default",uploadImageDraft:"",quotaInMB:100,enableOCRMemoryThresholdMB:40,scrollUpShowMenu:!1,showReload:!1,debug:{disableThemeManager:!1,disableEditorManager:!1,disableConfigManager:!1,disablePublishManager:!1,disableSummerNode:!1,disableImageReplacer:!1,disableTemplateBuilder:!1,disableIframePrompt:!1,disableFileUploader:!1,disableCodeInserter:!1,disableMarkdownImporter:!1,disableOutlineNavigator:!1,disableSnippetInserter:!1,disableSaveIndicator:!1,disableGoogleDocLinkBuilder:!1},FileUploader:{links:[{name:"GitHub",uploadURL:"https://github.com/"},{name:"Google Drive",uploadURL:"https://drive.google.com/drive/u/0/"},{name:"One Drive",uploadURL:"https://onedrive.live.com"},{name:"Mega",uploadURL:"https://mega.nz/"},{name:"Box",uploadURL:"https://app.box.com/folder/0"},{name:"MediaFire",uploadURL:"http://www.mediafire.com/myfiles.php"},{name:"SlideShare",uploadURL:"https://slideshare.net/upload"}]}}},function(t,e,i){"use strict";i.r(e);e.default={defaultTheme:"blog.pulipuli.info"}},,function(t,e,i){"use strict";i.r(e);let n={locale:function(){let t=VueHelper.getLocalStorage("ConfigManager.locale",ConfigHelper.get("locale"));return"auto"===t&&(t=navigator.language||navigator.userLanguage),t}};window.I18nHelper=n,e.default=n},function(t,e){FunctionHelper={triggerCallback:function(t,...e){"function"==typeof t&&t.apply(this,e)}}},function(t,e){CopyPasteHelper={copyPlainText:function(t){var e;null===(e=document.getElementById("puliClipboardInput"))&&((e=document.createElement("textarea")).id="puliClipboardInput",document.body.appendChild(e));e.value=t,e.style="display: block; position: absolute; top: -1000px; left: -1000px;",e.select(),document.execCommand("copy"),e.style="display: none"},copyRichFormatListener:function(t,e){t.clipboardData.setData("text/html",e),t.clipboardData.setData("text/plain",e),t.preventDefault()},copyRichFormat:function(t){document.addEventListener("copy",e=>{this.copyRichFormatListener(e,t)}),document.execCommand("copy"),document.removeEventListener("copy",e=>{this.copyRichFormatListener(e,t)})}}},function(t,e,i){"use strict";i.r(e);let n={db:null,init:function(t){if(null===this.db){let t="bloggerEditor",e="1.0",i="Database for posts stroages",n=5242880;this.db=window.openDatabase(t,e,i,n)}FunctionHelper.triggerCallback(t)},exec:function(t,e,i){"function"==typeof e&&(i=e,e=[]),this.init(()=>{this.db.transaction(n=>{"function"==typeof i?n.executeSql(t,e,(t,e)=>{let n=e.rows;try{"number"==typeof e.insertId&&(n=e.insertId)}catch(t){}if("number"==typeof n.length){let t=[];for(let e=0;e<n.length;e++)t.push(n.item(e));n=t}FunctionHelper.triggerCallback(i,n)},(t,e)=>{this.errorHandler(e)}):n.executeSql(t,e,()=>{},(t,e)=>{this.errorHandler(e)})})})},errorHandler:function(t,e){WindowHelper.errorHandler(t),console.trace("WebSQLDatabaseHelper error: "+e),console.log(t)}};window.WebSQLDatabaseHelper=n,e.default=n},function(t,e,i){"use strict";i.r(e);let n={timers:{},limitTimers:{},events:{},forceWaiting:[],exec:function(t,e,i,n){return this.foreExec(t,e,i,n)},foreExec:function(t,e,i,n){!1!==InitHelper.ready&&(this.showIndicator(),this.backExec(t,e,i,n))},backExec:function(t,e,i,n){!1!==InitHelper.ready&&(void 0===n&&"function"==typeof i&&(n=i,i=void 0),"function"==typeof n&&(void 0!==this.timers[t]&&null!==this.timers[t]&&clearTimeout(this.timers[t]),this.events[t]=n,this.timers[t]=setTimeout(()=>{this.doEvent(t)},1e3*e),"number"==typeof i&&null===this.limitTimers[t]&&(this.limitTimers[t]=setTimeout(()=>{this.doEvent(t)},1e3*i))))},doEvent:function(t){this.events[t](),clearTimeout(this.timers[t]),this.timers[t]=null,clearTimeout(this.limitTimers[t]),this.limitTimers[t]=null,!1===this.isWaiting()&&this.hideIndicator()},forceExec:function(t){for(let t in this.timers)null!==this.timers[t]&&(this.events[t](),clearTimeout(this.timers[t]),this.timers[t]=null);if(0===this.forceWaiting.length&&this.hideIndicator(),"function"==typeof t){let e=()=>{setTimeout(()=>{this.isWaiting()?e():t()},1e3)};e()}},clear:function(){for(let t in this.timers)null!==this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=null)},isWaiting:function(t){if(this.forceWaiting.length>0)return!0;if(void 0===t){for(t in this.timers)if(null!==this.timers[t])return!0;return!1}return null!==this.timers[t]},showIndicator:function(t){null!==$v.EditorManager.SaveIndicator&&($v.EditorManager.SaveIndicator.open(),!0===t&&$v.EditorManager.SaveIndicator.lock())},hideIndicator:function(t){null!==$v.EditorManager.SaveIndicator&&(!0===t&&$v.EditorManager.SaveIndicator.unlock(),$v.EditorManager.SaveIndicator.close())},init:function(){window.addEventListener("blur",()=>{this.forceExec()})},addForceWaiting:function(t){return-1===this.forceWaiting.indexOf(t)&&this.forceWaiting.push(t),this.forceWaiting.length>0&&this.showIndicator(!0),this},removeForceWaiting:function(t){this.forceWaiting.indexOf(t)>-1&&(this.forceWaiting=this.forceWaiting.filter(e=>e!==t)),0===this.forceWaiting.length&&this.hideIndicator(!0)}};window.DelayExecHelper=n,e.default=n},function(t,e){WindowHelper={popup:function(t,e,i,n,a){if("string"!=typeof t||t.length<2)return;if(ElectronHelper.isElectronEnvironment())return void ipc.send("open-url-in-browser",t);void 0===a&&("boolean"==typeof n?a=n:"boolean"==typeof i&&(a=i)),void 0===a&&(a=!1),"number"==typeof e&&void 0===n&&(n=i,i=e,e="_blank"),void 0===e&&(e="_blank"),void 0===i&&(i=window.screen.availWidth),void 0===n&&(n=window.screen.availHeight);let s,o=Math.ceil((window.screen.availWidth-i)/2),r=`width=${i},height=${n},top=${Math.ceil((window.screen.availHeight-n)/2)},left=${o},toolbar=0,menubar=0,location=0`;if(!1===a&&this.isRunningStandalone()&&(r=void 0),!1===t.startsWith("filesystem:")){if(s=window.open(t,e,r),null===s)return void this.alert("Please allow popup.");window.focus&&null!==s&&s.focus()}else{if(s=window.open("",e,r),null===s)return void this.alert("Please allow popup.");(t.endsWith(".html")||t.endsWith(".css")||t.endsWith(".json"))&&$.get(t,t=>{s.document.write(t),window.focus&&null!==s&&s.focus()}),(t.endsWith(".jpg")||t.endsWith(".png")||t.endsWith(".jpeg")||t.endsWith(".gif")||t.endsWith(".svg"))&&FileSystemHelper.read(t,e=>{let i=$(s.document);0===i.find("body img").length&&i.find("body").css("margin",0).append("<img />"),i.find("body img").attr("src",e),s.document.title=decodeURIComponent(t.slice(t.lastIndexOf("/")+1)),window.focus&&null!==s&&s.focus()})}return s},forcePopup:function(t,e,i,n){return this.popup(t,e,i,n,!0)},confirm:function(t,e,i){$v.WindowConfirm.open(t,e,i)},alert:function(t,e){$v.WindowAlert.open(t,e)},errorHandler:function(t){let e=`Error code: ${t.code}<br />\nName: ${t.name}<br />\nMessage: ${t.message}`;WindowHelper.alert(e)},isRunningStandalone:()=>window.matchMedia("(display-mode: standalone)").matches}},function(t,e,i){"use strict";i.r(e);var n=i(9),a=i.n(n),s=i(130),o=i.n(s);a.a.extend(o.a);let r={nowFormat:function(t){return void 0===t&&(t="YYYY-MMDD-HHmmss"),a()(new Date).utcOffset(480).format(t)},nowMMDDFormat:function(t){return void 0===t&&(t="MMDD-HHmmss"),a()(new Date).utcOffset(480).format(t)},nowMMDDHHmmFormat:function(t){return void 0===t&&(t="MMDD-HHmm"),a()(new Date).utcOffset(480).format(t)},nowHHMMSSFormat:function(t){return void 0===t&&(t="HHmmss"),a()(new Date).utcOffset(480).format(t)},unix:function(){return a()(new Date).utcOffset(480).unix()},postDate:function(t){return void 0===t?t=new Date:t*=1e3,a()(t).utcOffset(480).format("MM/DD HH:mm")},format:function(t,e){return"string"==typeof t?(e=t,t=new Date):t*=1e3,a()(t).utcOffset(480).format(e)},timeSpentDisplay:function(t){let e=Math.round(t/60),i=0;e>=60&&(i=Math.round(e/60),e%=60);let n=e;return e<10&&(n="0"+e),n=i+":"+n,n}};window.DayjsHelper=r,e.default=r},function(t,e,i){"use strict";i.r(e);let n={openTab:function(t){if("object"==typeof t.srcElement&&(t=t.srcElement),(t=$(t)).hasClass("active"))return;let e=t.attr("data-tab"),i=t.parents(".menu:first"),n=i.parent();i.find(".item.active").removeClass("active"),t.addClass("active"),n.children(`.tab[data-tab="${e}"]`).show(),n.children(`.tab[data-tab!="${e}"]`).hide()},initDrop:function(){let t=$(document),e=$("body");t.on("dragenter",t=>{t.preventDefault(),t.stopPropagation(),e.addClass("dragover")}),t.on("dragover",t=>{t.preventDefault(),t.stopPropagation()}),t.on("drop",t=>(t.preventDefault(),t.stopPropagation(),e.removeClass("dragover"),!1)),t.on("dragleave",t=>{0!==t.clientX&&0!==t.clientY||e.removeClass("dragover")})},wrapNIWSF:function(t){return`<span class="non-invasive-web-style-framework">${t}</span>`}};window.SemanticUIHelper=n,e.default=n},function(t,e,i){"use strict";i.r(e);var n=i(6),a=i.n(n),s=(i(10),i(7));let o={download:function(t,e){"string"!=typeof e&&(e=t.slice(t.lastIndexOf("/")+1));let i=document.createElement("a");i.download=e,i.href=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)},save:function(t,e){let i=new Blob([t]);return Object(s.saveAs)(i,e),this},triggerInput:function(t){$(t.target).parent().children("input:file:first").click()},readZip:function(t,e,i){return a.a.loadAsync(t).then(t=>{let n=[];t.forEach(t=>{if(t.endsWith("/"))return!1;n.push(t)});let a=s=>{if(s<n.length){let i=n[s],o=i.slice(i.lastIndexOf("/")+1),r=t.files[i],l="blob";(o.endsWith(".html")||o.endsWith(".css")||o.endsWith(".htm")||o.endsWith(".json")||o.endsWith(".txt"))&&(l="string"),r.async(l).then(t=>{FunctionHelper.triggerCallback(e,{filename:o,path:i,content:t,content:t},()=>{s++,a(s)})})}else FunctionHelper.triggerCallback(i)};a(0)}),this},extractSafeFilename:function(t,e,i){let n=t.trim().match(/[\w\-\.]+/g);n=null!==n?n.map(t=>t):[];let a="";for(let t=0;t<n.length&&(""!==a&&(a+="_"),a+=n[t].trim(),!("number"==typeof e&&a.length>e));t++);"number"==typeof i&&a.length>i&&(a=a.slice(0,i).trim());let s=a.slice(0,a.lastIndexOf("."));return""===s.trim()&&(s=DayjsHelper.nowFormat(),a=s+a.slice(a.lastIndexOf("."))),a},saveCSV:function(t,e){if(!1===Array.isArray(t)||0===t.length)return!1;let i=[],n=t[0];for(let t in n)t.indexOf('"')&&(t=t.split('"').join('\\"')),i.push(`"${t}"`);let a=[i.join(",")];return t.forEach(t=>{let e=[];for(let i in t){let n=t[i];"string"!=typeof n&&(n=JSON.stringify(n)),"string"!=typeof n&&(n=""),n.indexOf('"')&&(n=n.split('"').join('\\"')),n.indexOf(",")&&(n=n.split(",").join("\\,")),e.push(`"${n}"`)}a.push(e.join(","))}),!1===e.endsWith(".csv")&&(e+=".csv"),this.save(a.join("\n"),e)}};window.FileHelper=o,e.default=o},,,,,function(t,e,i){"use strict";i.r(e);let n={key:"ScrollHelper.position",window:null,save:function(){this.init();let t=this.window.scrollTop();localStorage.setItem(this.key,t)},load:function(){this.init();let t=localStorage.getItem(this.key);if(void 0===t)return!1;t=parseInt(t,10),this.window.scrollTop(t)},init:function(){if(null===this.window){this.window=$(window);let t=()=>{DelayExecHelper.backExec(this.key,1,10,()=>{this.save()})};this.window.scroll(()=>{t()})}}};window.ScrollHelper=n,e.default=n},function(t,e,i){"use strict";i.r(e);let n={key:"_events",defaultEventType:"_default",init:function(t){if("object"!=typeof t)throw"EventManager's first argument should be an object.";return"object"!=typeof t[this.key]&&(t[this.key]={}),t},on:function(t,e,i){return Array.isArray(e)?(e.forEach(e=>{this.on(t,e,i)}),this):(this.init(t),"string"!=typeof e&&(e=this.defaultEventType),!1===Array.isArray(t[this.key][e])&&(t[this.key][e]=[]),t[this.key][e].push(i),t)},listen:function(t,e,i){return this.on(t,e,i)},trigger:function(t,e){return Array.isArray(e)?(e.forEach(e=>{this.trigger(t,e)}),this):(this.init(t),"string"!=typeof e&&(e=this.defaultEventType),!1===Array.isArray(t[this.key][e])&&(t[this.key][e]=[]),t[this.key][e].forEach(e=>{"function"==typeof e&&e(t)}),t)},call:function(t,e){return this.trigger(t,e)},clear:function(t,e){return this.init(t),"string"!=typeof e&&(e=this.defaultEventType),t[this.key][e]=[],t}};window.EventManager=n,e.default=n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);const uuidv4=__webpack_require__(209);let GoogleAnalyticsHelper={trackingId:null,uuid:null,resetUUID:!0,init:function(t){let e=$v.ConfigManager.googleAnalyticsTrackingId.trim();e!==this.trackingId&&(ga("create",e),ga("send","pageview"),this.trackingId=e,this.initUUID()),this.databaseCreateTable(()=>{FunctionHelper.triggerCallback(t)})},databaseCreateTable:function(t){return WebSQLDatabaseHelper.exec("Create Table if not exists eventTrack\n          (id INTEGER PRIMARY KEY, \n           unix INTEGER, \n           uuid TEXT, \n           postID INTEGER, \n           category TEXT,\n           action TEXT)",t),this},databaseReset:function(t){return WebSQLDatabaseHelper.exec("DROP TABLE eventTrack",t),this},databaseInsert:function(t,e,i){"string"!=typeof t&&(t=JSON.stringify(t)),"string"!=typeof e&&(e=JSON.stringify(e));let n=[DayjsHelper.unix(),this.uuid,$v.PostManager.editingPostId,t,e];return WebSQLDatabaseHelper.exec("insert into \n            eventTrack(unix, uuid, postId, category, action) \n            values(?,?,?,?,?)",n,i),this},getDayLimitWhere:function(dayLimit){if("string"==typeof dayLimit&&(dayLimit.indexOf(".")>-1?eval("dayLimit = "+dayLimit):dayLimit=parseInt(dayLimit,10)),"number"==typeof dayLimit){let t=DayjsHelper.unix(),e=t-1e3*dayLimit*60*24;return"unix > "+e}},databaseSelect:function(t,e){if("function"==typeof t&&(e=t,t=void 0),"function"!=typeof e)return this;let i="select uuid, unix, category, action from eventTrack",n=this.getDayLimitWhere(t);return void 0!==n?i+=` where ${n} and postId = ${$v.PostManager.editingPostId}`:i=i+" where postId = "+$v.PostManager.editingPostId,WebSQLDatabaseHelper.exec(i,e),this},databaseSelectProduction:function(t,e){if("function"==typeof t&&(e=t,t=void 0),"function"!=typeof e)return this;let i="select uuid, unix, postId, category, action from eventTrack",n=this.getDayLimitWhere(t);return void 0!==n?i+=` where ${n} and category = 'FieldPostBody.onChange' and postId = ${$v.PostManager.editingPostId}`:i=i+" where category = 'FieldPostBody.onChange' and postId = "+$v.PostManager.editingPostId,WebSQLDatabaseHelper.exec(i,e),this},databaseSelectStrength:function(t,e){if("function"==typeof t&&(e=t,t=void 0),"function"!=typeof e)return this;let i="select DISTINCT unix from eventTrack",n=this.getDayLimitWhere(t);return void 0!==n?i+=` where ${n} and postId = ${$v.PostManager.editingPostId}`:i=i+" where postId = "+$v.PostManager.editingPostId,WebSQLDatabaseHelper.exec(i,e),this},initUUID:function(){null===this.uuid&&(!1===this.resetUUID?(this.uuid=localStorage.getItem("GoogleAnalyticsHelper.uuid"),null===this.uuid&&(this.uuid=uuidv4()+"-"+DayjsHelper.nowFormat(),localStorage.setItem("GoogleAnalyticsHelper.uuid",this.uuid))):this.uuid=uuidv4()+"-"+DayjsHelper.nowFormat())},send:function(t,e){this.init(()=>{if(this.databaseInsert(t,e),e=this.filterEventValue(t,e),"string"!=typeof this.trackingId||!1===this.trackingId.startsWith("UA-"))return!1;let i={eventCategory:this.uuid,eventAction:e};ga("send","event",i)})},filterEventValue:function(t,e){return null==e?e="":"object"==typeof e&&(e=JSON.stringify(e)),e=[DayjsHelper.nowHHMMSSFormat(),t,e].join("→")}};window.GoogleAnalyticsHelper=GoogleAnalyticsHelper,__webpack_exports__.default=GoogleAnalyticsHelper},,,,function(t,e,i){"use strict";i.r(e);let n={worker:null,init:function(t){return null===this.worker?(this.worker=new Tesseract.TesseractWorker({workerPath:"./static/tesseract/worker.min.js",corePath:"./static/tesseract/tesseract-core.wasm.js"}),EventManager.on($v.EditorManager,"OCRImageLangChanged",()=>{this.worker=null}),this.getMemoryUsedPercent(),FunctionHelper.triggerCallback(t)):FunctionHelper.triggerCallback(t),this},isAttachedToDOM:function(t){return t instanceof HTMLElement==!1&&(t=t[0]),document==t||Boolean(16&document.compareDocumentPosition(t))},recognize:function(t,e){return void 0===t||"string"!=typeof t&&!1===this.isAttachedToDOM(t)?(console.log("image is not found"),FunctionHelper.triggerCallback(e,""),this):("function"==typeof t.attr&&(t=t[0]),t instanceof HTMLElement?(FileSystemHelper.read(t.src,t=>{this.recognize(t,e)}),this):this.init(()=>{let i,n=!1,a=()=>{i=setTimeout(()=>{!1===n&&(delete this.worker,this.worker=null),this.retry++,this.retry<4?(this.getMemoryUsedPercent(),console.log(`OCR is not finish. Retry ${this.retry} now.`),setTimeout(()=>{this.recognize(t,e)},3e3)):(this.getMemoryUsedPercent(),console.log("OCR is not finish."),FunctionHelper.triggerCallback(e,""))},1e4)},s=()=>{clearTimeout(i)},o=$v.EditorManager.OCRImageLang;try{a(),this.worker.recognize(t,o).progress(t=>{n=!0,s(),a(),this.getMemoryUsedPercent(),console.log("progress",t)}).then(t=>{s(),FunctionHelper.triggerCallback(e,t.text)}).catch(t=>{console.log(t),s(),FunctionHelper.triggerCallback(e,"")})}catch(t){console.error(t),s(),FunctionHelper.triggerCallback(e,"")}}))},list:[],retry:0,push:function(t,e){this.list.push({image:t,callback:e}),this.loop()},isLoopNow:!1,memoryPercentLimit:.05,loop:function(){if(this.list.length>0){if(this.getMemoryUsedPercent()>this.memoryPercentLimit)return console.log("memory is occupied, we will do OCR later."),this.worker=null,void setTimeout(()=>{this.loop()},3e3);if(!0===this.isLoopNow)return;this.isLoopNow=!0;let t=this.list.shift();this.retry=0,this.recognize(t.image,e=>{"function"==typeof t.callback&&t.callback(e),this.isLoopNow=!1,setTimeout(()=>{this.loop()},1e3)})}else this.isLoopNow=!1},getMemoryUsedPercent:function(){let t=window.performance.memory,e=t.jsHeapSizeLimit,i=t.usedJSHeapSize,n=i/e;return console.log(["memory used",i,e,n]),n}};window.TesseractHelper=n,e.default=n},function(t,e,i){"use strict";i.r(e);let n={isURL:function(t){return t.startsWith("http://")&&t.length>15||t.startsWith("https://")&&t.length>15||t.startsWith("//")&&t.length>10||t.startsWith("#")&&t.length>2}};window.URLHelper=n,e.default=n},function(t,e,i){"use strict";var n=i(15);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".ui.basic.modal[data-v-0e17d6c8]{height:10rem;cursor:wait}.page-loader>.text.loader[data-v-0e17d6c8]{user-select:none}",""])},function(t,e,i){"use strict";var n=i(16);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".ui.header[data-v-2b1a4ef6]{padding-left:0!important;padding-right:0!important;font-size:2rem!important}.actions[data-v-2b1a4ef6],.ui.header[data-v-2b1a4ef6]{text-align:center!important}.actions>.ui.button[data-v-2b1a4ef6]{margin-left:0!important;margin-right:0!important}.message[data-v-2b1a4ef6]{max-height:calc(100vh - 8em);overflow-x:hidden;overflow-y:auto}",""])},function(t,e,i){"use strict";var n=i(17);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".ui.header[data-v-0ca1d8fe]{padding-left:0!important;padding-right:0!important;font-size:2rem!important}.actions[data-v-0ca1d8fe],.ui.header[data-v-0ca1d8fe]{text-align:center!important}.actions>.ui.button[data-v-0ca1d8fe]{margin-right:0!important}.actions>.ui.button[data-v-0ca1d8fe]:first-of-type{margin-left:0!important}",""])},,function(t,e,i){"use strict";var n=i(19);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var n=i(20);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,'.post-list[data-v-4c3b4be1]{max-height:calc(100vh - 21rem);overflow-y:auto}.ui.modal>.content[data-v-4c3b4be1]{max-height:calc(100vh - 8rem)}@media only screen and (max-height:700px){.post-list[data-v-4c3b4be1]{max-height:calc(100vh - 14.5rem)}}.item .header[data-v-4c3b4be1]:hover{text-decoration:underline}.item>.image[data-v-4c3b4be1]{width:120px!important;max-height:200px;overflow-x:hidden;overflow-y:hidden}.item>.content>.description[data-v-4c3b4be1]{word-break:break-all}.post-list>.item.editing[data-v-4c3b4be1]{background-color:#f8ffff}.post-list>.item.editing .abstract[data-v-4c3b4be1]:after,.post-list>.item.editing .header[data-v-4c3b4be1]:after{background:#f8ffff}.item.editing .description[data-v-4c3b4be1],.item.editing .header[data-v-4c3b4be1]{color:#276f86}.post-filter[data-v-4c3b4be1]{width:calc(100% - 6rem)}input[type=file][data-v-4c3b4be1]{display:none}.post-list .item .extra .ui.icon.mini.button>i[data-v-4c3b4be1]{margin:0!important}.ui.right.floated[data-v-4c3b4be1]{clear:both;padding-right:1rem}.abstract[data-v-4c3b4be1]{overflow:hidden;position:relative;line-height:1.5rem;max-height:3rem;text-align:justify;margin-right:-1em;padding-right:1em;max-width:calc(100% - 1rem)}.abstract[data-v-4c3b4be1]:before{content:"...";position:absolute;right:0;bottom:0}.abstract[data-v-4c3b4be1]:after{content:"";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.post-title[data-v-4c3b4be1]{overflow:hidden;position:relative;line-height:2rem;max-height:2rem;text-align:justify;margin-right:-1em;padding-right:1em;max-width:calc(100% - 1rem)}.post-title[data-v-4c3b4be1]:before{content:"...";position:absolute;right:0;bottom:0}.post-title[data-v-4c3b4be1]:after{content:"";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.extra .tag.icon[data-v-4c3b4be1]{margin-left:1rem}',""])},function(t,e,i){"use strict";var n=i(22);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".step.hide[data-v-d9717bfc]{display:none}.fixed-height[data-v-d9717bfc]{min-height:calc(100vh - 16rem)}#rawHTMLtextarea[data-v-d9717bfc]{max-height:inherit;height:calc(100vh - 19rem)}#parsedTemplateTextarea[data-v-d9717bfc]{max-height:inherit;height:calc(100vh - 27rem)}",""])},function(t,e,i){"use strict";var n=i(24);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"input[type=file][data-v-4e92dc05]{display:none}textarea[name=style][data-v-4e92dc05]{min-height:inherit!important;height:calc(100vh - 28rem)!important}",""])},function(t,e,i){"use strict";var n=i(26);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".item[data-v-ff946c40]{margin-bottom:.5rem;clear:both;cursor:pointer!important}.item.pairable[data-v-ff946c40]{cursor:pointer}.item.positive[data-v-ff946c40],.item.selected[data-v-ff946c40]{background-color:#e5f9e7}img[data-v-ff946c40]{max-width:3rem!important;height:auto;max-height:3rem!important;width:auto!important}.uploaded-list[data-v-ff946c40]{max-height:57vh;overflow-y:auto}.uploaded-list img[data-v-ff946c40]{float:left!important;margin-right:.5rem!important}.uploaded-list a.remap.button[data-v-ff946c40]{max-width:calc(100% - 10rem);padding-top:5px;padding-bottom:5px}.post-body-list[data-v-ff946c40]{max-height:40vh;overflow-y:auto}.post-body-list .middle.content[data-v-ff946c40]{display:inline-block!important;width:calc(100% - 10rem)!important}.post-body-list .middle.content span[data-v-ff946c40]{max-width:100%;overflow-y:hidden;text-overflow:ellipsis!important}.no-pairing[data-v-ff946c40]{line-height:2rem}.message[data-v-ff946c40]{text-align:center;height:4rem;max-height:4rem;overflow-y:hidden!important;display:flex!important;justify-content:center;align-items:center;padding-top:.51rem;padding-bottom:.5rem}.message .ui.list[data-v-ff946c40]{margin:0!important}.message .item[data-v-ff946c40]{margin-bottom:0}.message .item .middle.content[data-v-ff946c40]{margin-top:.9rem}.subheader[data-v-ff946c40]{display:block!important;font-weight:400;font-size:90%;margin-top:.2rem}.item-list[data-v-ff946c40]{max-height:calc(100vh - 31rem);overflow-y:auto}.header .filename[data-v-ff946c40]{width:100%;display:inline-block!important;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""])},function(t,e,i){"use strict";var n=i(28);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".step.hide[data-v-6f8e32ca]{display:none}.fixed-height[data-v-6f8e32ca]{min-height:calc(100vh - 18rem)}.ui.modal.ImageReplacer.show[data-v-6f8e32ca]{z-index:2000}#imageHTMLtextarea[data-v-6f8e32ca]{max-height:inherit;height:calc(100vh - 23rem)}.first-filesystem-remained[data-v-6f8e32ca],.last-filesystem-remained[data-v-6f8e32ca]{margin:0 0 1rem!important}.first-filesystem-remained>.statistic[data-v-6f8e32ca]{width:calc(100% - 2rem)}.right.aligned[data-v-6f8e32ca]{text-align:right}.countdown-button.disabled[data-v-6f8e32ca]{cursor:wait!important}",""])},function(t,e,i){"use strict";var n=i(30);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"",""])},,function(t,e,i){"use strict";var n=i(32);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".draggable[data-v-f2330e54]{cursor:grab}.download-list[data-v-f2330e54]{max-height:calc(100vh - 26rem)}.download-list[data-v-f2330e54],.setting-list[data-v-f2330e54]{overflow-y:auto;overflow-x:hidden}.setting-list[data-v-f2330e54]{max-height:calc(100vh - 23rem)}.setting-list i.draggable[data-v-f2330e54]{pointer-events:all!important;cursor:grab!important}.delimiter label[data-v-f2330e54]{margin-top:.5rem;margin-right:.5rem}",""])},function(t,e,i){"use strict";var n=i(34);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"#CodeInserterTextarea[data-v-6af39914]{max-height:inherit;height:calc(100vh - 24rem);min-height:inherit}",""])},function(t,e,i){"use strict";var n=i(36);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".input[data-v-3fd21036]{max-height:inherit!important;height:calc(100vh - 24rem)!important;min-height:inherit!important}",""])},function(t,e,i){"use strict";var n=i(38);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,'.ui.sidebar[data-v-bcd74a94]{visibility:hidden!important}.ui.sidebar.visible[data-v-bcd74a94]{visibility:visible!important;z-index:601}a.item.highlight[data-v-bcd74a94]{background-color:#fffaf3!important}a.item.highlight .heading-text[data-v-bcd74a94]{font-weight:700}a.item.subheading .heading-text[data-v-bcd74a94]:before{content:"\\A";width:5px;height:5px;border-radius:50%;background-color:rgba(0,0,0,.5);display:inline-block;margin-bottom:.25rem;margin-left:5px;margin-right:5px}a.item.comment[data-v-bcd74a94]{padding-left:1rem!important;font-size:.7rem!important;background-color:rgba(217,231,120,.7)!important}a.item.comment .comment-title[data-v-bcd74a94]{color:#999!important}a.item.comment .abstract[data-v-bcd74a94]{overflow:hidden;position:relative!important;line-height:.7rem!important;max-height:2.1rem!important;text-align:justify;margin-right:-1em;padding-right:1em!important;max-width:100%}a.item.comment .abstract[data-v-bcd74a94]:before{content:"...";position:absolute;right:0;bottom:0;color:#999!important}a.item.comment .abstract[data-v-bcd74a94]:after{content:"";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background-color:#e4eea0!important}a.item.null-header[data-v-bcd74a94]{color:#ccc!important}a.item .comments-count[data-v-bcd74a94],a.item .ocr-waiting-count[data-v-bcd74a94]{float:right;font-size:.7rem;padding-right:.1rem;margin-top:.1rem;border:1px dotted #ccc;background-color:#d9e778;color:#8a6d3b;border-radius:4px;margin-left:3px}a.item .ocr-waiting-count[data-v-bcd74a94]{border-color:orange;background-color:#ffde9d;color:purple}a.item[data-v-bcd74a94]{padding-right:.5rem!important;padding-left:0!important}a.item .heading-text[data-v-bcd74a94]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-left:.5rem}a.item.go-to-footer[data-v-bcd74a94],a.item.go-to-top[data-v-bcd74a94]{color:#fff!important;text-align:center;background-color:grey!important}.comments[data-v-bcd74a94]{margin:0!important;display:none}',""])},function(t,e,i){"use strict";var n=i(40);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"textarea[name=snippet][data-v-8e490fc4]{min-height:inherit!important;height:calc(100vh - 24rem)!important;border-radius:0 0 .28571429rem .28571429rem!important}@media (max-height:700px){textarea[name=snippet][data-v-8e490fc4]{height:calc(100vh - 21rem)!important}}.snippets-list .name.content[data-v-8e490fc4]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;user-select:none}.snippets-list .name.content>span.name-content-wrapper[data-v-8e490fc4]{margin-top:.4rem;display:inline-block}.snippets-list .name.content .snippet-name[data-v-8e490fc4]{font-weight:700}.snippets-list .name.content[data-v-8e490fc4]:first-of-type{padding-top:.4em}.snippets-list[data-v-8e490fc4]{max-height:calc(100vh - 21rem);overflow-y:auto;overflow-x:hidden}.radio label[data-v-8e490fc4]{cursor:pointer}.editing-snippet-preview[data-v-8e490fc4]{max-height:calc(100vh - 23rem);overflow-y:auto;border-radius:0 0 .28571429rem .28571429rem!important;border:1px solid #dedfde}div.actions[data-v-8e490fc4]{border-bottom-left-radius:.28571429rem;border-bottom-right-radius:.28571429rem}@media (max-height:700px){.editing-snippet-preview[data-v-8e490fc4]{max-height:calc(100vh - 23rem)}.snippets-list[data-v-8e490fc4]{max-height:calc(100vh - 17.5rem)}}.star.icon[data-v-8e490fc4]{cursor:pointer}",""])},function(t,e,i){"use strict";var n=i(42);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".save-indicator[data-v-d9d10288]{position:fixed;right:1rem;bottom:1rem;transition-duration:0s;opacity:0}.save-indicator.show[data-v-d9d10288]{opacity:1}.save-indicator.locked[data-v-d9d10288]{cursor:wait}.button.disabled[data-v-d9d10288]{cursor:wait!important}body.OutlineNavigator-open .save-indicator[data-v-d9d10288]{right:calc(258px + 1rem)}",""])},function(t,e,i){"use strict";var n=i(44);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".link-item .ui.checkbox label[data-v-0319e0d6]:after,.link-item .ui.checkbox label[data-v-0319e0d6]:before{margin-top:12px}.link-item input[type=url][data-v-0319e0d6]{cursor:text!important;width:100%!important}.link-item .label-input[data-v-0319e0d6]{width:calc(100% - 2rem)!important}.link-item .draggable.field[data-v-0319e0d6]{text-align:right!important}.link-list[data-v-0319e0d6]{max-height:calc(100vh - 26rem);overflow-y:auto;overflow-x:hidden;padding-right:1rem}@media only screen and (max-height:700px){.link-list[data-v-0319e0d6]{max-height:calc(100vh - 20rem)}}.non-invasive-web-style-framework .ui.form .inline.field i.bars.icon.draggable[data-v-0319e0d6]{cursor:grab!important;margin-top:10px!important}",""])},,function(t,e,i){"use strict";var n=i(46);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"textarea.summernote-config-toolbar[data-v-23f9c247]{min-height:inherit!important;height:calc(100vh - 26rem)!important}#summerNoteConfigLabels[data-v-23f9c247]{height:calc(100vh - 27.5rem)!important}input[type=file][data-v-23f9c247]{display:none}.ui.search .results[data-v-23f9c247]{max-height:calc(100vh - 24rem)!important;overflow-y:auto;overflow-x:hidden}.ui.tab[data-tab=toolbar] textarea[data-v-23f9c247]{max-height:inherit!important;height:calc(100vh - 26.5rem)!important}@media only screen and (max-width:767px){.ui.tab[data-tab=toolbar] textarea[data-v-23f9c247]{height:calc(100vh - 35rem)!important;min-height:6rem!important}}@media only screen and (max-height:700px){.ui.tab[data-tab=toolbar] textarea[data-v-23f9c247]{height:calc(100vh - 20rem)!important}#summerNoteConfigLabels[data-v-23f9c247]{height:calc(100vh - 23rem)!important}}",""])},function(t,e,i){"use strict";var n=i(48);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"input[type=file][data-v-78477dc6]{display:none}.ui.modal>.content[data-v-78477dc6]{height:calc(100vh - 18rem);min-height:20rem}.ui.cards .card[data-v-78477dc6]{width:100%!important}.ui.cards .card .extra.content[data-v-78477dc6]{text-align:right}.ui.tab[data-v-78477dc6]{max-height:calc(100vh - 19rem);overflow-y:auto}.ui.tab[data-tab=interface][data-v-78477dc6]{height:calc(100vh - 21rem)}@media only screen and (max-width:846px){.ui.tab[data-v-78477dc6]{max-height:calc(100vh - 20rem)}}@media only screen and (max-height:700px){.ui.tab[data-v-78477dc6]{max-height:calc(100vh - 17rem)}.ui.tab[data-tab=interface][data-v-78477dc6]{height:calc(100vh - 18rem)}}",""])},function(t,e,i){"use strict";var n=i(50);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"input[type=file][data-v-000529f6]{display:none}.dragover-message[data-v-000529f6]{width:100%;height:100%;top:0;left:0;padding-top:calc(30% - 1.5rem)}@media only screen and (max-height:700px){.content[data-v-000529f6]{max-height:calc(100vh - 11rem)!important}}label a[data-v-000529f6]{cursor:pointer;text-decoration:underline;color:#00f}label a.disabled[data-v-000529f6]{cursor:progress;color:grey!important}",""])},function(t,e,i){"use strict";var n=i(52);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".StatisticIndicator[data-v-6547332c]{position:fixed;bottom:0;left:0;background-color:hsla(0,0%,78.4%,.7);padding:.3rem;color:#333;font-size:.7rem;border-radius:0 .5rem 0 0;cursor:default;user-select:none}.StatisticIndicator.hide[data-v-6547332c]{display:none}sub[data-v-6547332c]{margin-right:.2rem;font-size:.5rem}.iframe-count[data-v-6547332c],.image-count[data-v-6547332c],.table-count[data-v-6547332c],.time-spent-display[data-v-6547332c]{margin-left:.2rem}",""])},function(t,e,i){"use strict";var n=i(54);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".ui.left.fixed.vertical.inverted.menu .item.reload-page{margin-top:1rem}.ui.left.fixed.vertical.inverted.menu .item.reload-page span{text-align:right;display:block}",""])},function(t,e,i){"use strict";var n=i(55);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,'.ui.menu[data-v-c1dd8b2c]{position:absolute;top:-1rem;left:0;width:100vw;border-radius:0}.ui.menu>.item>i.icon[data-v-c1dd8b2c]{margin-bottom:-6px}.ui.menu>.item[data-v-c1dd8b2c]{margin-bottom:0}.ui.top.menu.call-fixed[data-v-c1dd8b2c]{position:fixed;z-index:600}.menu.transition.visible[data-v-c1dd8b2c]{z-index:999}.sub-menu-button[data-v-c1dd8b2c]{cursor:pointer}.sub-menu-button>.menu[data-v-c1dd8b2c]{display:none;z-index:999}.sub-menu-button.open-submenu>i.icon[data-v-c1dd8b2c]:before{content:"\\f0d8"}.ui.left.menu .item.word-count[data-v-c1dd8b2c]{text-align:center;font-size:1rem}.ui.menu .item.word-count sub[data-v-c1dd8b2c]{margin-right:.5rem}.item.word-count[data-v-c1dd8b2c]{cursor:default!important}.item .iframe-count[data-v-c1dd8b2c],.item .image-count[data-v-c1dd8b2c],.item .table-count[data-v-c1dd8b2c],.item .time-spent-display[data-v-c1dd8b2c]{margin-left:.5rem}.item.word-count[data-v-c1dd8b2c]:hover{background-color:#1b1c1d!important}@media (max-width:1100px){.topbar .image-count[data-v-c1dd8b2c]{display:none}}@media (max-width:1150px){.topbar .time-spent-display[data-v-c1dd8b2c]{display:none}}',""])},function(t,e,i){"use strict";var n=i(57);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,'.non-invasive-web-style-framework .ui[class*="left fixed"].menu[data-v-79b766a4]{display:none;z-index:605;max-height:100vh;overflow-y:scroll;overflow-x:hidden}.non-invasive-web-style-framework .ui[class*="left fixed"].menu[data-v-79b766a4]  .right.menu{margin-top:1rem;border-top:1px solid #666;padding-top:1rem}.ui.left.vertical.inverted.menu[data-v-79b766a4]{z-index:999}.dimmer[data-v-79b766a4]{display:none;position:fixed;width:100vw;height:100vh;top:0;left:0;z-index:998;background-color:hsla(0,0%,100%,.87);cursor:pointer}',""])},function(t,e,i){"use strict";var n=i(58);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"body.OutlineNavigator-open .ui.left.fixed{left:260px}",""])},function(t,e,i){"use strict";var n=i(60);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".ui.menu[data-v-2aa9a7c5]{position:absolute;top:-1rem;left:0;width:100vw;border-radius:0}.ui.top.menu.prepare-fixed[data-v-2aa9a7c5]{transition-property:top!important;transition-duration:.5s!important;z-index:600;top:calc(-1rem - 55px)}.ui.top.menu.prepare-fixed.call-fixed[data-v-2aa9a7c5],.ui.top.menu.prepare-fixed.upscroll[data-v-2aa9a7c5]{top:-1rem!important;position:fixed}.ui.top.menu.prepare-fixed.call-fixed.hide[data-v-2aa9a7c5],.ui.top.menu.prepare-fixed.upscroll.hide[data-v-2aa9a7c5]{top:calc(-1rem - 55px)!important}.ui.top.menu>.item.sidebar-menu-toggle[data-v-2aa9a7c5]{display:none}@media (max-width:1000px){.ui.top.menu[data-v-2aa9a7c5]> .item span{display:none}}@media (max-width:700px){.ui.top.menu[data-v-2aa9a7c5]> .item.config,.ui.top.menu[data-v-2aa9a7c5]> .item.editor,.ui.top.menu[data-v-2aa9a7c5]> .item.post,.ui.top.menu[data-v-2aa9a7c5]> .item.publish,.ui.top.menu[data-v-2aa9a7c5]> .item.theme{display:none}.ui.top.menu>.item.sidebar-menu-toggle[data-v-2aa9a7c5]{display:block}.ui.top.menu.upscroll[data-v-2aa9a7c5]{position:absolute}}@media (max-width:400px){.ui.top.menu[data-v-2aa9a7c5]> .item{display:none}.ui.top.menu>.item.sidebar-menu-toggle[data-v-2aa9a7c5]{display:block}.ui.top.menu.upscroll[data-v-2aa9a7c5]{position:absolute}}",""])},function(t,e,i){"use strict";var n=i(61);i.n(n).a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,"body.OutlineNavigator-open .ui.top.menu .right.menu{margin-right:276px}@media (max-width:1200px){body.OutlineNavigator-open .ui.top.menu .item span{display:none}body.OutlineNavigator-open .ui.top.menu .item.word-count span.time-spent-display{display:inline}}.summernotePostBody-wrapper .note-toolbar.fixed{transition-property:top!important;transition-duration:.5s!important}body.call-fixed .summernotePostBody-wrapper .note-toolbar.fixed{top:55px!important}",""])},function(t,e,i){"use strict";i.r(e);let n={size:{full:1600,normal:450},getFullSize:function(t){return t.startsWith("https://blogger.googleusercontent.com/img/a/")?t:this.getSize(t,this.size.full)},getSize:function(t,e){if(void 0===e?e=this.size.normal:"object"==typeof e&&(e=this.getImageElementSize(e)),t.startsWith("https://blogger.googleusercontent.com/img/a/"))return this.getSize2021(t,e);if(t.indexOf("/s"+e+"/")>10)return this.changeProtocol(t);return t=this.getBaseUrl(t)+"/s"+e+"/"+this.getFilename(t)},getSize2021(t,e){let i=t.lastIndexOf("=s");return i>t.length-7&&(t=t.slice(0,i)),t+"=s"+e},changeProtocol:function(t){return!1===ElectronHelper.isElectronEnvironment()&&("string"!=typeof t||!t.startsWith("http://")&&!t.startsWith("https://")||t.startsWith("https://blogger.googleusercontent.com/img/a/")||(t=t.slice(t.indexOf("//")))),t},getFilename:function(t){return t.slice(t.lastIndexOf("/")+1)},getBaseUrl:function(t){let e=(t=this.changeProtocol(t)).lastIndexOf("/"),i=t.lastIndexOf("/",e-1);return e-i>10?t.slice(0,e):t.slice(0,i)},getImageElementSize:function(t){return"function"!=typeof t.width&&(t=$(t)),void 0!==t.attr("width")?parseInt(Math.max(t.attr("width"),t.attr("height")),10):parseInt(Math.max(t.width(),t.height()),10)},readyToResize:function(t){let e=$v.EditorManager.imageSizeDefault;(t=$(t)).removeAttr("onload");let i=this.calcResize(e,t);void 0!==i&&t.attr("width",i.width).attr("height",i.height)},calcResize:function(t,e,i){if("function"==typeof e.width){let t=e;e=t.width(),i=t.height()}if(e>t||i>t)return e>i?(i=Math.round(i*(t/e)),e=Math.round(t)):(e=Math.round(e*(t/i)),i=Math.round(t)),{width:e,height:i}},isBloggerImageLink:function(t){return!t.startsWith("filesystem:")&&t.indexOf(".bp.blogspot.com/")>1},isFullSizeLink:function(t){return!!this.isBloggerImageLink(t)&&t.indexOf("/s"+this.size.full+"/")>10},removeProtocol:function(t){return"string"==typeof t&&t.indexOf("//")>0&&(t=t.slice(t.indexOf("//"))),t},filterPostBody:function(t){return ElectronHelper.isElectronEnvironment()&&(t.find('a[href*=".bp.blogspot.com/"]').each((t,e)=>{e.href=this.removeProtocol(e.href)}),t.find('img[src*=".bp.blogspot.com/"]').each((t,e)=>{e.src=this.removeProtocol(e.src)})),t}};window.BloggerImageHelper=n;var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"modal",staticClass:"ui basic fullscreen modal page-loader"},[e("div",{staticClass:"ui massive text loader"},[this._v("Loading")])])};a._withStripped=!0;var s={data:function(){return{name:"PageLoader",ui:void 0,onShow:null,onHide:null,isOpening:!1,isClosing:!1,$body:null}},mounted:function(){},created:function(){$v[this.name]=this,this.$body=$("body")},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(".page-loader.modal").modal({closable:!1,onVisible:()=>{this.isOpening=!1,FunctionHelper.triggerCallback(this.onShow),this.onShow=null},onHide:()=>{this.isClosing=!1,FunctionHelper.triggerCallback(this.onHide),this.onHide=null}})),this.ui},open:function(t){!0!==this.isClosing?!0!==this.isOpening&&(this.isOpening=!0,"function"==typeof t&&(this.onShow=t),this.getUI().modal("show"),this.$body.addClass("page-loader")):setTimeout(()=>{this.open(t)},1e3)},close:function(t){!0!==this.isOpening?!0!==this.isClosing&&(this.isClosing=!0,"function"==typeof t&&(this.onHide=t),this.getUI().modal("hide"),this.$body.removeClass("page-loader")):setTimeout(()=>{this.close(t)},1e3)}}},o=(i(214),i(0)),r=Object(o.a)(s,a,[],!1,null,"0e17d6c8",null);r.options.__file="src/helpers/PageLoader/PageLoader.vue";var l=r.exports,c=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"modal",staticClass:"ui basic modal window-alert"},[e("div",{staticClass:"ui icon header"},[e("i",{staticClass:"info icon"}),this._v(" "),e("div",{staticClass:"message",domProps:{innerHTML:this._s(this.message)}})]),this._v(" "),e("div",{staticClass:"actions"},[e("button",{staticClass:"ui basic inverted button ok",attrs:{type:"button"},on:{click:this.close}},[this._v("\r\n      OK\r\n    ")])])])};c._withStripped=!0;var d={data:function(){return{name:"WindowAlert",ui:void 0,onClose:null,message:""}},mounted:function(){},created:function(){$v[this.name]=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(t,e){void 0!==t&&("function"==typeof t&&(e=t,t=""),"function"==typeof e&&(this.onClose=e),this.message=t,this.getUI().modal({closable:!1}).modal("show"),this.getUI().find(".ok.button").focus())},close:function(){this.getUI().modal("hide"),FunctionHelper.triggerCallback(this.onClose),this.onClose=null}}},u=(i(216),Object(o.a)(d,c,[],!1,null,"2b1a4ef6",null));u.options.__file="src/helpers/WindowAlert/WindowAlert.vue";var p=u.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui basic modal window-confirm"},[i("div",{staticClass:"ui icon header"},[i("i",{staticClass:"info icon"}),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.message)}})]),t._v(" "),i("div",{staticClass:"actions"},[i("button",{staticClass:"yes ui green basic inverted icon button",attrs:{type:"button"},on:{click:t.yes}},[i("i",{staticClass:"checkmark icon"}),t._v("\n      "+t._s(t.$t("Yes"))+"\n    ")]),t._v(" "),i("button",{staticClass:"ui red basic inverted button",attrs:{type:"button"},on:{click:t.no}},[i("i",{staticClass:"remove icon"}),t._v("\n      "+t._s(t.$t("No"))+"\n    ")])])])};h._withStripped=!0;var g={data:function(){return{name:"WindowConfirm",ui:void 0,onYes:null,onNo:null,message:""}},mounted:function(){},created:function(){$v[this.name]=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(t,e,i){void 0!==t&&("function"==typeof t&&(e=t,t=""),"function"==typeof e&&(this.onYes=e),"function"==typeof i&&(this.onNo=i),this.message=t,this.getUI().modal({closable:!1}).modal("show"),this.getUI().find(".yes.button").focus())},yes:function(){FunctionHelper.triggerCallback(this.onYes),this.close()},no:function(){FunctionHelper.triggerCallback(this.onNo),this.close()},close:function(){this.onYes=null,this.onNo=null,this.getUI().modal("hide")}}},m=(i(218),i(68)),f=Object(o.a)(g,h,[],!1,null,"0ca1d8fe",null);"function"==typeof m.default&&Object(m.default)(f),f.options.__file="src/helpers/WindowConfirm/WindowConfirm.vue";var _=f.exports,v=function(){var t=this.$createElement;this._self._c;return this._m(0)};v._withStripped=!0;const{detect:b}=i(220),y=b();var C={data:function(){return{ui:void 0,defaultTheme:"default"}},created:function(){$v.BrowserDetector=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=this.ui=$(".BrowserDetector.ui.modal")),this.ui},open:function(){this.getUI().modal("show")},init:function(t){"chrome"!==y.name?this.open():FunctionHelper.triggerCallback(t)}}},w=(i(221),Object(o.a)(C,v,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"non-invasive-web-style-framework"},[e("div",{staticClass:"ui modal BrowserDetector"},[e("div",{staticClass:"header"},[e("i",{staticClass:"times circle icon"}),this._v("\n      Only support Google Chrome\n    ")]),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"description"},[e("a",{staticClass:"ui fluid positive labeled icon massive button",attrs:{href:"https://www.google.com/chrome/",target:"getGoogleChrome"}},[e("i",{staticClass:"chrome icon"}),this._v("\n          Get Google Chrome\n        ")])])])])])}],!1,null,"62fa3423",null));w.options.__file="src/views/BrowserDetector/BrowserDetector.vue";var S=w.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"list alternate icon"}),t._v("\n      "+t._s(t.$t("Post Manager"))+"\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"ui tiny progress",class:{error:t.quotaUsage>90,warning:t.quotaUsage>=60&&t.quotaUsage<=90},attrs:{"data-value":t.quotaUsed,"data-total":t.quotaTotal}},[i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"label"},[t._v(t._s(t.$t("Quota Usage"))+": \n            "+t._s(t.quotaUsedMB)+"MB \n            /\n            "+t._s(t.quotaTotalMB)+"MB \n            ("+t._s(t.quotaUsage)+"%)\n          ")])]),t._v(" "),i("div",{staticClass:"unstackable fields"},[i("div",{staticClass:"ten wide field"},[i("div",{staticClass:"ui icon mini input post-filter"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filterCondition,expression:"filterCondition"}],attrs:{type:"text",placeholder:t.$t("Search...")},domProps:{value:t.filterCondition},on:{input:function(e){e.target.composing||(t.filterCondition=e.target.value)}}}),t._v(" "),i("i",{staticClass:"filter icon"})])]),t._v(" "),i("div",{staticClass:"six wide field"},[i("div",{staticClass:"ui mini fluid buttons"},[i("div",{staticClass:"ui mini labeled icon button",on:{click:t.newPost}},[i("i",{staticClass:"file icon"}),t._v("\n                "+t._s(t.$t("NEW"))+"\n              ")]),t._v(" "),i("div",{staticClass:"ui mini icon button",on:{click:t.backupAllPosts}},[i("i",{staticClass:"download icon"})]),t._v(" "),i("div",{staticClass:"ui mini icon button",attrs:{"data-post-id":"-1"},on:{click:t.triggerUploadPosts}},[i("i",{staticClass:"upload icon"})])])]),t._v(" "),i("div",{staticClass:"dragover-message",on:{drop:t.dropPosts}},[t._v("\n            "+t._s(t.$t("Drop file to upload"))+"\n          ")]),t._v(" "),i("input",{attrs:{type:"file",name:"uploadPosts",accept:".zip"},on:{change:t.uploadPosts}})]),t._v(" "),i("div",{staticClass:"ui divided unstackable items post-list"},t._l(t.filterPosts,(function(e){return i("div",{staticClass:"item",class:{editing:t.editingPostId===e.id}},[i("a",{staticClass:"image",attrs:{href:"#"},on:{click:function(i){return t.openPost(e.id)}}},[e.thumbnail?i("img",{attrs:{src:e.thumbnail}}):t._e()]),t._v(" "),i("div",{staticClass:"content"},[i("a",{staticClass:"header post-title",attrs:{href:"#"},on:{click:function(i){return t.openPost(e.id)}}},[i("span",[t._v("\n                  #"+t._s(e.id)+"\n                ")]),t._v(" "),""===e.title?i("span",[t._v("\n                  ("+t._s(t.$t("No title"))+")\n                ")]):t._e(),t._v(" "),""!==e.title?i("span",{attrs:{title:e.title}},[t._v("\n                  "+t._s(e.title)+"\n                ")]):t._e()]),t._v(" "),""!==e.abstract?i("div",{staticClass:"description"},[i("div",{staticClass:"abstract",attrs:{title:e.abstract}},[t._v("\n                  "+t._s(e.abstract)+"\n                ")])]):t._e(),t._v(" "),i("div",{staticClass:"extra"},[i("div",{staticClass:"ui right floated"},[i("span",[i("i",{staticClass:"calendar alternate outline icon"}),t._v("\n                    "+t._s(t.displayDate(e.updateUnix))+"   \n                  ")]),t._v(" "),e.labels?i("span",[1===e.labels.split(",").length?i("i",{staticClass:"tag icon"}):t._e(),t._v(" "),e.labels.split(",").length>1?i("i",{staticClass:"tags icon"}):t._e(),t._v("\n                    "+t._s(t.formatLabels(e.labels))+"\n                  ")]):t._e()]),t._v(" "),i("div",{staticClass:"ui right floated"},[i("div",{staticClass:"ui mini buttons"},[t.editingPostId!==e.id?i("div",{staticClass:"ui mini labeled icon button",on:{click:function(i){return t.openPost(e.id)}}},[i("i",{staticClass:"folder open icon"}),t._v("\n                        "+t._s(t.$t("OPEN"))+"\n                    ")]):t._e(),t._v(" "),t.editingPostId===e.id?i("div",{staticClass:"ui mini labeled icon positive button",on:{click:t.close}},[i("i",{staticClass:"edit icon"}),t._v("\n                        "+t._s(t.$t("EDITING"))+"\n                    ")]):t._e(),t._v(" "),t.enableRemovePost?i("div",{staticClass:"ui mini labeled icon button",on:{click:function(i){return t.removePost(e.id)}}},[i("i",{staticClass:"close icon"}),t._v("\n                      "+t._s(t.$t("REMOVE"))+"\n                    ")]):t._e(),t._v(" "),i("div",{staticClass:"ui icon mini button",on:{click:function(i){return t.clonePost(e.id)}}},[i("i",{staticClass:"clone icon"})]),t._v(" "),i("div",{staticClass:"ui icon mini button",on:{click:function(i){return t.backupPost(e.id)}}},[i("i",{staticClass:"download icon"})]),t._v(" "),i("div",{staticClass:"ui icon mini button",attrs:{"data-post-id":e.id},on:{click:t.triggerUploadPosts}},[i("i",{staticClass:"upload icon"})])])])])])])})),0)])])])};k._withStripped=!0;var I=i(6),T=i.n(I),x=i(10),P=i.n(x),L=i(7);var H={createTableDone:!1,createTable:function(){if(!0===this.createTableDone)return;this.createTableDone=!0;WebSQLDatabaseHelper.exec("Create Table if not exists posts\n        (id INTEGER PRIMARY KEY, \n         createUnix INTEGER, \n         updateUnix INTEGER, \n         timeSpentSecond INTEGER, \n         title TEXT, \n         postSEOLink TEXT, \n         labels TEXT, \n         abstract TEXT,\n         thumbnail TEXT,\n         editURL TEXT,\n         publicURL TEXT,\n         editNote TEXT)")},updatePost:function(t,e){let i="UPDATE posts SET \n        updateUnix = ?,\n        title = ?,\n        postSEOLink = ?,\n        labels = ?,\n        abstract = ?,\n        thumbnail = ?,\n        editURL = ?,\n        publicURL = ?,\n        editNote = ?,\n        timeSpentSecond = ?\n        WHERE id = "+t.id,n=[DayjsHelper.unix(),t.title,t.postSEOLink,t.labels,t.abstract,t.thumbnail,t.editURL,t.publicURL,t.editNote,t.timeSpentSecond];WebSQLDatabaseHelper.exec(i,n,()=>{FunctionHelper.triggerCallback(e,t)})},checkTableIsEmpty:function(t){WebSQLDatabaseHelper.exec("select count(*) as count from posts",e=>{FunctionHelper.triggerCallback(t)})},createPost:function(t,e){let i;"function"==typeof t&&(e=t,t=null);let n=DayjsHelper.unix(),a="",s="",o="",r="",l="",c="",d="",u="",p=0,h="insert into \n                  posts(createUnix, updateUnix, timeSpentSecond, title, postSEOLink, labels, abstract, thumbnail, editURL, publicURL, editNote) \n                  values(?,?,?,?,?,?,?,?,?,?,?)",g=[n,n,p,a,s,r,o,l,c,d,u];null!==t&&"object"==typeof t&&("number"==typeof t.id&&(i=t.id),"string"==typeof t.title&&(a=t.title),"string"==typeof t.postSEOLink&&(s=t.postSEOLink),"string"==typeof t.abstract&&(o=t.abstract),"string"==typeof t.labels&&(r=t.labels),"string"==typeof t.thumbnail&&(l=t.thumbnail),"string"==typeof t.editURL&&(c=t.editURL),"string"==typeof t.publicURL&&(d=t.publicURL),"string"==typeof t.editNote&&(u=t.editNote),"number"==typeof t.timeSpentSecond&&(p=t.timeSpentSecond),"number"==typeof t.id?(h="insert into \n                  posts(id, createUnix, updateUnix, timeSpentSecond, title, postSEOLink, labels, abstract, thumbnail, editURL, publicURL, editNote) \n                  values(?,?,?,?,?,?,?,?,?,?,?,?)",g=[i,n,n,p,a,s,r,o,l,c,d,u]):g=[n,n,p,a,s,r,o,l,c,d,u]),WebSQLDatabaseHelper.exec(h,g,t=>{this.getLastUpdatePost(t=>{FunctionHelper.triggerCallback(e,t)})})},getLastPostId:function(t){WebSQLDatabaseHelper.exec("select id from posts order by id desc limit 0, 1",e=>{FunctionHelper.triggerCallback(t,e[0].id)})},getLastUpdatePost:function(t){WebSQLDatabaseHelper.exec("select * from posts order by id desc limit 0, 1",e=>{e=e.length>0?e[0]:void 0,FunctionHelper.triggerCallback(t,e)})},retrieveAllPost:function(t){WebSQLDatabaseHelper.exec("select * from posts order by updateUnix desc",t)},removePost:function(t,e){let i="DELETE FROM posts WHERE id="+t;WebSQLDatabaseHelper.exec(i,e)}};var R={PostManager:null,init:function(t,e){this.PostManager=t,FunctionHelper.triggerCallback(e)},backupPost:function(t,e,i){let n=t.id;$v.PageLoader.open();let a=DayjsHelper.nowMMDDFormat(),s=this.getPostTitleAbstract(t.title);"string"==typeof s&&""!==s.trim()&&(s="-"+s.trim());let o=`post-${a}-${n}${s}`;this.createBackupZip(t,e,t=>{Object(L.saveAs)(t,o+".zip"),$v.PageLoader.close(),FunctionHelper.triggerCallback(i),GoogleAnalyticsHelper.send("PostManagerBackup.backupPost",{filename:o+".zip"})})},getPostTitleAbstract:function(t){return void 0===t&&(t=this.PostManager.getPost().title),FileHelper.extractSafeFilename(t,15,30)},createBackupZip:function(t,e,i){let n=t.id,a=$v.EditorManager.FieldPostBody;t=JSON.parse(JSON.stringify(t));let s=new T.a,o=DayjsHelper.nowMMDDFormat(),r=this.getPostTitleAbstract(t.title);"string"==typeof r&&""!==r.trim()&&(r="-"+r.trim());let l=`post-${o}-${n}${r}`,c=s.folder(l);null!==t.thumbnail&&(t.thumbnail=FileSystemHelper.stripAssetFileSystemPrefix(t.thumbnail));let d=JSON.stringify(t,null,2);c.file("metadata.json",d),void 0===e&&(e=""),this.addFileSystemFiles(c,e,()=>{e=a.filterImageListToRelative(e),c.file("article.html",e),s.generateAsync({type:"blob"}).then(t=>{FunctionHelper.triggerCallback(i,t)})})},addFileSystemFiles:function(t,e,i){let n=$v.EditorManager.FieldPostBody.getImageList(e),a=t.folder("assets"),s=t=>{if(t<n.length){let e=n[t],i=e.slice(e.lastIndexOf("/")+1);i=decodeURIComponent(i),P.a.getBinaryContent(e,(e,n)=>{a.file(i,n),t++,s(t)})}else FunctionHelper.triggerCallback(i)};s(0)},backupAllPosts:function(t,e){$v.PageLoader.open();let i=new T.a,n=a=>{if(a<t.length){let e="post-"+t[a].id;this.createBackupZip(t[a],t=>{i.file(e+".zip",t),a++,n(a)})}else i.generateAsync({type:"blob"}).then(t=>{let i=DayjsHelper.nowMMDDFormat();Object(L.saveAs)(t,`posts-${i}.zip`),$v.PageLoader.close(),FunctionHelper.triggerCallback(e)})};n(0)},uploadPosts:function(t,e,i){let n=t.target.files;this.readPostsZip(n,e,i)},dropPosts:function(t,e,i){let n=t.dataTransfer.files;this.readPostsZip(n,e,i)},readPostsZip:function(t,e,i){$v.PageLoader.open(),"function"==typeof e&&void 0===i&&(i=e,e=-1);let n,a=0,s=a=>{if(a<t.length){let i=t[a];if(-1===["application/x-zip-compressed","application/zip"].indexOf(i.type))return console.error("File type unknown: "+i.type),o(),!1;T.a.loadAsync(i).then(t=>{for(let i in t.files)if(!i.endsWith("/")){i.startsWith("post-")&&i.endsWith(".zip")?this.readAllPostsZip(t,o):this.readSinglePostZip(t,e,t=>{void 0!==t&&(n=t),o()});break}})}else $v.PageLoader.close(),FunctionHelper.triggerCallback(i,n)},o=()=>{a++,s(a)};s(a)},readAllPostsZip:function(t,e){let i=[];for(let e in t.files)e.endsWith("/")||i.push(e);let n=0,a=n=>{if(n<i.length){let e=i[n];t.files[e].async("blob").then(t=>{T.a.loadAsync(t).then(t=>{this.readSinglePostZip(t,s)})})}else GoogleAnalyticsHelper.send("PostManagerBackup.readAllPostsZip",{pathListCount:i.length}),FunctionHelper.triggerCallback(e)},s=()=>{n++,a(n)};a(n)},readSinglePostZip:function(t,e,i){let n;"function"==typeof e&&void 0===i&&(i=e,e=-1);let a=this.PostManager,s=a.PostManagerDatabase,o=$v.EditorManager.FieldPostBody,r={},l=[];for(let e in t.files)e.endsWith("/")||l.push(e);let c=0,d=s=>{if(s<l.length){let i=l[s],n=t.files[i];-1===i.indexOf("/assets/")?i.endsWith("/metadata.json")?n.async("string").then(t=>{r=JSON.parse(t),r.id=e,r.thumbnail=FileSystemHelper.appendAssetFileSystemPrefix(r.thumbnail,e),u()}):i.endsWith("/article.html")?n.async("string").then(t=>{t=o.filterImageListToFileSystem(t,e),a.writePostBodyFile(e,t,u)}):u():n.async("blob").then(t=>{let n=i.slice(i.lastIndexOf("/")+1);n=decodeURIComponent(n);let a=`/${e}/assets/${n}`;FileSystemHelper.writeFromString(a,t,u)})}else GoogleAnalyticsHelper.send("PostManagerBackup.readSinglePostZip",{postId:e}),"create"===n?a.createPost(r,i):"update"===n&&a.updatePost(r,i)},u=()=>{c++,d(c)};void 0===e||-1===e?(n="create",s.getLastPostId(t=>{e=t+1,d(c)})):(n="update",d(c))}};var E={PostManager:null,init:function(t,e){this.PostManager=t,EventManager.on(t,["open","updateEditingPostBody","createPostBodyFile","clonePost","readPostsZip"],()=>{this.statisticQuota()}),FunctionHelper.triggerCallback(e)},statisticQuota:function(t){FileSystemHelper.statsticQuotaUsage((e,i)=>{this.PostManager.quotaUsed=e,this.PostManager.quotaTotal=i,FunctionHelper.triggerCallback(t)})},removePost:function(t,e){let i="/"+t;FileSystemHelper.removeDir(i,e)},writePostBody:function(t,e,i){let n=`/${t}/article.html`;FileSystemHelper.writeFromString(n,e,()=>{FunctionHelper.triggerCallback(i)})},getPostBody:function(t,e){"function"==typeof t&&(e=t,t=void 0);let i=`/${t}/article.html`;FileSystemHelper.read(i,t=>{void 0===t&&(t=""),FunctionHelper.triggerCallback(e,t)})},writePostBodyFile:function(t,e,i){let n=`/${t}/article.html`;return FileSystemHelper.writeFromString(n,e,i),this},createPostBodyFile:function(t,e,i){let n=`/${t}/article.html`;return FileSystemHelper.isExists(n,t=>{!0===t?FunctionHelper.triggerCallback(i):FileSystemHelper.writeFromString(n,e,i)}),this},extractPostBodyFeatures:function(t){"string"!=typeof t&&(t="function"==typeof t.html?t.html():JSON.stringify(t)),(t=t.trim()).startsWith("<")||t.endsWith(">")||(t=`<div>${t}</div>`);let e=$(t),i=e.text().trim(),n=null,a=e.find("img:first");return a.length>0&&(n=a.attr("src")),{abstract:i,thumbnail:n}}};var M={data:function(){return{name:"PostManager",ui:void 0,componentRerenderKey:0,posts:[],filterCondition:"",filteredPosts:[],createTableDone:!1,editingPostId:null,uploadPostId:null,quotaUsed:0,quotaTotal:FileSystemHelper.quota,quotaProgressBar:null,PostManagerDatabase:H,PostManagerBackup:R,PostManagerFile:E}},mounted(){VueHelper.mountLocalStorageInt(this,"editingPostId")},created:function(){$v.PostManager=this},computed:{quotaUsage:function(){let t=Math.round(this.quotaUsed/this.quotaTotal*100);return void 0!==this.ui&&null===this.quotaProgressBar&&(this.quotaProgressBar=this.ui.find(".ui.progress > .bar")),null!==this.quotaProgressBar&&this.quotaProgressBar.css("width",t+"%"),t},quotaUsedMB:function(){let t=this.quotaUsed/1024/1024;return t=Math.round(100*t)/100,t},quotaTotalMB:function(){let t=this.quotaTotal/1024/1024;return t=Math.round(100*t)/100,t},enableRemovePost:function(){return this.posts.length>1},filterPosts:function(){let t=[];if("string"!=typeof this.filterCondition||""===this.filterCondition.trim())return t=this.posts,t;let e=this.filterCondition.trim().split(" ");return this.posts.forEach(i=>{let n=!1;e.forEach(t=>{!0!==n&&(i.title.indexOf(t)>-1||i.abstract.indexOf(t)>-1||i.labels.indexOf(t)>-1)&&(n=!0)}),!0===n&&t.push(i)}),t}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal),this.ui.find(".ui.progress").progress()),this.ui},init:function(t){this.PostManagerFile.init(this),this.PostManagerBackup.init(this),this.PostManagerDatabase.createTable(),this.PostManagerDatabase.retrieveAllPost(e=>{this.posts=e,e.length>0?FunctionHelper.triggerCallback(t):this.createPost(t)})},createPost:function(t,e){return"function"==typeof t&&(e=t,t=void 0),this.PostManagerDatabase.createPost(t,t=>{this.posts=[t].concat(this.posts),null!==t&&(this.editingPostId=t.id,EventManager.trigger(this,"changeEditingPostId")),this.openPost(t.id),this.persist(),FunctionHelper.triggerCallback(e,t)})},updatePost:function(t,e){return this.PostManagerDatabase.updatePost(t,t=>{for(let e=0;e<this.posts.length;e++){let i=this.posts[e];if(i.id===t.id){for(let e in i)"id"!==e&&(i[e]=t[e]);t.id===this.editingPostId&&this.openPost(t.id);break}}FunctionHelper.triggerCallback(e,t)})},newPost:function(t){this.createPost(t),setTimeout(()=>{let t=this.posts[0];this.editingPostId=t.id,EventManager.trigger(this,"changeEditingPostId"),this.openPost(t.id)},500)},getEditingPostId:function(t){!1===isNaN(this.editingPostId)&&"number"==typeof this.editingPostId?FunctionHelper.triggerCallback(t,this.editingPostId):this.PostManagerDatabase.getLastUpdatePost(e=>{this.editingPostId=e.id,EventManager.trigger(this,"changeEditingPostId"),this.persist(),FunctionHelper.triggerCallback(t,this.editingPostId)})},getPost:function(t,e){"function"==typeof t&&(e=t,t=void 0),void 0===t&&(t=this.editingPostId);let i=this.posts.filter(e=>e.id===t)[0];return void 0===i&&(i=this.posts[0],this.editingPostId=i.id,EventManager.trigger(this,"changeEditingPostId"),this.persist()),FunctionHelper.triggerCallback(e,i),i},getPostBody:function(t,e){"function"==typeof t&&(e=t,t=void 0),void 0===t&&(t=this.editingPostId),this.PostManagerFile.getPostBody(t,e)},createPostBodyFile:function(t,e,i){"function"==typeof e&&(i=e,e=""),this.PostManagerFile.createPostBodyFile(t,e,()=>{EventManager.trigger(this,"createPostBodyFile"),FunctionHelper.triggerCallback(i)})},writePostBodyFile:function(t,e,i){"function"==typeof e&&(i=e,e=""),this.PostManagerFile.writePostBodyFile(t,e,()=>{EventManager.trigger(this,"createPostBodyFile"),FunctionHelper.triggerCallback(i)})},openPost:function(t,e){this.editingPostId=t,EventManager.trigger(this,"changeEditingPostId"),this.posts.sort((function(e,i){return e.id===t?-1:i.id===t?1:0})),this.persist(),$v.EditorManager.setupPostData(()=>{this.close(),FunctionHelper.triggerCallback(e)})},removePost:function(t,e){let i=this.$t("Are you sure to delete post");i=i+" #"+t,WindowHelper.confirm(i,()=>{t=parseInt(t,10),this.posts=this.posts.filter(e=>e.id!==t),this.PostManagerDatabase.removePost(t),this.PostManagerFile.removePost(t),this.editingPostId===t&&(this.editingPostId=null,EventManager.trigger(this,"changeEditingPostId"),this.persist())})},updateEditingPost:function(t,e,i){this.getPost(n=>{n[t]!==e?(n[t]=e,this.update(n,i),GoogleAnalyticsHelper.send("PostManager.updateEditingPost",{field:t,value:e})):FunctionHelper.triggerCallback(i,n)})},updateEditingPostBody:function(t,e){if(!0===ConfigHelper.get("debug").disableEditorManager)return FunctionHelper.triggerCallback(e);let{abstract:i,thumbnail:n}=this.PostManagerFile.extractPostBodyFeatures(t);this.getPost(a=>{a.abstract=i,a.thumbnail=n,this.update(a,()=>{let i=a.id;this.PostManagerFile.writePostBody(i,t,()=>{EventManager.trigger(this,"updateEditingPostBody"),FunctionHelper.triggerCallback(e,a)})})})},update:function(t,e){return this.PostManagerDatabase.updatePost(t,e)},open:function(){this.getUI().modal("show"),EventManager.trigger(this,"open")},close:function(){this.getUI().modal("hide"),EventManager.trigger(this,"close")},persist(){VueHelper.persistLocalStorage(this,"editingPostId")},displayDate:function(t){return DayjsHelper.postDate(t)},backupPost:function(t,e){return void 0!==t&&"function"!=typeof t||(e=t,t=this.editingPostId),this.getPostAndPostBody(t,(t,i)=>{this.PostManagerBackup.backupPost(t,i,e)}),this},getPostAndPostBody:function(t,e){this.getPost(t,i=>{this.getPostBody(t,t=>{FunctionHelper.triggerCallback(e,i,t)})})},createBackupZip:function(t,e){void 0!==t&&"function"!=typeof t||(t,t=this.editingPostId),this.getPost(t,e=>{this.getPostBody(t,t=>{this.PostManagerBackup.createBackupZip(e,t,cabllback)})})},backupAllPosts:function(t){this.PostManagerBackup.backupAllPosts(t)},triggerUploadPosts:function(t){this.uploadPostId=parseInt(t.target["data-post-id"],10);let e=$(t.target);return void 0===e.attr("data-post-id")&&(e=e.parents("[data-post-id]:first")),this.uploadPostId=parseInt(e.attr("data-post-id"),10),this.getUI().find('input:file[name="uploadPosts"]').click(),this},uploadPosts:function(t,e,i){return void 0===e&&(e=this.uploadPostId),this.PostManagerBackup.uploadPosts(t,e,t=>{e===this.editingPostId?$v.EditorManager.setupPostData(()=>{FunctionHelper.triggerCallback(i,t)}):FunctionHelper.triggerCallback(i,t),this.resetUploadInput()})},resetUploadInput:function(){this.getUI().find('input:file[name="uploadPosts"]').val("")},dropPosts:function(t,e,i){return void 0===e&&(e=this.uploadPostId),this.PostManagerBackup.dropPosts(t,e,i)},readPostsZip:function(t){this.PostManagerDatabase.getLastPostId(e=>{e++,this.PostManagerBackup.readPostsZip(e,t)})},readAllPostsZip:function(t,e){this.PostManagerBackup.readAllPostsZip(t,e)},readSinglePostZip:function(t,e){this.PostManagerBackup.readSinglePostZip(t,e)},clonePost:function(t,e){$v.PageLoader.open(()=>{this.getPostBody(t,i=>{this.getPost(t,t=>{delete(t=JSON.parse(JSON.stringify(t))).id,this.createPost(t,t=>{let n=t.id;this.createPostBodyFile(n,i,()=>{EventManager.trigger(this,"clonePost"),$v.PageLoader.close(e)})})})})})},formatLabels:function(t){return"string"==typeof t&&(t=t.trim()).endsWith(",")&&(t=t.slice(0,-1)),t}}},U=(i(223),i(69)),O=Object(o.a)(M,k,[],!1,null,"4c3b4be1",null);"function"==typeof U.default&&Object(U.default)(O),O.options.__file="src/views/PostManager/PostManager.vue";var F=O.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"non-invasive-web-style-framework"},[i("div",{ref:"modal",staticClass:"ui modal ThemeManager"},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"columns icon"}),t._v("\r\n      "+t._s(t.$t("Theme Manager"))+"\r\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description"},[i("div",{staticClass:"ui top attached tabular menu"},[i("a",{staticClass:"item active",attrs:{"data-tab":"template"},on:{click:t.openTab}},[t._v("\r\n            "+t._s(t.$t("Template"))+"\r\n          ")]),t._v(" "),i("a",{staticClass:"item",attrs:{"data-tab":"style"},on:{click:t.openTab}},[t._v("\r\n            "+t._s(t.$t("Style"))+"\r\n          ")])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment active form",attrs:{"data-tab":"template"}},[i("div",{staticClass:"unstackable three fields"},[i("div",{staticClass:"field"},[i("input",{attrs:{type:"file",name:"uploadTemplate",accept:".html,.htm,.xhtml"},on:{change:t.TemplateManager.upload}}),t._v(" "),!1===t.useCustomTemplate?i("div",{staticClass:"ui positive labeled icon fluid button",on:{click:t.TemplateManager.triggerUpload}},[i("i",{staticClass:"upload icon"}),t._v("\r\n                "+t._s(t.$t("Upload"))+"\r\n              ")]):t._e(),t._v(" "),t.useCustomTemplate?i("div",{staticClass:"ui fluid labeled icon button",on:{click:t.TemplateManager.reset}},[i("i",{staticClass:"undo icon"}),t._v("\r\n                "+t._s(t.$t("Reset"))+"\r\n              ")]):t._e()]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid labeled icon button",on:{click:t.TemplateManager.open}},[i("i",{staticClass:"folder open icon"}),t._v("\r\n                "+t._s(t.$t("Open"))+"\r\n              ")])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid labeled icon button",on:{click:t.TemplateManager.download}},[i("i",{staticClass:"download icon"}),t._v("\r\n                "+t._s(t.$t("Download"))+"\r\n              ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid button",on:{click:t.openTemplateBuilder}},[i("i",{staticClass:"cog icon"}),t._v("\r\n              "+t._s(t.$t("Open Template Builder"))+"\r\n            ")])]),t._v(" "),i("div",{staticClass:"dragover-message",on:{drop:t.TemplateManager.drop}},[t._v("\r\n            "+t._s(t.$t("Drop file to upload"))+"\r\n          ")])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",attrs:{"data-tab":"style"}},[i("div",{staticClass:"unstackable two fields"},[i("div",{staticClass:"field"},[i("input",{attrs:{type:"file",name:"uploadStyle",accept:".css"},on:{change:t.StyleManager.upload}}),t._v(" "),!1===t.useCustomStyle?i("div",{staticClass:"ui positive labeled icon fluid button",on:{click:t.StyleManager.triggerUpload}},[i("i",{staticClass:"upload icon"}),t._v("\r\n                "+t._s(t.$t("Upload"))+"\r\n              ")]):t._e(),t._v(" "),t.useCustomStyle?i("div",{staticClass:"ui fluid labeled icon button",on:{click:t.StyleManager.reset}},[i("i",{staticClass:"undo icon"}),t._v("\r\n                "+t._s(t.$t("Reset"))+"\r\n              ")]):t._e()]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid labeled icon button",on:{click:t.StyleManager.download}},[i("i",{staticClass:"download icon"}),t._v("\r\n                "+t._s(t.$t("Download"))+"\r\n              ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.customStyle,expression:"customStyle"}],attrs:{name:"style"},domProps:{value:t.customStyle},on:{change:t.StyleManager.setSave,input:function(e){e.target.composing||(t.customStyle=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"dragover-message",on:{drop:t.StyleManager.drop}},[t._v("\r\n            "+t._s(t.$t("Drop file to upload"))+"\r\n          ")])])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n        "+t._s(t.$t("Close"))+"\r\n      ")])])])])};D._withStripped=!0;let N={selector:"#template",path:"/template.html",triggerUpload:function(t){$(t.target).parent().children("input:file:first").click()},upload:function(t){let e=t.target.files;N.uploadFiles(e)},uploadFiles:function(t,e){return 0===t.length?this:!0===$v.ThemeManager.useCustomTemplate?(FileSystemHelper.remove("/template.html",()=>{$v.ThemeManager.useCustomTemplate=!1,N.uploadFiles(t,e)}),this):void N.validateFiles(t,e=>{!1!==e?FileSystemHelper.writeFromFile("/",t,"template.html",()=>{$v.ThemeManager.useCustomTemplate=!0,$v.ThemeManager.onCloseReload=!0}):window.alert("Invalid template file")})},reset:function(){FileSystemHelper.remove(N.path),$v.ThemeManager.useCustomTemplate=!1,$v.ThemeManager.onCloseReload=!0},open:function(){return FileSystemHelper.isExists(N.path,t=>{let e=N.getDefaultPath();!0===t&&(e=FileSystemHelper.getFileSystemUrl(N.path)),console.log(e),WindowHelper.popup(e,"customeTemplate")}),this},download:function(){return FileSystemHelper.isExists(N.path,t=>{let e=N.getDefaultPath();!0===t&&(e=FileSystemHelper.getFileSystemUrl(N.path)),FileHelper.download(e,"template.html")}),this},getCustom:function(t){let e=this.path;return FileSystemHelper.read(e,t),this},hasCustomTemplate:function(t){return FileSystemHelper.isExists(this.path,t),this},getDefaultPath:function(){return"./themes/"+ConfigHelper.get("defaultTheme")+"/template.html"},load:function(t){let e=this.path;return FileSystemHelper.read(e,e=>{void 0===e?this.loadDefault(t):!0===this.validate(e)?(e=this.replacePlaceholder(e),$(this.selector).html(e),FunctionHelper.triggerCallback(t,e)):this.loadDefault(t)}),this},loadDefault:function(t){let e=this.getDefaultPath();$.get(e,e=>{e=this.replacePlaceholder(e),$(this.selector).html(e),FunctionHelper.triggerCallback(t,e)})},replacePlaceholder:function(t){return t=(t=(t=(t=t.replace("${PostTitle}",'<div class="summernotePostTitle-wrapper air-mode">\n      <div id="summernotePostTitle"</div>\n    </div>')).replace("${PostDate}",'<span class="summernotePostDate-wrapper">\n      <span id="summernotePostDate" class="summernotePostDate"></span>\n    </span>')).replace("${PostLabels}",'<span class="summernotePostLabels-wrapper air-mode">\n      <span id="summernotePostLabels" class="summernotePostLabels"></span>\n    </span>\n    <span class="summernotePostLabels-wrapper air-mode new">\n      <span id="summernotePostLabelsNew" class="summernotePostLabels"></span>\n    </span>\n    <span class="non-invasive-web-style-framework">\n      <button class="ui mini icon grey button labels"\n              id="summernotePostLabelsAdd"\n              style="display: none;">\n        <i class="plus icon"></i>\n      </button>\n    </span>')).replace("${PostBody}",'<div class="summernotePostBody-wrapper">\n      <div id="summernotePostBody"></div>\n    </div>')},dragenter:function(t){$(t.target).addClass("dragover")},dragleave:function(t){$(t.target).removeClass("dragover")},drop:function(t){let e=t.dataTransfer.files;return N.uploadFiles(e),!1},validateFiles:function(t,e){return 1!==t.length||"text/html"!==t[0].type?(FunctionHelper.triggerCallback(e,!1),this):(FileSystemHelper.readEventFilesText(t[0],t=>{let i=N.validate(t);FunctionHelper.triggerCallback(e,i)}),this)},validate:function(t){return 2===t.split("${PostTitle}").length&&2===t.split("${PostDate}").length&&2===t.split("${PostLabels}").length&&2===t.split("${PostBody}").length},set:function(t,e){void 0===t||""===t.trim()?(this.reset(),FunctionHelper.triggerCallback(e)):FileSystemHelper.writeFromString(t,this.path,e)},getConfig:function(t){this.hasCustomTemplate(e=>{!1!==e?FileSystemHelper.read(this.path,t):FunctionHelper.triggerCallback(t)})},setConfig:function(t,e){void 0!==t?this.validate(t)&&FileSystemHelper.writeFromString(this.path,t,e):FunctionHelper.triggerCallback(e)}};var B=N;let A={path:"/style.css",triggerUpload:function(t){$(t.target).parent().children("input:file:first").click()},upload:function(t){let e=t.target.files;A.uploadFiles(e)},uploadFiles:function(t,e){if(0===t.length)return this;A.validate(t,i=>{!1!==i?FileSystemHelper.readEventFilesText(t[0],t=>{""!==(t=t.trim())?($v.ThemeManager.customStyle=t,$v.ThemeManager.useCustomStyle=!0,$v.ThemeManager.onCloseReload=!0,FunctionHelper.triggerCallback(e)):A.reset()}):window.alert("Invalid style file")})},reset:function(){$v.ThemeManager.customStyle="",$v.ThemeManager.useCustomStyle=!1,$v.ThemeManager.onCloseReload=!0},open:function(){return FileSystemHelper.isExists(A.path,t=>{let e=A.getDefaultPath();!0===t&&(e=FileSystemHelper.getFileSystemUrl(A.path)),console.log(e),WindowHelper.popup(e,"customeStyle")}),this},download:function(){return FileSystemHelper.isExists(A.path,t=>{let e=A.getDefaultPath();!0===t&&(e=FileSystemHelper.getFileSystemUrl(A.path)),FileHelper.download(e,"style.css")}),this},getCustom:function(t){let e=this.path;return FileSystemHelper.read(e,t),this},hasCustomStyle:function(t){return FileSystemHelper.isExists(this.path,t),this},getDefaultPath:function(){return"./themes/"+ConfigHelper.get("defaultTheme")+"/style.css"},load:function(t){let e=this.path;return FileSystemHelper.read(e,i=>{e=void 0===i?this.getDefaultPath():FileSystemHelper.getFileSystemUrl(this.path);let n=$("link#StyleManager");0===n.length?n=$(`<link href="${e}" rel="stylesheet" type="text/css" id="StyleManager" />`).appendTo("head"):n.attr("href",e),FunctionHelper.triggerCallback(t)}),this},dragenter:function(t){$(t.target).addClass("dragover")},dragleave:function(t){$(t.target).removeClass("dragover")},drop:function(t){let e=t.dataTransfer.files;return A.uploadFiles(e),!1},validate:function(t,e){return 1!==t.length||"text/css"!==t[0].type?(FunctionHelper.triggerCallback(e,!1),this):(FunctionHelper.triggerCallback(e,!0),this)},setSave:function(t){$v.ThemeManager.onCloseReload=!0},getStyle:function(t){FileSystemHelper.read(this.path,e=>{void 0===e&&(e=""),FunctionHelper.triggerCallback(t,e)})},saveStyle:function(t,e){return""===t?(this.reset(),FileSystemHelper.remove(this.path,e)):FileSystemHelper.writeFromString(this.path,t,e),this},set:function(t,e){void 0===t||""===t.trim()?(this.reset(),FunctionHelper.triggerCallback(e)):FileSystemHelper.writeFromString(t,this.path,e)},getConfig:function(t){this.hasCustomStyle(e=>{!1!==e?FileSystemHelper.read(this.path,t):FunctionHelper.triggerCallback(t)})},setConfig:function(t,e){void 0!==t?FileSystemHelper.writeFromString(this.path,t,e):FunctionHelper.triggerCallback(e)}};var W=A,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"cog icon"}),t._v("\n    "+t._s(t.$t("Template Builder"))+"\n  ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description fixed-height ui form"},[i("div",{staticClass:"step step-1",class:{hide:1!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\n          "+t._s(t.$t("Open the article page in Blogger."))+"\n        ")]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"step step-2",class:{hide:2!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\n          "+t._s(t.$t("View page source."))+"\n        ")]),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"step step-3",class:{hide:3!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\n          "+t._s(t.$t("Copy whole code."))+"\n        ")]),t._v(" "),t._m(2)]),t._v(" "),i("div",{staticClass:"step step-4",class:{hide:4!==t.currentStep}},[i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[t._v("\n                "+t._s(t.$t("Paste code into following field:"))+"\n              ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rawHTML,expression:"rawHTML"}],attrs:{id:"rawHTMLtextarea"},domProps:{value:t.rawHTML},on:{input:function(e){e.target.composing||(t.rawHTML=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"step step-5",class:{hide:5!==t.currentStep}},[i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui message",class:t.templateFoundMessage},[t.placeholderFound.length>0?i("div",[t._v("\n                "+t._s(t.$t("Template detected:"))+"\n                "+t._s(t.placeholderFound.join(t.$t(", ")))+"\n              ")]):t._e(),t._v(" "),t.placeholderNotFound.length>0?i("div",[t._v("\n                "+t._s(t.$t("Template not detected:"))+"\n                "+t._s(t.placeholderNotFound.join(t.$t(", ")))+"\n                "),i("p",[t._v("\n                "+t._s(t.$t("You have to add them by yourself."))+"\n                ")])]):t._e()]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\n                "+t._s(t.$t("Parsing result"))+"\n              ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.parsedTemplate,expression:"parsedTemplate"}],attrs:{id:"parsedTemplateTextarea"},domProps:{value:t.parsedTemplate},on:{input:function(e){e.target.composing||(t.parsedTemplate=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"step step-6",class:{hide:6!==t.currentStep}},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid labeled icon massive button",on:{click:t.downloadParedResult}},[i("i",{staticClass:"download icon"}),t._v("\n             "+t._s(t.$t("Download parsing result"))+"\n            ")])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid labeled icon massive button",class:{positive:4===t.placeholderFound.length,disabled:4!==t.placeholderFound.length||!0===t.onCloseReload},on:{click:t.setAsTemplate}},[i("i",{staticClass:"cog icon"}),t._v("\n             "+t._s(t.$t("Set as template"))+"\n            ")])])])])])]),t._v(" "),i("div",{staticClass:"actions"},[t.currentStep>1?i("div",{staticClass:"ui labeled icon button",on:{click:t.prevStep}},[i("i",{staticClass:"chevron left icon"}),t._v("\n        "+t._s(t.$t("Prev"))+"\n      ")]):t._e(),t._v(" "),t.currentStep>0&&t.currentStep<4||5===t.currentStep?i("div",{staticClass:"ui green right labeled icon button",on:{click:t.nextStep}},[t._v("\n        "+t._s(t.$t("Next"))+"\n        "),i("i",{staticClass:"chevron right icon"})]):t._e(),t._v(" "),4===t.currentStep?i("div",{staticClass:"ui green right labeled icon button",class:{disabled:!1===t.validateRawHTML},on:{click:t.parseRawHTML}},[t._v("\n        "+t._s(t.$t("Next"))+"\n        "),i("i",{staticClass:"chevron right icon"})]):t._e(),t._v(" "),6===t.currentStep?i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\n        "+t._s(t.$t("Close"))+"\n      ")]):t._e()])])};j._withStripped=!0;var z={data:function(){return{name:"TemplateBuilder",ui:void 0,currentStep:1,rawHTML:"",parsedTemplate:"",placeholderFound:[],placeholderNotFound:[],onCloseReload:!1}},mounted:function(){},computed:{validateRawHTML:function(){return!(this.rawHTML.length<100||0===this.rawHTML.split("<html").length||0===this.rawHTML.split("</html>").length)},templateFoundMessage:function(){return 0===this.placeholderNotFound.length?"positive":"yellow"}},created:function(){$v.base=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(`.${this.name}.ui.modal`)),this.ui},open:function(){this.currentStep=1,this.rawHTML="",this.parsedTemplate="",this.getUI().modal("show")},close:function(){!0===this.onCloseReload?(this.onCloseReload=!1,InitHelper.reload(()=>{this.getUI().modal("hide")})):this.getUI().modal("hide")},prevStep:function(){this.currentStep--},nextStep:function(){this.currentStep++},parseRawHTML:function(){let t=this.rawHTML.trim(),e=this.extractBody(t);e=this.detectPostTitle(e),e=this.detectPostLabels(e),e=this.detectPostDate(e),e=this.detectPostBody(e);let i=e.html();for(;i.indexOf("\n\n")>-1;)i=i.split("\n\n").join("\n");this.parsedTemplate=i,this.nextStep()},extractBody:function(t){let e=t.slice(t.indexOf("<head"),t.indexOf("</head>")+7).trim();if(e=e.slice(e.indexOf(">")+1,e.lastIndexOf("</head>")).trim(),e.indexOf("\x3c!--[if IE]>")>-1){let t=e.indexOf("\x3c!--[if IE]>"),i=e.indexOf("--\x3e",t)+3;e=e.slice(0,t)+e.slice(i)}let i=t.slice(t.indexOf("<body"),t.indexOf("</body>")+7).trim();i=i.replace("<body","<div"),i=i.replace("</body>","</div>");let n=$(`<div>${i}</div>`);return n.prepend(e),n.children("title").remove(),n.children('link:not([type="text/css"])').remove(),n.children("meta").remove(),n.find("script").remove(),n.find("header").remove(),n.find("footer").remove(),n.find(".site-footer").remove(),n.find("aside").remove(),n.find("#side-bar").remove(),n.find("#comments").remove(),n.find("#disqus_thread").remove(),n.find("#blog-pager").remove(),n.find(".gcse").remove(),n.find(".post-feeds").remove(),n.find(".entry-meta").remove(),n.find(".hidden").remove(),n.find("#menu-primary").remove(),n.find("noscript").remove(),n.find("#masthead").remove(),n.find(".blog-admin").remove(),n.find(".comment-count").remove(),n.find(".firstload-background").remove(),n.find("a[accesskey][href]").remove(),n},detectPostTitle:function(t){let e=!1,i=t.find("article > h1:first");if(i.length>0){let t=i.contents();for(let i=0;i<t.length;i++){let n=t[i];if(3===n.nodeType&&""!==n.nodeValue.trim()){n.nodeValue="${PostTitle}",e=!0;break}}!1===e&&i.prepend("${PostTitle}")}return!0===e?this.placeholderFound.push("${PostTitle}"):this.placeholderNotFound.push("${PostTitle}"),t},detectPostLabels:function(t){let e=!0,i=t.find("article .label-info:first");return i.length>0&&(i.text("${PostLabels}"),e=!0),!0===e?this.placeholderFound.push("${PostLabels}"):this.placeholderNotFound.push("${PostLabels}"),t},detectPostDate:function(t){let e=!1,i=t.find("article .timestamp:first");if(i.length>0){let t=i.contents();for(let i=0;i<t.length;i++){let n=t[i];if(3===n.nodeType&&""!==n.nodeValue.trim()){n.nodeValue="${PostDate}",e=!0;break}}!1===e&&i.prepend("${PostDate}")}return!0===e?this.placeholderFound.push("${PostDate}"):this.placeholderNotFound.push("${PostDate}"),t},detectPostBody:function(t){let e=!1,i=t.find("article:first");return i.length>0&&(i.children(":not(h1:first)").remove(),i.append("${PostBody}"),e=!0),!0===e?this.placeholderFound.push("${PostBody}"):this.placeholderNotFound.push("${PostBody}"),t},downloadParedResult:function(){let t=`template-${DayjsHelper.nowFormat()}.html`;FileHelper.save(this.parsedTemplate,t)},setAsTemplate:function(){console.log(this.parsedTemplate),$v.ThemeManager.TemplateManager.setConfig(this.parsedTemplate),this.onCloseReload=!0}}},G=(i(225),i(70)),V=Object(o.a)(z,j,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/TemplateBuilder/open-article-page.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/TemplateBuilder/view-source-code.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/TemplateBuilder/copy-code.png"}})])}],!1,null,"d9717bfc",null);"function"==typeof G.default&&Object(G.default)(V),V.options.__file="src/views/ThemeManager/TemplateBuilder/TemplateBuilder.vue";var K=V.exports,q=i(66),Y={data:function(){return{ui:void 0,defaultTheme:ConfigHelper.get("defaultTheme"),useCustomTemplate:!1,useCustomStyle:!1,path:{template:"/template.html",style:"/style.css"},TemplateManager:B,StyleManager:W,TemplateBuilder:null,onCloseReload:!1,customStyle:""}},mounted(){},created:function(){$(()=>{let t=$(".ThemeManager.modal .menu .item");"function"==typeof t.tab&&t.tab()}),$v.ThemeManager=this,!1===ConfigHelper.get("debug").disableTemplateBuilder&&q.default.init("TemplateBuilder",K,t=>{this.TemplateBuilder=t})},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.TemplateManager.hasCustomTemplate(t=>{this.useCustomTemplate=t,this.StyleManager.hasCustomStyle(t=>{this.useCustomStyle=t,this.getUI().modal("show")})})},close:function(){if(!0===this.onCloseReload){this.onCloseReload=!1;let t=this.customStyle;this.StyleManager.saveStyle(t,()=>{InitHelper.reload(()=>{this.getUI().modal("hide")})})}else this.getUI().modal("hide")},persist(){},init:function(t){if(!0===ConfigHelper.get("debug").disableThemeManager)return FunctionHelper.triggerCallback(t);this.StyleManager.getStyle(t=>{this.customStyle=t}),this.StyleManager.load(()=>{this.TemplateManager.load(t)})},openTemplateBuilder:function(){this.TemplateBuilder.open()},openTab:function(t){SemanticUIHelper.openTab(t)},reload:function(t){$("#template").empty(),this.init(t)},getConfig:function(t){this.TemplateManager.getConfig(e=>{this.StyleManager.getConfig(i=>{FunctionHelper.triggerCallback(t,e,i)})})}}},J=(i(227),i(71)),Q=Object(o.a)(Y,D,[],!1,null,"4e92dc05",null);"function"==typeof J.default&&Object(J.default)(Q),Q.options.__file="src/views/ThemeManager/ThemeManager.vue";var X=Q.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"non-invasive-web-style-framework"},[i("div",{staticClass:"ui modal EditorManager"},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"keyboard outline icon"}),t._v("\n      "+t._s(t.$t("Editor Manager"))+"\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"ui form description"},[i("div",{staticClass:"ui top attached tabular menu"},[i("a",{staticClass:"item active",attrs:{"data-tab":"text"},on:{click:t.openTab}},[t._v("\n              "+t._s(t.$t("Text"))+"\n            ")]),t._v(" "),i("a",{staticClass:"item",attrs:{"data-tab":"image"},on:{click:t.openTab}},[t._v("\n              "+t._s(t.$t("Image"))+"\n            ")]),t._v(" "),i("a",{staticClass:"item",attrs:{"data-tab":"toolbar"},on:{click:t.openTab}},[t._v("\n              "+t._s(t.$t("Toolbar"))+"\n            ")]),t._v(" "),i("a",{staticClass:"item",attrs:{"data-tab":"labels"},on:{click:t.openTab}},[t._v("\n              "+t._s(t.$t("Labels"))+"\n            ")])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment active form",attrs:{"data-tab":"text"}},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableTypeWriterSoundEffect,expression:"enableTypeWriterSoundEffect"}],attrs:{type:"checkbox",name:"enableTypeWriterSoundEffect"},domProps:{checked:Array.isArray(t.enableTypeWriterSoundEffect)?t._i(t.enableTypeWriterSoundEffect,null)>-1:t.enableTypeWriterSoundEffect},on:{change:[function(e){var i=t.enableTypeWriterSoundEffect,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.enableTypeWriterSoundEffect=i.concat([null])):s>-1&&(t.enableTypeWriterSoundEffect=i.slice(0,s).concat(i.slice(s+1)))}else t.enableTypeWriterSoundEffect=a},t.persist]}}),t._v(" "),i("label",[t._v(t._s(t.$t("Enable typewriter sound effect")))])])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui"},[i("label",{attrs:{for:"CommentAnchor"}},[t._v("\n                  "+t._s(t.$t("Comment Anchor"))+"\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.CommentAnchor,expression:"CommentAnchor"}],attrs:{type:"text",name:"CommentAnchor",id:"CommentAnchor",onfocus:"this.select()"},domProps:{value:t.CommentAnchor},on:{change:t.persist,input:function(e){e.target.composing||(t.CommentAnchor=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",attrs:{"data-tab":"image"}},[i("div",{staticClass:"unstackable fields"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableOCRImageFilename,expression:"enableOCRImageFilename"}],attrs:{type:"checkbox",name:"enableOCRImageFilename"},domProps:{checked:Array.isArray(t.enableOCRImageFilename)?t._i(t.enableOCRImageFilename,null)>-1:t.enableOCRImageFilename},on:{change:[function(e){var i=t.enableOCRImageFilename,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.enableOCRImageFilename=i.concat([null])):s>-1&&(t.enableOCRImageFilename=i.slice(0,s).concat(i.slice(s+1)))}else t.enableOCRImageFilename=a},t.persist]}}),t._v(" "),i("label",[t._v(t._s(t.$t("Use OCR text as image's filename")))])])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableOCRImageAlt,expression:"enableOCRImageAlt"}],attrs:{type:"checkbox",name:"enableOCRImageAlt"},domProps:{checked:Array.isArray(t.enableOCRImageAlt)?t._i(t.enableOCRImageAlt,null)>-1:t.enableOCRImageAlt},on:{change:[function(e){var i=t.enableOCRImageAlt,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.enableOCRImageAlt=i.concat([null])):s>-1&&(t.enableOCRImageAlt=i.slice(0,s).concat(i.slice(s+1)))}else t.enableOCRImageAlt=a},t.persist]}}),t._v(" "),i("label",[t._v(t._s(t.$t("Use OCR text as image's alt text")))])])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"OCRImageLang"}},[t._v("\n                "+t._s(t.$t("OCR Language"))+"\n              ")]),t._v(" "),i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.OCRImageLang,expression:"OCRImageLang"}],attrs:{type:"url",name:"OCRImageLang",onfocus:"this.select()",id:"OCRImageLang",placeholder:"chi_tra+eng"},domProps:{value:t.OCRImageLang},on:{change:t.persist,input:function(e){e.target.composing||(t.OCRImageLang=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\n                "+t._s(t.$t("Thumbnail Image Size"))+"\n              ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.imageSizeDefault,expression:"imageSizeDefault"}],attrs:{type:"number",name:"imageSizeDefault",id:"imageSizeDefault"},domProps:{value:t.imageSizeDefault},on:{input:function(e){e.target.composing||(t.imageSizeDefault=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ImageUploadDraft"}},[t._v("\n                "+t._s(t.$t("Image Upload Draft"))+"\n              ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ImageUploadDraft,expression:"ImageUploadDraft"}],attrs:{type:"url",name:"ImageUploadDraft",onfocus:"this.select()",id:"ImageUploadDraft",placeholder:"https://www.blogger.com/blog/post/edit/..."},domProps:{value:t.ImageUploadDraft},on:{change:t.persist,input:function(e){e.target.composing||(t.ImageUploadDraft=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:!t.isImageUploadDraftValid},on:{click:t.openImageUploadDraft}},[t._v(t._s(t.$t("OPEN")))])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"PhotoRepository"}},[t._v("\n                "+t._s(t.$t("Photo Repository"))+"\n              ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.PhotoRepository,expression:"PhotoRepository"}],attrs:{type:"url",name:"PhotoRepository",onfocus:"this.select()",id:"PhotoRepository",placeholder:"https://photos.google.com/?hl=zh-TW"},domProps:{value:t.PhotoRepository},on:{change:t.persist,input:function(e){e.target.composing||(t.PhotoRepository=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:!t.isPhotoRepositoryValid},on:{click:t.openPhotoRepository}},[t._v(t._s(t.$t("OPEN")))])])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",attrs:{"data-tab":"toolbar"}},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",{attrs:{for:"summerNoteConfigToolbar"}},[t._v("\n                  "+t._s(t.$t("Toolbar"))+"\n                  ("),i("a",{attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/blob/master/help/SummerNoteConfigToolbar.md",target:"summerNoteConfigToolbarHelp"}},[t._v("\n                    "+t._s(t.$t("HELP"))+"\n                  ")]),t._v(")\n                ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.summerNoteConfigToolbar,expression:"summerNoteConfigToolbar"}],staticClass:"summernote-config-toolbar",attrs:{id:"summerNoteConfigToolbar",placeholder:t.toolbarJSON},domProps:{value:t.summerNoteConfigToolbar},on:{change:t.setChanged,input:function(e){e.target.composing||(t.summerNoteConfigToolbar=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"summerNoteConfigStyleTags"}},[t._v("\n                  "+t._s(t.$t("Style Tags"))+"\n                  ("),i("a",{attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/blob/master/help/SummerNoteConfigSrtyleTags.md",target:"summerNoteConfigStyleTagsHelp"}},[t._v("\n                    "+t._s(t.$t("HELP"))+"\n                  ")]),t._v(")\n                ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.summerNoteConfigStyleTags,expression:"summerNoteConfigStyleTags"}],staticClass:"summernote-config-toolbar",attrs:{id:"summerNoteConfigStyleTags",placeholder:t.styleTagsJSON},domProps:{value:t.summerNoteConfigStyleTags},on:{change:t.setChanged,input:function(e){e.target.composing||(t.summerNoteConfigStyleTags=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",attrs:{"data-tab":"labels"}},[i("div",{staticClass:"field"},[i("label",{attrs:{for:"summerNoteConfigLabelsSearch"}},[t._v("\n                "+t._s(t.$t("Search Label"))+"\n              ")]),t._v(" "),i("div",{ref:"summerNoteConfigLabelsSearch",staticClass:"ui search"},[t._m(0),t._v(" "),i("div",{staticClass:"results"})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"summerNoteConfigLabels"}},[t._v("\n                "+t._s(t.$t("Labels"))+"\n                ("),i("a",{attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/blob/master/help/SummerNoteConfigLabels.md",target:"summerNoteConfigLabelsHelp"}},[t._v("\n                  "+t._s(t.$t("HELP"))+"\n                ")]),t._v(")\n              ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.summerNoteConfigLabels,expression:"summerNoteConfigLabels"}],staticClass:"summernote-config-labels",attrs:{id:"summerNoteConfigLabels"},domProps:{value:t.summerNoteConfigLabels},on:{change:t.setLabelsChanged,input:function(e){e.target.composing||(t.summerNoteConfigLabels=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\n        "+t._s(t.$t("Cancel"))+"\n      ")]),t._v(" "),i("div",{staticClass:"ui positive right labeled icon button",on:{click:function(e){t.persist(),t.close()}}},[t._v("\n        "+t._s(t.$t("OK"))+"\n        "),i("i",{staticClass:"checkmark icon"})])])])])};Z._withStripped=!0;var tt=i(8);var et={key:"FieldPostBodyCache.postBody",set:function(t){try{localStorage.setItem(this.key,t)}catch(t){}},get:function(){let t=localStorage.getItem(this.key);if(null!==t&&"string"==typeof t&&""!==t.trim())return t}};i(98);var it={ui:null,firstSet:!0,$t:null,debug:{disableSummerNode:!1},init:function(t,e){return this.$t=t,this.debug.disableSummerNode=ConfigHelper.get("debug").disableSummerNode,!0===this.debug.disableSummerNode?(FunctionHelper.triggerCallback(e),this):(tt.a.loadLocale(()=>{this.get().summernote(tt.a.postBodyConfig(t,e))}),this)},reload:function(t){return this.ui=null,this.get().summernote(tt.a.postBodyConfig(t=>this.$t(t),t)),this},get:function(){return null!==this.ui&&0!==this.ui.length||(this.ui=$("#summernotePostBody")),this.ui},summernote:function(t,...e){return e=[t].concat(e),this.get().summernote.apply(this,e)},getHTML:function(){return!0===this.debug.disableSummerNode?this.get().html():this.get().summernote("code")},getText:function(){return $(this.getHTML()).text().trim()},getTextCount:function(){let t=this.getText();for(;t.indexOf("  ")>-1;)t=t.split(" ").join("");return t.length},getSelectTarget:function(){if(!0===this.debug.disableSummerNode)return!1;let t=this.get().summernote("restoreTarget");return void 0===t&&(t=this.get().summernote("createRange")),t},getCurrentPosition:function(){let t=this.getSelectTarget();if(void 0!==t){let e=$(t.sc.parentElement);if(e.hasClass("note-editable"))try{return $(t.sc).offset()}catch(t){return!1}return e.offset()}},getSelectText:function(){if(!0===this.debug.disableSummerNode)return!1;return this.get().summernote("createRange").toString()},getElement:function(){return!0===this.debug.disableSummerNode?this.get():this.get().next().find(".note-editing-area .note-editable")},getSelectedNodeAndRemove:function(){return this.get().summernote("editor.getSelectedNodeAndRemove")},getCurrentElement:function(){return this.get().summernote("editor.getCurrentElement")},moveToNextElement:function(){let t=this.getCurrentElement().next();if(0===t.length)return!1;let e=document.createRange();var i=window.getSelection();if(t.text().length>0){var n=t[0].childNodes[0];e.setStart(n,0),e.collapse(!0),i.removeAllRanges(),i.addRange(e)}t[0].scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},hasSelectedRange:function(){return this.get().summernote("editor.hasSelectedRange")},isNode:function(t){return t.startsWith("<")&&t.endsWith(">")},insert:function(t){if(!0===this.debug.disableSummerNode)return"string"==typeof t&&(t=t.trim(),!1===this.isNode(t)&&(t=`<span>${t}</span>`),t=$(t)),this.get().append(t),this;return this.get().summernote("insert",t),this.onChange(),this},change:function(){this.insert("")},set:function(t,e){if(!0===this.debug.disableSummerNode)return this.get().html(t),this;if(!0===this.firstSet){if("string"!=typeof t||""===t.trim()){let e=et.get();void 0!==e&&(t=e)}this.firstSet=!1}return this.get().summernote("code",t),this.get().summernote("editor.commit"),!1!==e&&et.set(t),EventManager.trigger(this,"set"),this},getImageList:function(t){if(void 0===t)t=this.getElement();else{if(""===t)return[];"string"==typeof t&&(t=$(`<div>${t}</div>`))}let e=[];return t.find('img[src^="filesystem:"]').each((t,i)=>{e.push(i.src)}),e},filterImageListToRelative:function(t){let e=$(`<div>${t}</div>`),i=function(t){return FileSystemHelper.stripAssetFileSystemPrefix(t)};return e.find('img[src^="filesystem:"]').each((t,e)=>{e.src=i(e.src)}),e.find('a[href^="filesystem:"]').each((t,e)=>{e.href=i(e.href)}),e.html()},filterImageListToFileSystem:function(t,e){let i=$(`<div>${t}</div>`),n=function(t){return FileSystemHelper.appendAssetFileSystemPrefix(t,e)};return i.find("img[src]").each((t,e)=>{e.src=n(e.src)}),i.find("a[href]").each((t,e)=>{e.href=n(e.href)}),i.html()},setImageList:function(t){let e=this.getElement(),i=!1,n=0;for(let a in t){let s=t[a],o=BloggerImageHelper.getFullSize(s),r=decodeURIComponent(a).split("+").join(" ");for(;r!==a;)a=r,r=decodeURIComponent(a).split("+").join(" ");a=encodeURIComponent(r);let l='img[src^="filesystem:"][src$="/'+a+'"]';e.find(l).each((t,e)=>{0===t&&!1===$(e).hasClass("original-size")?(e.src=BloggerImageHelper.getFullSize(s),$(e).removeAttr("width"),$(e).removeAttr("height"),$(e).addClass("original-size")):!1===$(e).hasClass("original-size")?e.src=BloggerImageHelper.getSize(s,e):e.src=BloggerImageHelper.getFullSize(s),"string"!=typeof e.title&&(e.title=a),i=!0,n++});let c='a[href^="filesystem:"][href$="/'+a+'"]';e.find(c).each((t,e)=>{e.href=o,i=!0})}return!0===i&&(this.save(!0),this.clearFileSystemAsset()),n},hasFileSystemImage:function(){return 1===this.getElement().find('img[src^="filesystem:"]:first').length},countFileSystemImage:function(){return this.getElement().find('img[src^="filesystem:"]').length},countImage:function(){return this.getElement().find("img[src]").length},countTable:function(){return this.getElement().find("table").length},countIframe:function(){return this.getElement().find("iframe[src]").length},clearFileSystemAsset:function(){if(this.hasFileSystemImage())return console.log("Filesystem Images are still used. You cannot remove them."),!1;let t=`/${$v.PostManager.editingPostId}/assets`;return FileSystemHelper.removeDir(t)},onChange:function(t){EventManager.trigger(this,"beforechange"),DelayExecHelper.foreExec("postBody",5,30,()=>{$v.EditorManager.FieldPostDate.set(),"string"!=typeof t&&(t=this.getHTML()),$v.PostManager.updateEditingPostBody(t),EventManager.trigger(this,"change"),GoogleAnalyticsHelper.send("FieldPostBody.onChange",{charCount:this.getHTML().length,wordCount:this.getTextCount(),imageCount:this.countImage(),timeSpent:this.getTimeSpend()})})},getTimeSpend:function(){let t=$v.PostManager.getPost().timeSpentSecond;return DayjsHelper.timeSpentDisplay(t)},save:function(t){this.deactivateCodeView();let e=this.getHTML();if("string"!=typeof e||""===e.trim())return!1;DelayExecHelper.backExec("FieldPostBody.cleanUnusedFileSystem",3,()=>{$v.PostManager.updateEditingPostBody(e,t),EventManager.trigger(this,"save")})},deactivateCodeView:function(){let t=this.get();!0===t.summernote("codeview.isActivated")&&t.summernote("codeview.toggle")},activateCodeView:function(){let t=this.get();!1===t.summernote("codeview.isActivated")&&t.summernote("codeview.toggle")},cleanUnusedFileSystem:function(t){let e=[],i=t=>{t=t.slice(t.lastIndexOf("/")+1),-1===e.indexOf(t)&&e.push(t)},n=this.getElement();n.find('img[src^="filesystem:"]').each((t,e)=>{i(e.src)}),n.find('a[href^="filesystem:"]').each((t,e)=>{i(e.href)});let a=`/${$v.PostManager.editingPostId}/assets/`;FileSystemHelper.list(a,i=>{if(void 0===i)return FunctionHelper.triggerCallback(t);let n=0,a=n=>{if(n<i.length){let t=i[n],a=t.slice(t.lastIndexOf("/")+1);a=encodeURI(a),-1===e.indexOf(a)?FileSystemHelper.remove(t,s):s()}else FunctionHelper.triggerCallback(t)},s=()=>{n++,a(n)};a(n)})}};var nt={ui:null,uiNew:null,uiAdd:null,$t:null,debug:{disableSummerNode:!1},init:function(t,e){return this.$t=t,this.debug.disableSummerNode=ConfigHelper.get("debug").disableSummerNode,!0===ConfigHelper.get("debug").disableSummerNode?(FunctionHelper.triggerCallback(e),this):(this.initSummerNote(e),this.initAddButton(),this)},reload:function(t){return this.ui=null,this.uiNew=null,this.uiAdd=null,this.initSummerNote(t),this.initAddButton(),this},initSummerNote:function(t){let e=tt.a.postLabelsConfig(this.$t("No Label"),()=>{this.initSummerNoteNew(t)});this.get().summernote(e)},initSummerNoteNew:function(t){let e=tt.a.postLabelsConfig(this.$t("Add a new label..."),t,t=>{""!==this.uiNew.summernote("text").trim()?this.uiAdd.show():this.uiAdd.hide()});this.uiNew.summernote(e)},get:function(){return null!==this.ui&&0!==this.ui.length||(this.ui=$("#summernotePostLabels")),null!==this.uiNew&&0!==this.uiNew.length||(this.uiNew=$("#summernotePostLabelsNew")),null!==this.uiAdd&&0!==this.uiAdd.length||(this.uiAdd=$("#summernotePostLabelsAdd")),this.ui},getElement:function(){return!0===this.debug.disableSummerNode?this.get():this.get().next().find(".note-editing-area .note-editable")},getText:function(){let t=this.getElement().text();return t.indexOf(",  ")>-1&&(t=t.split(",  ").join(", ")),t},set:function(t){let e=this.get();return!0===this.debug.disableSummerNode?(e.html(t),this):(e.summernote("code",t),e.summernote("editor.commit"),this)},save:function(t){let e=this.getText();$v.PostManager.updateEditingPost("labels",e,t)},initAddButton:function(){this.uiAdd.click(()=>{let t=this.uiNew.summernote("text");""!==t.trim()&&(this.addLabel(t),this.uiNew.summernote("text",""),$v.EditorManager.addLabel(t))})},addLabel:function(t){if(""!==t.trim()){let e=this.ui.summernote("text"),i=e.trim().split(","),n=!0;for(let e=0;e<i.length;e++)if(i[e].trim()===t){n=!1;break}if(!1===n)return!1;""!==e.trim()?(e.trim().endsWith(",")||(e+=", "),e=e+t+","):e=t+",",this.ui.summernote("text",e),this.ui.summernote("focus"),this.ui.summernote("moveCursor"),this.ui.summernote("insertText"," ")}},addSummernoteItem:function(t){this.ui.summernote("hintPopover.addItem",t),this.uiNew.summernote("hintPopover.addItem",t)},onPostLabelsChange:function(t){for(Array.isArray(t)&&(t=t.join(", ")),t=t.trim();t.endsWith("&nbsp;");)t=t.slice(0,-6).trim();DelayExecHelper.exec("labels",3,()=>{$v.EditorManager.FieldPostDate.set(),t.startsWith("<")&&t.endsWith(">")&&(t=$(t).text()),$v.PostManager.updateEditingPost("labels",t)})},getLabelsHintConfig:function(){return{words:$v.EditorManager.labelsList,match:/([\u4E00-\u9FAF\u3040-\u3096\u30A1-\u30FA\uFF66-\uFF9D\u31F0-\u31FFA-Za-z]{1,})$/,search:function(t,e){e($.grep(this.words,e=>e.toLowerCase().indexOf(t.toLowerCase())>-1))},content:t=>(setTimeout(()=>{this.addLabel(t)},0),"")}}};var at={ui:null,$t:null,debug:{disableSummerNode:!1},init:function(t,e){return this.$t=t,this.debug.disableSummerNode=ConfigHelper.get("debug").disableSummerNode,!0===this.debug.disableSummerNode?(FunctionHelper.triggerCallback(e),this):(this.get().summernote(tt.a.postTitleConfig(this.$t("No Title"),e)),this)},reload:function(t){return this.ui=null,this.get().summernote(tt.a.postTitleConfig("No Title",t)),this},get:function(){return null!==this.ui&&0!==this.ui.length||(this.ui=$("#summernotePostTitle")),this.ui},getElement:function(){return!0===this.debug.disableSummerNode?this.get():this.get().next().find(".note-editing-area .note-editable")},getText:function(){let t=this.getElement().text().trim();for(;t.endsWith("&nbsp;");)t=t.slice(0,-6);return"string"==typeof t&&(t=$(`<span>${t}</span>`).text().trim()),t},set:function(t){return!0===this.debug.disableSummerNode?(this.get().html(t),this):(this.get().summernote("code",t),this.get().summernote("editor.commit"),this.updateDocumentTitle(),this)},save:function(t){let e=this.getText();return $v.PostManager.updateEditingPost("title",e,t),this},titleLengthLimit:30,updateDocumentTitle:function(t){void 0===t&&(t=this.getText()),"string"==typeof t&&""!==t.trim()?(t.length>this.titleLengthLimit&&(t.indexOf("/")>-1&&(t=t.slice(0,t.indexOf("/")).trim()),t.length>this.titleLengthLimit&&(t=t.slice(0,this.titleLengthLimit).trim()+"..."),t=t.trim()+" - "+this.$t("Blogger Editor")),document.title=t):document.title="Blogger Editor"},onPostTitleChange:function(t){for(t=this.getText();t.endsWith("&nbsp;");)t=t.slice(0,-6).trim();DelayExecHelper.exec("title",3,()=>{$v.EditorManager.FieldPostDate.set(),t.startsWith("<")&&t.endsWith(">")&&(t=$(t).text()),this.updateDocumentTitle(t),$v.PostManager.updateEditingPost("title",t)})}};var st={ui:null,get:function(){return null!==this.ui&&0!==this.ui.length||(this.ui=$("#summernotePostDate")),this.ui},set:function(t){return"number"==typeof t&&(t=DayjsHelper.postDate(t)),this.get().html(t),this},reset:function(){this.ui=null}},ot=i(14);var rt={EditorManager:null,init:function(t){this.EditorManager=t},configDownload:function(){let t=this.getConfig();t=JSON.stringify(t);let e=`editorConfig-${DayjsHelper.nowFormat()}.json`;FileHelper.save(t,e)},getConfig:function(){let t=this.EditorManager,e=t=>this.$t(t);return{image:{uploadImageDraft:t.uploadImageDraft,imageSizeDefault:t.imageSizeDefault},toolbar:{toolbar:t.SummerNoteConfig.toolbar(e,!1),styleTags:t.SummerNoteConfig.styleTags(e,!1)}}},configUpload:function(t){let e=t.target.files;this.readConfig(e)},configDrop:function(t){let e=t.dataTransfer.files;this.readConfig(e)},readConfig:function(t){return 1!==t.length||"application/json"!==t[0].type||FileSystemHelper.readEventFilesText(t[0],t=>{t=JSON.parse(t),this.setConfig(t),WindowHelper.alert(this.$t("Config uploaded"))}),this},setConfig:function(t){let e=this.EditorManager;if("string"==typeof t&&(t=JSON.parse(t)),"object"==typeof t.image){let i=t.image;"string"==typeof i.uploadImageDraft&&(e.uploadImageDraft=i.uploadImageDraft),"number"==typeof i.imageSizeDefault&&(e.imageSizeDefault=i.imageSizeDefault)}if("object"==typeof t.toolbar){let i=t.toolbar;if(Array.isArray(i.toolbar)){let t=JSON.stringify(i.toolbar);"[]"===t&&(t=""),e.summerNoteConfigToolbar=t}if(Array.isArray(i.styleTags)){let t=JSON.stringify(i.styleTags);"[]"===t&&(t=""),e.summerNoteConfigStyleTags=t}}}},lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"image icon"}),t._v("\r\n    "+t._s(t.$t("Image Replace"))+"\r\n  ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form",class:{"fixed-height":0!==t.currentStep}},[i("div",{staticClass:"no-images step step-0",class:{hide:0!==t.currentStep}},[i("div",{staticClass:"ui green message"},[t._v("\r\n          "+t._s(t.$t("No filesystem image in post body."))+"\r\n        ")])]),t._v(" "),i("div",{staticClass:"step step-1",class:{hide:1!==t.currentStep}},[t._m(0),t._v(" "),i("div",{staticClass:"ui statistics first-filesystem-remained"},[i("div",{staticClass:"statistic",class:{red:t.filesystemImageCount>0}},[i("div",{staticClass:"value"},[t._v("\r\n                "+t._s(t.filesystemImageCount)+"\r\n              ")]),t._v(" "),i("div",{staticClass:"label"},[1===t.filesystemImageCount?[t._v("\r\n                  "+t._s(t.$t("Filesystem image remained"))+"\r\n                ")]:t._e(),t._v(" "),t.filesystemImageCount>1?[t._v("\r\n                  "+t._s(t.$t("Filesystem image remained"))+"\r\n                ")]:t._e()],2)])]),t._v(" "),i("div",{staticClass:"ui fluid yellow labeled icon button",class:{disabled:t.isCreatingImagePackage},on:{click:t.downloadImagePackage}},[i("i",{staticClass:"file archive icon"}),t._v("\r\n          "+t._s(t.$t("Download Image Package"))+"\r\n        ")]),t._v(" "),i("div",{staticClass:"right aligned field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.skipTutorial,expression:"skipTutorial"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.skipTutorial)?t._i(t.skipTutorial,null)>-1:t.skipTutorial},on:{change:[function(e){var i=t.skipTutorial,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.skipTutorial=i.concat([null])):s>-1&&(t.skipTutorial=i.slice(0,s).concat(i.slice(s+1)))}else t.skipTutorial=a},t.persist]}}),t._v(" "),i("label",[t._v("\r\n              "+t._s(t.$t("Skip tutorial"))+"\r\n            ")])])])]),t._v(" "),i("div",{staticClass:"step step-2",class:{hide:2!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\r\n          "+t._s(t.$t("Unzip package into a folder."))+"\r\n          "),i("a",{attrs:{href:"https://www.wikihow.com/Unzip-a-File"}},[t._v("\r\n            "+t._s(t.$t("(How to unzip Image Package)"))+"\r\n          ")])]),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"step step-3",class:{hide:3!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\r\n          "+t._s(t.$t("Open a Blogger draft in Compose mode and empty content."))+"\r\n        ")]),t._v(" "),i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[t.disableUploadImageDraft?t._e():i("div",{staticClass:"ui fluid positive button",on:{click:t.openBloggerDraft}},[t._v("\r\n              "+t._s(t.$t("Open Draft"))+"  \r\n            ")]),t._v(" "),t.disableUploadImageDraft?i("div",{staticClass:"ui fluid button",on:{click:t.openBloggerDraftSetting}},[t._v("\r\n              "+t._s(t.$t("Setting"))+"\r\n            ")]):t._e()]),t._v(" "),t._m(2)])]),t._v(" "),i("div",{staticClass:"step step-4",class:{hide:4!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\r\n          "+t._s(t.$t("Drag images into Blogger draft and upload them."))+"\r\n        ")]),t._v(" "),t._m(3)]),t._v(" "),i("div",{staticClass:"step step-5",class:{hide:5!==t.currentStep}},[i("div",{staticClass:"ui message"},[t._v("\r\n          "+t._s(t.$t("Switch to HTML mode, copy HTML."))+"\r\n        ")]),t._v(" "),t._m(4)]),t._v(" "),i("div",{staticClass:"step step-6",class:{hide:6!==t.currentStep}},[i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("div",{staticClass:"unstackable two fields"},[i("div",{staticClass:"field"},[t.disableUploadImageDraft?t._e():i("button",{staticClass:"ui fluid button",attrs:{type:"button"},on:{click:t.openBloggerDraft}},[t._v("\r\n                  "+t._s(t.$t("Open Draft"))+"\r\n                ")]),t._v(" "),t.disableUploadImageDraft?i("button",{staticClass:"ui fluid button",attrs:{type:"button"},on:{click:t.openBloggerDraftSetting}},[t._v("\r\n                  "+t._s(t.$t("Open Setting"))+"\r\n                ")]):t._e()]),t._v(" "),i("div",{staticClass:"field"},[i("button",{staticClass:"ui fluid button countdown-button",class:{positive:0===t.countdownSecond},attrs:{type:"button"},on:{click:t.startCountdown}},[t._v("\r\n                  "+t._s(t.countdownButton)+"\r\n                ")])])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{on:{dblclick:t.setDemoHTML}},[t._v("\r\n              "+t._s(t.$t("Paste HTML into following field:"))+"\r\n            ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageHTML,expression:"imageHTML"}],attrs:{id:"imageHTMLtextarea"},domProps:{value:t.imageHTML},on:{change:t.validateImageHTML,keyup:t.validateImageHTML,input:function(e){e.target.composing||(t.imageHTML=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"step step-7",class:{hide:7!==t.currentStep}},[i("ImageReplacerRemapping",{ref:"ImageReplacerRemapping",attrs:{imageHTML:t.imageHTML}})],1),t._v(" "),i("div",{staticClass:"step step-8",class:{hide:8!==t.currentStep}},[i("div",{staticClass:"unstackable two fields"},[i("div",{staticClass:"eight wide field"},[i("div",{staticClass:"ui statistics last-filesystem-remained"},[i("div",{staticClass:"statistic",class:{green:t.replacedImageCount>0}},[i("div",{staticClass:"value"},[t._v("\r\n                  "+t._s(t.replacedImageCount)+"\r\n                ")]),t._v(" "),i("div",{staticClass:"label"},[t._v("\r\n                  "+t._s(t.$t("Replaced"))+"\r\n                ")])]),t._v(" "),i("div",{staticClass:"statistic",class:{red:t.filesystemImageCount>0}},[i("div",{staticClass:"value"},[t._v("\r\n                  "+t._s(t.filesystemImageCount)+"\r\n                ")]),t._v(" "),i("div",{staticClass:"label oops"},[t.filesystemImageCount<=1?[t._v("\r\n                    "+t._s(t.$t("Filesystem image remained"))+"\r\n                  ")]:t._e(),t._v(" "),t.filesystemImageCount>1?[t._v("\r\n                    "+t._s(t.$t("Filesystem images remained"))+"\r\n                  ")]:t._e()],2)])])]),t._v(" "),i("div",{staticClass:"eight wide field"},[0===t.filesystemImageCount?i("div",{staticClass:"ui positive icon message"},[i("i",{staticClass:"check circle icon"}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[t._v("\r\n                  "+t._s(t.$t("Well done!"))+"\r\n                ")]),t._v(" "),t.replacedImageCount<=1?[t._v("\r\n                  "+t._s(t.$t("All filesystem image had been uploaded."))+"\r\n                ")]:t._e(),t._v(" "),t.replacedImageCount>1?[t._v("\r\n                  "+t._s(t.$t("All filesystem images had been uploaded."))+"\r\n                ")]:t._e()],2)]):t._e(),t._v(" "),t.filesystemImageCount>0?i("div",{staticClass:"ui warning icon message"},[i("i",{staticClass:"exclamation triangle icon"}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[t._v("\r\n                  "+t._s(t.$t("Not Finished!"))+"\r\n                ")]),t._v(" "),t.replacedImageCount<=1?[t._v("\r\n                  "+t._s(t.$t("There are still {0} image need to upload.",[t.filesystemImageCount]))+"\r\n                ")]:t._e(),t._v(" "),t.replacedImageCount>1?[t._v("\r\n                  "+t._s(t.$t("There are still {0} images need to upload.",[t.filesystemImageCount]))+"\r\n                ")]:t._e()],2)]):t._e()])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"ui fluid yellow labeled icon button",class:{disabled:t.isCreatingImagePackage},on:{click:t.downloadImagePackageAndBackPrevStep}},[i("i",{staticClass:"file archive icon"}),t._v("\r\n             "+t._s(t.$t("Download image package and upload again"))+"\r\n            ")])]),t._v(" "),i("div",{staticClass:"right aligned field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.skipTutorial,expression:"skipTutorial"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.skipTutorial)?t._i(t.skipTutorial,null)>-1:t.skipTutorial},on:{change:[function(e){var i=t.skipTutorial,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.skipTutorial=i.concat([null])):s>-1&&(t.skipTutorial=i.slice(0,s).concat(i.slice(s+1)))}else t.skipTutorial=a},t.persist]}}),t._v(" "),i("label",[t._v("\r\n                "+t._s(t.$t("Skip tutorial"))+"\r\n              ")])])])])])]),t._v(" "),i("div",{staticClass:"actions"},[t.currentStep>1?i("div",{staticClass:"ui labeled icon button",on:{click:t.prevStep}},[i("i",{staticClass:"chevron left icon"}),t._v("\r\n      "+t._s(t.$t("Prev"))+"\r\n    ")]):t._e(),t._v(" "),t.currentStep>0&&t.currentStep<7?i("div",{staticClass:"ui green right labeled icon button",on:{click:t.nextStep}},[t._v("\r\n      "+t._s(t.$t("Next"))+"\r\n      "),i("i",{staticClass:"chevron right icon"})]):t._e(),t._v(" "),7===t.currentStep?i("div",{staticClass:"ui right labeled icon button",class:{disabled:t.disableReplaceImage,green:!1===t.disableReplaceImage},on:{click:t.replaceImage}},[t._v("\r\n      "+t._s(t.$t("Next"))+"\r\n      "),i("i",{staticClass:"chevron right icon"})]):t._e(),t._v(" "),0===t.currentStep||8===t.currentStep?i("div",{staticClass:"ui button",class:{positive:0===t.filesystemImageCount},on:{click:t.close}},[t._v("\r\n      "+t._s(t.$t("Close"))+"\r\n    ")]):t._e()])])};lt._withStripped=!0;var ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ImageReplacerRemapping"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column uploaded-list"},[i("div",{staticClass:"ui message",class:{green:t.fullPaired}},[null!==t.currentPairingItemPost?i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("img",{staticClass:"ui image",attrs:{src:t.postBodyImageList[t.currentPairingItemPost].url}}),t._v(" "),i("div",{staticClass:"middle aligned content"},[i("span",{staticClass:"header"},[t._v(t._s(t.$t("Pairing from post...")))])])])]):t._e(),t._v(" "),null===t.currentPairingItemPost?[t._v("\r\n          "+t._s(t.$t("Wait for pairing..."))+"\r\n          "),t.fullPaired?[t._v("\r\n            ("+t._s(t.$t("full paired"))+")\r\n          ")]:t._e()]:t._e()],2),t._v(" "),i("h4",[t._v(t._s(t.$t("Uploaded Images")))]),t._v(" "),i("div",{staticClass:"item-list ui list "},t._l(t.imageRemapList,(function(e,n){return i("div",{staticClass:"item",class:{positive:e.mapPostBodyImage,pairable:null!==t.currentPairingItemPost},on:{click:function(e){return t.selectUploadedItem(n)}}},[i("div",{staticClass:"right floated content"},[i("a",{staticClass:"ui button",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.previewImage(e.url)}}},[t._v("\r\n            "+t._s(t.$t("View")))])]),t._v(" "),i("img",{staticClass:"ui image",attrs:{src:e.url}}),t._v(" "),i("span",{staticClass:"header"},[e.mapPostBodyImage?t._e():i("a",{staticClass:"ui remap tiny button"},[t._v("\r\n             "+t._s(t.$t("Not Paired"))+"\r\n          ")]),t._v(" "),e.mapPostBodyImage?i("a",{staticClass:"ui remap tiny button"},[t._v("\r\n            "+t._s(t.getFilename(e.mapPostBodyImage))+"\r\n          ")]):t._e(),t._v(" "),i("span",{staticClass:"subheader"},[t._v("\r\n            "+t._s(e.sizeInfo)+"\r\n          ")])])])})),0)]),t._v(" "),i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui message",class:{green:t.fullPaired}},[null!==t.currentPairingItem?i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("img",{staticClass:"ui image",attrs:{src:t.imageRemapList[t.currentPairingItem].url}}),t._v(" "),i("div",{staticClass:"middle aligned content"},[i("span",{staticClass:"header"},[t._v("\r\n                "+t._s(t.$t("Pairing from uploaded..."))+"\r\n                ")])])])]):t._e(),t._v(" "),null===t.currentPairingItem?[t._v("\r\n          "+t._s(t.$t("Wait for pairing"))+"\r\n          "),t.fullPaired?[t._v("\r\n            ("+t._s(t.$t("full paired"))+")\r\n          ")]:t._e()]:t._e()],2),t._v(" "),i("h4",[t._v(t._s(t.$t("Images in the post")))]),t._v(" "),i("div",{staticClass:"ui list post-body-list item-list"},t._l(t.postBodyImageListReverse,(function(e,n){return i("div",{staticClass:"item",class:{pairable:null!==t.currentPairingItem,selected:t.selectedImageList.indexOf(e.url)>-1},attrs:{title:e.filename},on:{click:function(e){return t.selectPostItem(n)}}},[i("div",{staticClass:"right floated content"},[i("a",{staticClass:"ui button",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.previewImage(e.url)}}},[t._v("\r\n              "+t._s(t.$t("View")))])]),t._v(" "),i("img",{staticClass:"ui image",attrs:{src:e.url}}),t._v(" "),i("div",{staticClass:"middle aligned content"},[i("span",{staticClass:"header"},[i("span",{staticClass:"filename"},[t._v("\r\n              "+t._s(e.filename)+"\r\n              ")]),t._v(" "),i("span",{staticClass:"subheader"},[t._v("\r\n                "+t._s(e.sizeInfo)+"\r\n              ")])])])])})),0)])])])};ct._withStripped=!0;var dt={props:["imageHTML"],data:function(){return{imageRemapList:[],postBodyImageList:[],currentPairingItem:null,currentPairingItemPost:null,selectedImageList:[],imageSize:{}}},watch:{imageHTML(){this.buildImageRemapList(),this.buildFieldPostBodyImageList(),this.checkOneImagePair()}},computed:{fullPaired(){return this.selectedImageList.length===this.postBodyImageList.length},postBodyImageListReverse(){return this.postBodyImageList.reverse()}},methods:{buildImageRemapList(){let t=this.imageHTML;if(!t)return[];t=t.trim();let e=$(`<div>${this.imageHTML}</div>`),i=[];e.find("a[href] > img[src]").each((t,e)=>{i.push({mapPostBodyImage:null,url:e.src,height:Number(e.getAttribute("data-original-height")),width:Number(e.getAttribute("data-original-width"))})}),this.imageRemapList=i,setTimeout(async()=>{for(let t=0;t<this.imageRemapList.length;t++)this.imageRemapList[t].sizeInfo=await this.getImageSizeInfo(this.imageRemapList[t].url);this.$forceUpdate()},0)},buildFieldPostBodyImageList(){let t=it.getImageList();return this.postBodyImageList=[],t.map(t=>{if(!t.startsWith("filesystem:"))return!1;let e=t.slice(t.lastIndexOf("/")+1);this.postBodyImageList.push({filename:e,url:t})}),setTimeout(async()=>{for(let t=0;t<this.postBodyImageList.length;t++)this.postBodyImageList[t].sizeInfo=await this.getImageSizeInfo(this.postBodyImageList[t].url);this.$forceUpdate()},0),!0},getFilename:t=>t.slice(t.lastIndexOf("/")+1),selectUploadedItem(t){if(null===this.currentPairingItemPost){if(this.currentPairingItem===t)return this.currentPairingItem=null,!1;this.currentPairingItem=t}else this.imageRemapList[t].mapPostBodyImage=this.postBodyImageList[this.currentPairingItemPost].url,this.resetSelected()},selectPostItem(t){if(null===this.currentPairingItem){if(this.currentPairingItemPost===t)return this.currentPairingItemPost=null,!1;this.currentPairingItemPost=t}else this.imageRemapList[this.currentPairingItem].mapPostBodyImage=this.postBodyImageList[t].url,this.resetSelected()},updateSelectedImageList(){this.selectedImageList=[],this.imageRemapList.forEach(t=>{t.mapPostBodyImage&&-1===this.selectedImageList.indexOf(t.mapPostBodyImage)&&this.selectedImageList.push(t.mapPostBodyImage)})},previewImage(t){WindowHelper.popup(t,this.getFilename(t))},getImageList(){let t={};return this.imageRemapList.forEach(e=>{if(e.mapPostBodyImage){let i=this.getFilename(e.mapPostBodyImage);t[i]=e.url}}),t},resetSelected(){this.updateSelectedImageList(),this.currentPairingItemPost=null,this.currentPairingItem=null},resetPairred(){this.imageRemapList[this.currentPairingItem].mapPostBodyImage=null,this.resetSelected()},checkOneImagePair(){1===this.imageRemapList.length&&this.imageRemapList.length===this.postBodyImageList.length&&(this.imageRemapList[0].mapPostBodyImage=this.postBodyImageList[0].url,this.updateSelectedImageList())},getImageSizeInfo:async function(t){let{width:e,height:i,ratio:n}=await this.getImageSizePromise(t);return`${e} / ${i} (${n})`},getImageSizePromise:t=>new Promise((e,i)=>{const n=new Image;n.onload=function(){let t=this.width/this.height;t=Math.round(100*t)/100,e({width:this.width,height:this.height,ratio:t})},n.onerror=function(){i(new Error("Failed to load image"))},n.src=t})}},ut=(i(229),i(72)),pt=Object(o.a)(dt,ct,[],!1,null,"ff946c40",null);"function"==typeof ut.default&&Object(ut.default)(pt),pt.options.__file="src/views/EditorManager/ImageReplacer/ImageReplacerRemapping/ImageReplacerRemapping.vue";var ht={data:function(){return{name:"ImageReplacer",ui:void 0,currentStep:0,isCreatingImagePackage:!1,imageHTML:"",disableReplaceImage:!0,replacedImageCount:0,filesystemImageCount:0,disableUploadImageDraft:!1,FieldPostBody:null,skipTutorial:!0,debugEnableReplace:!0,countdownSecond:0,countdownMaxSecond:25,countdownTimer:null,countdownSound:null,batchLimit:6}},components:{ImageReplacerRemapping:pt.exports},mounted:function(){VueHelper.mountLocalStorageBoolean(this,"skipTutorial")},computed:{countdownButton:function(){if(0===this.countdownSecond)return this.$t("Start countdown {sec} second",{sec:this.countdownMaxSecond});{let t={sec:this.countdownSecond};return this.countdownSecond>1?this.$t("Remain {sec} seconds",t):this.$t("Remain {sec} second",t)}}},created:function(){$v.ImageReplacer=this,$(()=>{this.validateHasFileSystemImage(),EventManager.on($v.EditorManager,"disableUploadImageDraftChanged",t=>{this.disableUploadImageDraft=t.disableUploadImageDraft})})},watch:{currentStep(t){if(7===t&&!1===this.disableReplaceImage&&1===it.getImageList().length){let t=this.$refs.ImageReplacerRemapping.getImageList();Object.keys(t).length>0&&this.replaceImage()}}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=this.ui=$(".ImageReplacer.ui.modal")),this.ui},open:function(){this.validateHasFileSystemImage(),this.disableUploadImageDraft=$v.PublishManager.disableOpenEditURL,this.getUI().modal("show"),this.getUI().find(".ui.checkbox").checkbox(),this.downloadImagePackage()},validateHasFileSystemImage:function(t){return it.hasFileSystemImage()?(this.filesystemImageCount=it.countFileSystemImage(),EventManager.trigger(this,"onFilesystemImageCountChange"),this.currentStep=1,FunctionHelper.triggerCallback(t),!0):(this.currentStep=0,FunctionHelper.triggerCallback(t),!1)},validateImageHTML:function(){if(""===this.imageHTML.trim())return this.disableReplaceImage=!0,this.disableReplaceImage;let t=$("<div>"+this.imageHTML+"</div>");return this.disableReplaceImage=0===t.find('a[href*=".com/"]:first').length,this.disableReplaceImage},parseImageHTMLList:function(){let t={};return $("<div>"+this.imageHTML+"</div>").find("a[href]").each((e,i)=>{let n=i.href,a=BloggerImageHelper.getFilename(n);if("string"==typeof t[a]?console.log(["duplicate name",a,n]):t[a]=n,a.indexOf("__")>-1){let e=a.replace(/__/g,"_");"string"==typeof t[e]?console.log(["duplicate name",e,n]):t[e]=n}if(a.indexOf("__1.jpg")>-1){let e=a.replace("__1.jpg","_.jpg");"string"==typeof t[e]?console.log(["duplicate name",e,n]):t[e]=n}else if(a.endsWith("_1.jpg")){let e=a.replace("_1.jpg",".jpg");"string"==typeof t[e]?console.log(["duplicate name",e,n]):t[e]=n}}),t},replaceImage:function(){let t=this.$refs.ImageReplacerRemapping.getImageList();!0===this.debugEnableReplace?this.replacedImageCount=it.setImageList(t):this.replacedImageCount=0,this.filesystemImageCount=it.countFileSystemImage(),EventManager.trigger(this,"onFilesystemImageCountChange"),this.imageHTML="",this.validateImageHTML(),this.nextStep()},close:function(){this.isCreatingImagePackage=!1,this.getUI().modal("hide")},downloadImagePackage:function(t){this.isCreatingImagePackage=!0;let e=it.getImageList();if(e.length>1){let i,n=0,a=this.batchLimit;$v.PostManager.getEditingPostId(s=>{let o=new T.a,r=DayjsHelper.nowFormat(),l=`images-${s}-${r}`,c=d=>{if(d<e.length)if(e.length>a){if(d%a==0){n++;let t=`post-${s}-images-${r}-${n}`;i=o.folder(t)}let t=e[d],l=FileSystemHelper.getFileName(t);P.a.getBinaryContent(t,(t,e)=>{l=decodeURIComponent(l),i.file(l,e),d++,c(d)})}else{let t=e[d],i=FileSystemHelper.getFileName(t);P.a.getBinaryContent(t,(t,e)=>{i=decodeURIComponent(i),o.file(i,e),d++,c(d)})}else o.generateAsync({type:"blob"}).then(e=>{Object(L.saveAs)(e,l+".zip"),this.isCreatingImagePackage=!1,FunctionHelper.triggerCallback(t)})};c(0)})}else if(1===e.length){let t=e[0],i=FileSystemHelper.getFileName(t);Object(L.saveAs)(t,i)}else this.isCreatingImagePackage=!1,FunctionHelper.triggerCallback(t)},downloadImagePackageAndBackPrevStep:function(){this.downloadImagePackage(()=>{this.prevStep()})},prevStep:function(){!0===this.skipTutorial&&6===this.currentStep?this.currentStep=1:this.currentStep--},nextStep:function(){!0===this.skipTutorial&&1===this.currentStep?this.currentStep=6:this.currentStep++},openBloggerDraft:function(){return""!==$v.PublishManager.publicURL?WindowHelper.popup($v.EditorManager.ImageUploadDraft,"image-upload-draft"):$v.PublishManager.popup("editURL"),this},openBloggerDraftSetting:function(){return this.close(()=>{this.isCreatingImagePackage=!1,$v.PublishManager.open()}),this},persist(){return VueHelper.persistLocalStorage(this,"skipTutorial"),this},setDemoHTML(){this.imageHTML='<a href="http://2.bp.blogspot.com/-B-4VIGgfDOY/XN1rwagJWaI/AAAAAAAEPtA/Nwa532uvs_E0otP908b1SW4XWPrOrfRfACK4BGAYYCw/s1600/1-Webpack%2B_%25282%2529.png" imageanchor="1"><img border="0" height="180" src="https://2.bp.blogspot.com/-B-4VIGgfDOY/XN1rwagJWaI/AAAAAAAEPtA/Nwa532uvs_E0otP908b1SW4XWPrOrfRfACK4BGAYYCw/s320/1-Webpack%2B_%25282%2529.png" width="320" /></a><a href="http://2.bp.blogspot.com/-Ycwe6jm8OyM/XN1rwXpRgRI/AAAAAAAEPs4/NRb5VFc5dfIM6BjlBJ4LnAnOY2NTcfRGwCK4BGAYYCw/s1600/1-Webpack_2.png" imageanchor="1"><img border="0" height="180" src="https://2.bp.blogspot.com/-Ycwe6jm8OyM/XN1rwXpRgRI/AAAAAAAEPs4/NRb5VFc5dfIM6BjlBJ4LnAnOY2NTcfRGwCK4BGAYYCw/s320/1-Webpack_2.png" width="320" /></a>',this.validateImageHTML()},startCountdown:function(){if(this.countdownSecond>0)return clearTimeout(this.countdownTimer),void(this.countdownSecond=0);this.countdownSecond=this.countdownMaxSecond;let t=()=>{this.countdownSecond>0?this.countdownTimer=setTimeout(()=>{this.countdownSecond--,t()},1e3):(null===this.countdownSound&&(this.countdownSound=new Audio("static/freesound/91926__tim-kahn__ding.ogg")),this.countdownSound.play())};t()}}},gt=(i(231),i(73)),mt=Object(o.a)(ht,lt,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"two fields"},[e("div",{staticClass:"field"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/ImageReplacer/unzip-to-folder.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/ImageReplacer/open-draft.png"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/ImageReplacer/image-uploaded.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui image"},[e("img",{attrs:{src:"static/ImageReplacer/html-code.png"}})])}],!1,null,"6f8e32ca",null);"function"==typeof gt.default&&Object(gt.default)(mt),mt.options.__file="src/views/EditorManager/ImageReplacer/ImageReplacer.vue";var ft=mt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"plus square outline icon"}),t._v("\n      "+t._s(t.$t("Title"))+"\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"field"},[i("label",[t._v("\n            "+t._s(t.$t("URL"))+"\n          ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.iframePromptInput,expression:"iframePromptInput"}],attrs:{type:"url",name:"iframePromptInput"},domProps:{value:t.iframePromptInput},on:{input:function(e){e.target.composing||(t.iframePromptInput=e.target.value)}}})]),t._v(" "),t.iframePromptInput.trim().startsWith("http://")?i("div",{staticClass:"ui message"},[t._v("\n          "+t._s(t.$t('We recommend you replace "http://" with "//"'))+"\n        ")]):t._e(),t._v(" "),t.iframePromptInput.trim().startsWith("https://")?i("div",{staticClass:"ui message"},[t._v("\n          "+t._s(t.$t('We recommend you replace "https://" with "//"'))+"\n        ")]):t._e()])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\n        "+t._s(t.$t("Close"))+"\n      ")]),t._v(" "),i("div",{staticClass:"ui button",class:{green:t.iframePromptInput.length>8,disabled:t.iframePromptInput.length<=8},on:{click:t.insert}},[t._v("\n        "+t._s(t.$t("Insert"))+"\n      ")])])])};_t._withStripped=!0;var vt={data:function(){return{name:"IframePrompt",ui:void 0,iframePromptInput:""}},created:function(){$v[this.name]=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.getUI().modal("show"),navigator.clipboard.readText().then(t=>{t=t.trim(),this.isURL(t)&&(this.iframePromptInput=this.stripHTTPHeader(t))}).catch(t=>{})},close:function(){this.getUI().modal("hide")},insert:function(){let t=`<div><iframe src="${this.iframePromptInput}" width="100%" style="height: 90vh" frameborder="0" class="post-iframe"></iframe></div>`;$v.EditorManager.FieldPostBody.insert(t),this.iframePromptInput="",this.close()},isURL:function(t){return t.startsWith("http://")&&t.length>15||t.startsWith("https://")&&t.length>15||t.startsWith("//")&&t.length>10||t.startsWith("#")&&t.length>2},stripHTTPHeader:function(t){return this.isURL(t)&&t.indexOf("//")>0&&(t=t.slice(t.indexOf("//"))),t}}},bt=(i(233),i(74)),yt=Object(o.a)(vt,_t,[],!1,null,"4da14cd4",null);"function"==typeof bt.default&&Object(bt.default)(yt),yt.options.__file="src/views/EditorManager/IframePrompt/IframePrompt.vue";var Ct=yt.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"upload icon"}),t._v("\r\n      "+t._s(t.$t("Title"))+"\r\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"ui top attached tabular menu"},[i("a",{staticClass:"item active",attrs:{"data-tab":"upload"},on:{click:t.openTab}},[t._v("\r\n            "+t._s(t.$t("Upload"))+"\r\n          ")]),t._v(" "),i("a",{staticClass:"item",attrs:{"data-tab":"setting"},on:{click:t.openTab}},[t._v("\r\n            "+t._s(t.$t("Setting"))+"\r\n          ")])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment active form",attrs:{"data-tab":"upload"}},[i("div",{staticClass:"download-list"},t._l(t.links,(function(e){return i("div",{key:e.name,staticClass:"unstackable fields"},[i("div",{staticClass:"six wide field"},[void 0!==t.linkNameIcon(e.name)?[i("div",{staticClass:"ui icon labeled fluid mini button",class:{positive:t.validateDownloadURL(e.downloadURL)},on:{click:function(i){return t.openUploadURL(e.uploadURL,e.name)}}},[i("i",{staticClass:"icon",class:t.linkNameIcon(e.name)}),t._v("\r\n                    "+t._s(e.name)+"\r\n                  ")])]:[i("div",{staticClass:"ui fluid mini button",class:{positive:t.validateDownloadURL(e.downloadURL)},on:{click:function(i){return t.openUploadURL(e.uploadURL,e.name)}}},[t._v("\r\n                    "+t._s(e.name)+"\r\n                  ")])]],2),t._v(" "),i("div",{staticClass:"ten wide field"},[i("div",{staticClass:"ui fluid mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.downloadURL,expression:"link.downloadURL"}],attrs:{type:"url"},domProps:{value:e.downloadURL},on:{change:t.onSettingChange,input:function(i){i.target.composing||t.$set(e,"downloadURL",i.target.value)}}})])])])})),0),t._v(" "),i("div",{staticClass:"inline fields delimiter"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui input mini"},[i("label",[t._v("\r\n                  "+t._s(t.$t("Delimiter"))+"\r\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.delimiter,expression:"delimiter"}],attrs:{type:"text"},domProps:{value:t.delimiter},on:{change:t.onDelimiterChange,input:function(e){e.target.composing||(t.delimiter=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",attrs:{"data-tab":"setting"}},[i("div",{staticClass:"setting-list"},[i("draggable",{attrs:{group:"settings"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1},change:t.onSettingChange},model:{value:t.links,callback:function(e){t.links=e},expression:"links"}},t._l(t.links,(function(e,n){return i("div",{key:e.name,staticClass:"unstackable fields"},[i("div",{staticClass:"six wide field"},[i("div",{staticClass:"ui input mini"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"link.name"}],attrs:{type:"text",placeholder:t.$t("Name")},domProps:{value:e.name},on:{change:t.onSettingChange,input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}})])]),t._v(" "),i("div",{staticClass:"eight wide field"},[i("div",{staticClass:"ui icon input mini"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.uploadURL,expression:"link.uploadURL"}],attrs:{type:"url",placeholder:t.$t("Upload URL")},domProps:{value:e.uploadURL},on:{change:t.onSettingChange,input:function(i){i.target.composing||t.$set(e,"uploadURL",i.target.value)}}}),t._v(" "),i("i",{staticClass:"bars icon draggable"})])]),t._v(" "),i("div",{staticClass:"two wide field"},[i("div",{staticClass:"ui icon fluid button mini",on:{click:function(e){return t.removeSetting(n)}}},[i("i",{staticClass:"minus icon"})])])])})),0)],1),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",on:{click:t.addSetting}},[i("i",{staticClass:"plus icon"}),t._v("\r\n              "+t._s(t.$t("Add"))+"\r\n            ")])])])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n        "+t._s(t.$t("Close"))+"\r\n      ")]),t._v(" "),i("div",{staticClass:"ui button",class:t.enableInsert,on:{click:t.insert}},[t._v("\r\n        "+t._s(t.$t("Insert"))+"\r\n      ")])])])};wt._withStripped=!0;var St=i(64),kt=i.n(St);var It={data:function(){return{name:"FileUploader",ui:void 0,delimiter:", ",links:[]}},mounted:function(){VueHelper.mountLocalStorageJSON(this,"links",ConfigHelper.get("FileUploader").links),this.resetDownloadURL(),VueHelper.mountLocalStorage(this,"delimiter")},computed:{enableInsert:function(){for(let t=0;t<this.links.length;t++)if(this.validateDownloadURL(this.links[t].downloadURL))return"green";return"disabled"}},created:function(){$v[this.name]=this},components:{draggable:kt.a},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.getUI().modal("show")},close:function(){this.getUI().modal("hide")},convertGitHubPage:function(t){if(!1===t.startsWith("https://github.com/")||-1===t.indexOf("/blob/master/"))return t;let e=t.split("/");return`https://${e[3]}.github.io/${e[4]}/${t.slice(t.indexOf("/blob/master/")+"/blob/master/".length)}`},insert:function(){let t=[];this.links.forEach(e=>{if(this.validateDownloadURL(e.downloadURL)){let i=e.downloadURL;i.startsWith("https://github.com/")&&i.indexOf("/blob/master/")>0&&(i=this.convertGitHubPage(i));let n=`<a href="${i}" target="_blank">${e.name}</a>`;t.push(n)}}),$v.EditorManager.FieldPostBody.insert("<p>"+t.join(this.delimiter)+"</p>"),this.close(),this.resetDownloadURL()},openTab:function(t){SemanticUIHelper.openTab(t)},openUploadURL:function(t,e){WindowHelper.popup(t,e)},onSettingChange:function(){VueHelper.persistLocalStorage(this,"links"),this.links=this.links.concat([])},resetDownloadURL:function(){!1===Array.isArray(this.links)&&(this.links=[]),this.links.forEach(t=>{t.downloadURL=""})},linkNameIcon:function(t){return void 0!==t&&("github"===(t=(t=t.toLowerCase()).split(" ").join(""))?"github":"googledrive"===t?"google drive":void 0)},validateDownloadURL:function(t){return"string"==typeof t&&t.length>4},onDelimiterChange:function(){VueHelper.persistLocalStorage(this,"delimiter")},getConfig:function(){return JSON.parse(JSON.stringify(this.links)).map(t=>(delete t.downloadURL,t))},setConfig:function(t){"string"==typeof t&&(t=JSON.parse(t)),this.links=t,this.resetDownloadURL()},addSetting:function(){this.links.push({name:"",uploadURL:""})},removeSetting:function(t){this.links.splice(t,1)}}},Tt=(i(236),i(75)),xt=Object(o.a)(It,wt,[],!1,null,"f2330e54",null);"function"==typeof Tt.default&&Object(Tt.default)(xt),xt.options.__file="src/views/EditorManager/FileUploader/FileUploader.vue";var Pt=xt.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"code icon"}),t._v("\r\n      "+t._s(t.$t("Title"))+"\r\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"field"},[i("label",[t._v("\r\n            "+t._s(t.$t("Code"))+"\r\n          ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{name:"code",id:"CodeInserterTextarea"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\r\n            "+t._s(t.$t("Syntax"))+"\r\n            ("),i("a",{attrs:{href:"",target:"highlight.js"}},[t._v("\r\n              "+t._s(t.$t("Help"))+"\r\n            ")]),t._v(")\r\n          ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.syntax,expression:"syntax"}],staticClass:"ui search dropdown",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.syntax=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v(t._s(t.$t("(Auto)")))]),t._v(" "),i("option",{attrs:{value:"nohighlight"}},[t._v(t._s(t.$t("No Highlight")))]),t._v(" "),i("option",{attrs:{value:"javascript"}},[t._v(t._s(t.$t("JavaScript")))]),t._v(" "),i("option",{attrs:{value:"html"}},[t._v(t._s(t.$t("HTML, XML")))]),t._v(" "),i("option",{attrs:{value:"css"}},[t._v(t._s(t.$t("CSS")))]),t._v(" "),i("option",{attrs:{value:"bash"}},[t._v(t._s(t.$t("Bash")))]),t._v(" "),i("option",{attrs:{value:"dos"}},[t._v(t._s(t.$t("DOS")))]),t._v(" "),i("option",{attrs:{value:"ini"}},[t._v(t._s(t.$t("ini")))]),t._v(" "),i("option",{attrs:{value:"json"}},[t._v(t._s(t.$t("JSON")))]),t._v(" "),i("option",{attrs:{value:"java"}},[t._v(t._s(t.$t("Java")))]),t._v(" "),i("option",{attrs:{value:"python"}},[t._v(t._s(t.$t("Python")))]),t._v(" "),i("option",{attrs:{value:"ruby"}},[t._v(t._s(t.$t("Ruby")))]),t._v(" "),i("option",{attrs:{value:"php"}},[t._v(t._s(t.$t("PHP")))]),t._v(" "),i("option",{attrs:{value:"sql"}},[t._v(t._s(t.$t("SQL")))]),t._v(" "),i("option",{attrs:{value:"xpath"}},[t._v(t._s(t.$t("XQuery, Xpath")))]),t._v(" "),i("option",{attrs:{value:"r"}},[t._v(t._s(t.$t("R Script")))]),t._v(" "),i("option",{attrs:{value:"autoit"}},[t._v(t._s(t.$t("AutoIT")))]),t._v(" "),i("option",{attrs:{value:"typescript"}},[t._v(t._s(t.$t("TypeScript")))]),t._v(" "),i("option",{attrs:{value:"perl"}},[t._v(t._s(t.$t("Perl")))]),t._v(" "),i("option",{attrs:{value:"csharp"}},[t._v(t._s(t.$t("C#")))]),t._v(" "),i("option",{attrs:{value:"cpp"}},[t._v(t._s(t.$t("C++")))]),t._v(" "),i("option",{attrs:{value:"excel"}},[t._v(t._s(t.$t("Excel")))]),t._v(" "),i("option",{attrs:{value:"markdown"}},[t._v(t._s(t.$t("Markdown")))]),t._v(" "),i("option",{attrs:{value:"nginx"}},[t._v(t._s(t.$t("Nginx")))]),t._v(" "),i("option",{attrs:{value:"swift"}},[t._v(t._s(t.$t("Swift")))]),t._v(" "),i("option",{attrs:{value:"vbnet"}},[t._v(t._s(t.$t("VB.Net")))]),t._v(" "),i("option",{attrs:{value:"vbscript"}},[t._v(t._s(t.$t("VBscript")))]),t._v(" "),i("option",{attrs:{value:"matlab"}},[t._v(t._s(t.$t("Matlab")))])])])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n        "+t._s(t.$t("Close"))+"\r\n      ")]),t._v(" "),i("div",{staticClass:"ui button",class:t.enableInsert,on:{click:t.insert}},[t._v("\r\n        "+t._s(t.$t("Insert"))+"\r\n      ")])])])};Lt._withStripped=!0;var $t={data:function(){return{name:"CodeInserter",ui:void 0,code:"",syntax:"",nl2br:!0}},mounted:function(){VueHelper.mountLocalStorage(this,"syntax"),VueHelper.mountLocalStorageBoolean(this,"nl2br")},created:function(){$v[this.name]=this},computed:{enableInsert:function(){return this.code.trim().length>2?"green":"disabled"}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal),this.ui.find("select.dropdown").dropdown()),this.ui},open:function(){this.getUI().modal("show")},close:function(){this.getUI().modal("hide")},escapeHTML:function(t){let e=document.createElement("div");return e.innerText=t,e.innerHTML},insert:function(){let t=this.code;t=this.escapeHTML(t);let e=this.syntax;""!==e&&(e=` class="${e}"`),t=t.split(" ").join("&nbsp;"),t=`<pre><code${e}>${t}</code></pre>`,$v.EditorManager.FieldPostBody.insert(t),this.close(),this.code="",this.persist()},persist(){VueHelper.persistLocalStorage(this,"syntax"),VueHelper.persistLocalStorage(this,"nl2br")},toggleNl2br:function(){this.nl2br=!this.nl2br}}},Ht=(i(238),i(76)),Rt=Object(o.a)($t,Lt,[],!1,null,"6af39914",null);"function"==typeof Ht.default&&Object(Ht.default)(Rt),Rt.options.__file="src/views/EditorManager/CodeInserter/CodeInserter.vue";var Et=Rt.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"paste icon"}),t._v("\r\n      "+t._s(t.$t("Title"))+"\r\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"field"},[i("label",[t._v("\r\n            "+t._s(t.$t("Markdown Importer"))+"\r\n          ")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"input",attrs:{name:"code"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n        "+t._s(t.$t("Close"))+"\r\n      ")]),t._v(" "),i("div",{staticClass:"ui button",class:t.enableInsert,on:{click:t.insert}},[t._v("\r\n        "+t._s(t.$t("Insert"))+"\r\n      ")])])])};Mt._withStripped=!0;var Ut={data:function(){return{name:"MarkdownImporter",ui:void 0,isLoading:!1,code:"",syntax:"",nl2br:!0,URLpattern:new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i")}},mounted:function(){},created:function(){$v[this.name]=this},computed:{enableInsert:function(){if(this.isLoading)return"disabled";return this.code.trim().length>2?"green":"disabled"}},methods:{test20230205(){this.code="彩色電子紙的時代終於來臨了嗎？\n\n----\n\n# 電子紙\n\nhttps://technews.tw/2022/10/21/sharp-e-note-and-bigme-tablet-with-e-ink-gallery-3/\n\n現在電子墨水的技術已經逐漸從黑白進入到彩色的時代。近來元大推出的全新彩色電子墨水技術E Ink Gallery 3在亮度、解析度和反應速度都有大幅度的提升。\n\nhttps://www.techbang.com/posts/103273-bigme-galy-e-ink\n\n中國的大我Bigme推出了採用此技術的彩色電子墨水平板Galy。這是一台8吋尺寸的Android 11系統。\n\n# 理想\n\n對我來說，理想的電子紙平板需要具備以下的特色：\n- 彩色：我會用不同顏色的註解。\n- 7吋至8吋的大小：方便握持與攜帶。\n- Android系統：可以用我熟悉的系統，甚至可以讓我做部份的客製化與開發。\n\n不知道新一代的彩色電子墨水是否達到令人滿意的程度呢？就讓我們期待後續的評測影片吧。\n\n1. 測試看看一\n2. 測試看看二\n3. 測試看看三\n\n----\n\n你有在用電子墨水的閱讀器嗎？你用的是哪一台呢？\n歡迎在下面分享喔！"},getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal),this.ui.find("select.dropdown").dropdown()),this.ui},open:function(){this.getUI().modal("show")},close:function(){this.getUI().modal("hide")},escapeHTML:function(t){let e=document.createElement("div");return e.innerText=t,e.innerHTML},insert:async function(){this.isLoading=!0;let t=this.code;t=await this.parseCode(t),$v.EditorManager.FieldPostBody.insert(t),this.close(),this.code="",this.persist(),this.isLoading=!1},parseCode:async function(t){let e=[],i=!0,n=!1,a=!1,s=1,o=[],r=t.trim().split("\n");for(let t=0;t<r.length;t++){let l=r[t];if(l=l.trim(),""!==l){if(l.startsWith("- ")||!0!==n||(n=!1,e.push(`<ul><li>${o.join("</li><li>")}</li></ul>`)),l.startsWith(s+". ")||!0!==a||(a=!1,e.push(`<ol><li>${o.join("</li><li>")}</li></ol>`)),"--"===l||"----"===l)i?(l='<p><a name="more"></a>\x3c!--more--\x3e</p><hr />',i=!1):l="<hr />";else if(l.startsWith("- ")&&!1===n)n=!0,l=l.slice(l.indexOf("- ")+2).trim(),o=[l];else if(l.startsWith("- ")&&!0===n)l=l.slice(l.indexOf("- ")+2).trim(),o.push(l);else if(l.startsWith("1. ")&&!1===a)a=!0,l=l.slice(l.indexOf(". ")+2).trim(),o=[l],s++;else if(l.startsWith(s+". ")&&!0===a)l=l.slice(l.indexOf(". ")+2).trim(),o.push(l),s++;else if(this.isURL(l)){let t=`/${$v.PostManager.getPost().id}/assets`,e=l,i=await FileSystemHelper.getURLScreenshot(t,e),n=`<p><a href="${i}" data-filename="${e}">\n  <img src="${i}" title="${e}" alt="${e}" data-filename="${e}" onload="BloggerImageHelper.readyToResize(this)" />\n</a></p>`;l=`<p><a href="${l}" target="_blank">${l}</a></p>`,l=n+l}else if(l.startsWith("#")){let t=l.slice(l.indexOf(" ")+1);if(-1===t.indexOf(" / ")){let e=await this.trans(t);"string"==typeof e&&(e=e.slice(0,1).toUpperCase()+e.slice(1)),t=t+" / "+e}l.startsWith("### ")?l=`<h4>${t}</h4>`:l.startsWith("## ")?l=`<h3>${t}</h3>`:l.startsWith("# ")&&(l=`<h2>${t}</h2>`)}else l=`<p>${l}</p>`;e.push(l)}}return e.unshift("<p>[COVER]</p>"),e.join("\n")},isURL:function(t){return!!this.URLpattern.test(t)},persist(){},trans(t,e="zh",i="en"){let n=$v.ConfigManager.apiKeysTrans;return""===n?"NoAPIKey":new Promise((a,s)=>{let o=n+"?text="+encodeURIComponent(t)+"&s="+e+"&t="+i;$.getJSON(o,t=>{a(t.output)})})},getKeywords(t){let e=$v.ConfigManager.apiKeysAPILayer;if(""===e)return["NoAPIKey"];let i=$(`<div>${t.join("\n")}</div>`).text();return new Promise(async(t,n)=>{var a=new Headers;a.append("apikey",e);var s={method:"POST",redirect:"follow",headers:a,body:i};let o=await fetch("https://api.apilayer.com/keyword",s),r=await o.text(),l=JSON.parse(r).result;l=l.map(({text:t})=>decodeURIComponent(JSON.parse('"'+t.replace(/\"/g,'\\"')+'"'))).filter(t=>!this.isURL(t)),t(l)})}}},Ot=(i(240),i(77)),Ft=Object(o.a)(Ut,Mt,[],!1,null,"3fd21036",null);"function"==typeof Ot.default&&Object(Ot.default)(Ft),Ft.options.__file="src/views/EditorManager/MarkdownImporter/MarkdownImporter.vue";var Dt=Ft.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui right menu vertical sidebar uncover animating",class:t.name},[i("a",{staticClass:"item go-to-top",attrs:{title:t.$t("Go to Top")},on:{click:function(e){return t.scrollToTop()}}},[t._v("\r\n     "+t._s(t.$t("Go to Top"))+"\r\n  ")]),t._v(" "),t._l(t.entryHierarchy,(function(e,n){return[i("a",{staticClass:"item",class:{"null-header":-1===e.eq,highlight:e.eq===t.highlightHeadingEq},attrs:{id:"OutlineNavigatorHeadingEq"+e.eq,title:e.text},on:{click:function(i){return t.scrollTo(e.eq)}}},[e.ocrWaitingCount>0?i("span",{staticClass:"ocr-waiting-count count",attrs:{title:e.ocrWaitingCount+" "+t.getOCRWaitingUnit(e.ocrWaitingCount)}},[t._v("\r\n         "+t._s(e.ocrWaitingCount)+"\r\n       ")]):t._e(),t._v(" "),e.comments.length>0?i("span",{staticClass:"comments-count count",attrs:{title:e.comments.length+" "+t.getCommentUnit(e.comments.length)},on:{click:t.toggleComment}},[t._v("\r\n         "+t._s(e.comments.length)+"\r\n       ")]):t._e(),t._v(" "),i("span",{staticClass:"heading-text"},[t._v("\r\n         "+t._s(n+1)+". "+t._s(e.text)+"\r\n       ")])]),t._v(" "),i("div",{staticClass:"comments"},[t._l(e.comments,(function(e){return[i("a",{staticClass:"item comment",attrs:{title:t.getCommentTitleAttr(e)},on:{click:function(i){return t.scrollTo(e.eq)}}},[i("div",{staticClass:"abstract"},[t._v("\r\n            "+t._s(e.text)+"\r\n            "),e.title.length>0?i("span",{staticClass:"comment-title"},[t._v("\r\n              "+t._s(e.title)+"\r\n            ")]):t._e()])])]}))],2),t._v(" "),t._l(e.subheadings,(function(e,a){return[i("a",{staticClass:"item subheading",class:{highlight:e.eq===t.highlightHeadingEq},attrs:{id:"OutlineNavigatorHeadingEq"+e.eq,title:e.text},on:{click:function(i){return t.scrollTo(e.eq)}}},[e.ocrWaitingCount>0?i("span",{staticClass:"ocr-waiting-count count",attrs:{title:e.ocrWaitingCount+" "+t.getOCRWaitingUnit(e.ocrWaitingCount)}},[t._v("\r\n         "+t._s(e.ocrWaitingCount)+"\r\n       ")]):t._e(),t._v(" "),e.comments.length>0?i("span",{staticClass:"comments-count count",attrs:{title:e.comments.length+" "+t.getCommentUnit(e.comments.length)},on:{click:t.toggleComment}},[t._v("\r\n         "+t._s(e.comments.length)+"\r\n       ")]):t._e(),t._v(" "),i("span",{staticClass:"heading-text"},[t._v("\r\n          "+t._s(n+1)+"-"+t._s(a+1)+". "+t._s(e.text)+"\r\n        ")])]),t._v(" "),i("div",{staticClass:"comments"},[t._l(e.comments,(function(e){return[i("a",{staticClass:"item comment",attrs:{title:t.getCommentTitleAttr(e)},on:{click:function(i){return t.scrollTo(e.eq)}}},[i("div",{staticClass:"abstract"},[t._v("\r\n              "+t._s(e.text)+"\r\n              "),e.title.length>0?i("span",{staticClass:"comment-title"},[t._v("\r\n                "+t._s(e.title)+"\r\n              ")]):t._e()])])]}))],2)]}))]})),t._v(" "),i("a",{staticClass:"item go-to-footer",attrs:{title:t.$t("Go to Footer")},on:{click:function(e){return t.scrollToFooter()}}},[t._v("\r\n     "+t._s(t.$t("Go to Footer"))+"\r\n  ")])],2)};Nt._withStripped=!0;var Bt={data:function(){return{name:"OutlineNavigator",ui:void 0,$body:void 0,templateElement:null,postBody:null,opened:!1,headingsElement:null,windowElement:null,toolbarElement:null,entryList:[],entryHierarchy:[],entryCollection:null,highlightHeadingEq:0}},mounted:function(){VueHelper.mountLocalStorageBoolean(this,"opened"),this.init()},created:function(){$v[this.name]=this},methods:{init:function(){EventManager.on($v.EditorManager.FieldPostBody,["set","change"],()=>{this.buildEntryList()}),$(window).scroll(t=>{this.highlightHeading(t)}),$(window).resize(t=>{this.highlightHeading(t)}),EventManager.on(InitHelper,"initFinish",()=>{this.highlightHeading(),!0===this.opened&&this.open()})},getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal),this.templateElement=$("#template"),this.$body=$("body")),this.ui},open:function(){this.opened=!0,VueHelper.persistLocalStorage(this,"opened"),this.buildEntryList(),this.getUI().addClass("visible"),this.templateElement.addClass("sidebar"),this.$body.addClass("OutlineNavigator-open")},close:function(){this.opened=!1,VueHelper.persistLocalStorage(this,"opened"),this.getUI().removeClass("visible"),this.templateElement.removeClass("sidebar"),this.$body.removeClass("OutlineNavigator-open")},toggle:function(){this.opened?this.close():this.open()},buildEntryList:function(){if(!1===this.opened)return;null===this.postBody&&(this.postBody=$v.EditorManager.FieldPostBody.getElement());this.entryCollection=this.postBody.find('h1,h2,h3,h4,h5,h6,.note-editor-comment,img[data-ocr="waiting"]');let t=[],e=6;this.entryCollection.each((i,n)=>{let a,s=$(n),o=s.offset().top,r=n.tagName.toLowerCase(),l=-1,c="",d="heading";if(r.startsWith("h")&&2===r.length){if(l=parseInt(r.slice(1),10),l<e&&(e=l),a=s.text().trim(),""===a)return}else if(n.className.indexOf("note-editor-comment")>-1){if("string"==typeof n.title&&""!==n.title.trim()&&(c=n.title.trim()),d="comment",a=s.text().trim(),""===a)return}else"waiting"===n.getAttribute("data-ocr")&&(d="ocr");t.push({text:a,title:c,eq:i,level:l,type:d,top:o,ocrWaitingCount:0})}),t=t.filter(t=>{let i=t.level;return-1===i||(i===e?(t.comments=[],t.subheadings=[],!0):i===e+1&&(t.type="subheading",t.comments=[],!0))});let i,n,a={text:this.$t("(Header)"),eq:-1,level:e,type:"heading",top:0,comments:[],ocrWaitingCount:0};this.entryHierarchy=[],t.forEach(t=>{void 0!==t&&(void 0===n?("heading"===t.type?(this.entryHierarchy.push(t),a=t):"comment"===t.type?(this.entryHierarchy.push(a),a.comments.push(t)):"ocr"===t.type&&(this.entryHierarchy.push(a),a.ocrWaitingCount++),n="heading"):"heading"===t.type?(this.entryHierarchy.push(t),a=t,n="heading"):"subheading"===t.type?(a.subheadings.push(t),i=t,n=t.type):"comment"===t.type?"heading"===n?a.comments.push(t):i.comments.push(t):"ocr"===t.type&&("heading"===n?a.ocrWaitingCount++:i.ocrWaitingCount++))})},scrollTo:function(t){let e=this.entryCollection.eq(t).offset().top;if(null===this.windowElement&&(this.windowElement=$(window)),-1===t)return void this.windowElement.scrollTop(0);null===this.toolbarElement&&(this.toolbarElement=$(".note-toolbar"));let i=this.toolbarElement.height(),n=this.toolbarElement.css("position").toLowerCase();e=e-i-10,(e<i||"fixed"!==n)&&(e-=i),this.windowElement.scrollTop(e)},scrollToTop:function(){null===this.windowElement&&(this.windowElement=$(window)),this.windowElement.scrollTop(0)},scrollToFooter:function(){null===this.windowElement&&(this.windowElement=$(window)),this.windowElement.scrollTop($(document).height()+500)},getCommentTitle:function(t){let e="";return"string"==typeof t.title&&""!==t.title.trim()&&(e=t.title,e.length>30&&(e=e.slice(0,30)+"...")),e},getCommentTitleAttr:function(t){let e=this.getCommentTitle(t);if("string"==typeof t.text&&""!==t.text.trim()){""!==e&&(e=": "+e);let i=t.text;i.length>30&&(i=i.slice(0,30)),e=i+e}return e},toggleComment:function(t){t.preventDefault(),t.stopPropagation(),$(t.target).parents("a.item:first").next().slideToggle()},highlightHeading:function(t){DelayExecHelper.backExec("OutlineNavigator.highlightHeading",.2,()=>{let t=window.scrollY+$(".summernotePostBody-wrapper .note-editor .note-toolbar").height()+50,e=null;for(let i=0;i<this.entryHierarchy.length&&!(t<this.entryHierarchy[i].top);i++)e=this.entryHierarchy[i];if(null!==e&&Array.isArray(e.subheadings)){let i=null;for(let n=0;n<e.subheadings.length&&!(t<e.subheadings[n].top);n++)i=e.subheadings[n];null!==i&&(e=i)}null===e&&this.entryHierarchy.length>0&&(e=this.entryHierarchy[0]),null!==e&&(this.highlightHeadingEq=e.eq,document.getElementById("OutlineNavigatorHeadingEq"+e.eq).scrollIntoView({behavior:"smooth",block:"nearest"}))})},getCommentUnit:function(t){return t>1?this.$t("comments"):this.$t("comment")},getOCRWaitingUnit:function(t){return t>1?this.$t("images is wating for OCR"):this.$t("image is wating for OCR")}}},At=(i(242),i(78)),Wt=Object(o.a)(Bt,Nt,[],!1,null,"bcd74a94",null);"function"==typeof At.default&&Object(At.default)(Wt),Wt.options.__file="src/views/EditorManager/OutlineNavigator/OutlineNavigator.vue";var jt=Wt.exports,zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"quote left icon"}),t._v("\r\n      "+t._s(t.$t("Title"))+"\r\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[null===t.editingId?[i("div",{staticClass:"unstackable fields"},[i("div",{staticClass:"eight wide field"},[i("div",{staticClass:"ui icon mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filterCondition,expression:"filterCondition"}],attrs:{type:"text",placeholder:t.$t("Filter...")},domProps:{value:t.filterCondition},on:{input:function(e){e.target.composing||(t.filterCondition=e.target.value)}}}),t._v(" "),i("i",{staticClass:"filter icon"})])]),t._v(" "),i("div",{staticClass:"eight wide field"},[i("div",{staticClass:"ui mini fluid buttons"},[i("div",{staticClass:"ui mini labeled icon button",on:{click:t.createSnippet}},[i("i",{staticClass:"file icon"}),t._v("\r\n                  "+t._s(t.$t("NEW"))+"\r\n                ")]),t._v(" "),i("div",{staticClass:"ui mini labeled icon button",on:{click:t.loadSnippet}},[i("i",{staticClass:"refresh icon"}),t._v("\r\n                  "+t._s(t.$t("RELOAD"))+"\r\n                ")])])])]),t._v(" "),i("div",{staticClass:"ui middle aligned divided list snippets-list"},t._l(t.matchedSnippets,(function(e){return i("div",{staticClass:"item"},[i("div",{staticClass:"right floated content"},[i("div",{staticClass:"ui mini buttons"},[i("div",{staticClass:"ui button",on:{click:function(i){return t.editSnippet(e.id)}}},[t._v("\r\n                    "+t._s(t.$t("EDIT"))+"\r\n                  ")]),t._v(" "),i("div",{staticClass:"ui button",on:{click:function(i){return t.deleteSnippet(e.id)}}},[t._v("\r\n                    "+t._s(t.$t("DELETE"))+"\r\n                  ")]),t._v(" "),i("div",{staticClass:"ui button",on:{click:function(i){return t.insertSnippet(e.id)}}},[t._v("\r\n                    "+t._s(t.$t("INSERT"))+"\r\n                  ")])])]),t._v(" "),i("div",{staticClass:"name content"},[i("span",{staticClass:"name-content-wrapper"},[i("span",{staticClass:"snippet-starred",on:{click:function(i){return t.toggleStarred(e.id)}}},[i("i",{staticClass:"star icon",class:{outline:0===e.starred}})]),t._v(" "),i("span",{staticClass:"snippet-post-id",on:{click:function(i){return t.toggleScope(e.id)}}},[i("i",{staticClass:"icon",class:{unlock:-1===e.postId,lock:-1!==e.postId}})]),t._v(" "),i("span",{staticClass:"snippet-content",on:{click:function(i){return t.editSnippet(e.id)}}},[i("span",{staticClass:"snippet-name"},[t._v("\r\n                      "+t._s(e.name)+"\r\n                    ")]),t._v(" "),i("span",{staticClass:"snippet-plain-text"},[t._v("\r\n                      "+t._s(e.plainText)+"\r\n                    ")])])])])])})),0)]:[i("div",{staticClass:"three unstackable fields"},[i("div",{staticClass:"eight wide field"},[i("label",{attrs:{for:"snippetName"}},[t._v("\r\n                "+t._s(t.$t("Name"))+"\r\n              ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editingSnippetName,expression:"editingSnippetName"}],attrs:{type:"text",id:"snippetName",name:"snippetName"},domProps:{value:t.editingSnippetName},on:{input:function(e){e.target.composing||(t.editingSnippetName=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"two wide field"},[i("label",{attrs:{for:"editingSnippetStarred"}},[t._v("\r\n                  "+t._s(t.$t("Pin top"))+"\r\n              ")]),t._v(" "),i("div",{staticClass:"ui basic icon button",on:{click:function(e){return t.toggleStarred()}}},[i("i",{staticClass:"star icon",class:{outline:0===t.editingSnippetStarred}})])]),t._v(" "),i("div",{staticClass:"six wide field"},[i("label",[t._v("\r\n                "+t._s(t.$t("Scope"))+"\r\n              ")]),t._v(" "),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.scope,expression:"scope"}],attrs:{type:"radio",id:"scope.all",value:"all"},domProps:{checked:t._q(t.scope,"all")},on:{change:function(e){t.scope="all"}}}),t._v(" "),i("label",{attrs:{for:"scope.all"}},[t._v("\r\n                  "+t._s(t.$t("All"))+"\r\n                ")])]),t._v(" "),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.scope,expression:"scope"}],attrs:{type:"radio",id:"scope.post",value:"post"},domProps:{checked:t._q(t.scope,"post")},on:{change:function(e){t.scope="post"}}}),t._v(" "),i("label",{attrs:{for:"scope.post"}},[t._v("\r\n                  "+t._s(t.$t("This Post"))+"\r\n                ")])])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{on:{click:t.toggleEditingSnippetView}},[t._v("\r\n              "+t._s(t.$t("Snippet"))+"\r\n              \r\n              "),"code"===t.editingSnippetView?i("span",[t._v("\r\n                ("+t._s(t.$t("Toggle to preview"))+")\r\n              ")]):t._e(),t._v(" "),"preview"===t.editingSnippetView?i("span",[t._v("\r\n                ("+t._s(t.$t("Toggle to code"))+")\r\n              ")]):t._e()]),t._v(" "),i("div",{staticClass:"ui top attached mini fluid buttons"},[i("div",{staticClass:"ui mini button",on:{click:t.textareaSelectAll}},[t._v("\r\n                "+t._s(t.$t("SELECT ALL"))+"\r\n              ")]),t._v(" "),i("div",{staticClass:"ui mini button",on:{click:t.textareaCopy}},[t._v("\r\n                "+t._s(t.$t("COPY"))+"\r\n              ")]),t._v(" "),i("div",{staticClass:"ui mini button",on:{click:t.textareaEmpty}},[t._v("\r\n                "+t._s(t.$t("CLEAN"))+"\r\n              ")])]),t._v(" "),"code"===t.editingSnippetView?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editingSnippet,expression:"editingSnippet"}],staticClass:"ui attached",attrs:{name:"snippet",id:"editingSnippet"},domProps:{value:t.editingSnippet},on:{input:function(e){e.target.composing||(t.editingSnippet=e.target.value)}}}):t._e(),t._v(" "),"preview"===t.editingSnippetView?i("div",{staticClass:"editing-snippet-preview",domProps:{innerHTML:t._s(t.editingSnippet)}}):t._e()])]],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:null===t.editingId,expression:"editingId === null"}],staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n          "+t._s(t.$t("Close"))+"\r\n        ")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.editingId,expression:"editingId !== null"}],staticClass:"actions"},[i("div",{staticClass:"ui button",class:{green:!1===t.isSaveDisabled,disabled:t.isSaveDisabled},on:{click:t.saveAndInsertSnippet}},[t._v("\r\n          "+t._s(t.$t("Save & Insert"))+"\r\n        ")]),t._v(" "),i("div",{staticClass:"ui button",class:{disabled:t.isSaveDisabled},on:{click:t.saveSnippet}},[t._v("\r\n          "+t._s(t.$t("Save"))+"\r\n        ")]),t._v(" "),i("div",{staticClass:"ui button",on:{click:t.cancelEdit}},[t._v("\r\n          "+t._s(t.$t("Cancel"))+"\r\n        ")])])])};zt._withStripped=!0;var Gt={data:function(){return{name:"SnippetInserter",ui:void 0,inited:!1,snippets:[],filterCondition:"",editingId:null,editingSnippetName:"",editingSnippet:"",postId:-1,editingSnippetStarred:0,scope:"all",editingSnippetView:"code"}},computed:{matchedSnippets:function(){if(!1===Array.isArray(this.snippets))return[];let t=[],e=[];return this.snippets.filter(i=>{(""===this.filterCondition.trim()||i.name.indexOf(this.filterCondition)>-1||i.snippet.indexOf(this.filterCondition)>-1)&&(1===i.starred?t.push(i):e.push(i))}),t.sort((function(t,e){return e.lastUsedUnix-t.lastUsedUnix})),e.sort((function(t,e){return e.lastUsedUnix-t.lastUsedUnix})),t.concat(e).map(t=>(t.plainText=$(`<span>${t.snippet}</span>`).text(),t.plainText.length>100&&(t.plainText=t.plainText.slice(0,100)),t))},isSaveDisabled:function(){return null===this.editingId||""===this.editingSnippet.trim()}},created:function(){$v[this.name]=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.init(()=>{this.openReset(),0===this.snippets.length&&this.createSnippet(),this.getUI().modal("show")})},openReset:function(){this.editingId=null,this.editingSnippetView="code"},close:function(){this.getUI().modal("hide")},persist(){},init:function(t){if(!1===this.inited){this.inited=!0;let e="Create Table if not exists snippets\n          (id INTEGER PRIMARY KEY, \n           lastUsedUnix INTEGER, \n           name TEXT, \n           snippet TEXT,\n           postId INTEGER,\n           starred INTEGER)";WebSQLDatabaseHelper.exec(e,()=>{this.loadSnippet(e=>{EventManager.on($v.PostManager,"changeEditingPostId",t=>{this.loadSnippet()}),FunctionHelper.triggerCallback(t)})})}else FunctionHelper.triggerCallback(t)},createSnippet:function(){this.editingSnippetName="",this.editingSnippetStarred=0,this.editingSnippetView="code",this.editingSnippet="",this.editingId="?"},editSnippet:function(t){let e=this.filterSnippet(t);void 0!==e&&(this.editingId=t,this.editingSnippetName=e.name,this.editingSnippet=e.snippet,this.editingSnippetStarred=e.starred,this.getUI().find('input[name="snippetName"]').focus())},insertSnippet:function(t,e){if(void 0===e&&(e=this.filterSnippet(t)),void 0!==e){let t=e.snippet;$v.EditorManager.FieldPostBody.insert(t),this.close(),this.moveSnippetToTop(e),this.updateSnippetLastUsedUnix(e)}else this.close()},deleteSnippet:function(t){let e=this.$t("Are you sure to delete snippet");e+=` #${t}?`,WindowHelper.confirm(e,()=>{let e="DELETE FROM snippets WHERE id="+t;WebSQLDatabaseHelper.exec(e),this.snippets=this.snippets.filter(e=>e.id!==t)})},saveAndInsertSnippet:function(){this.saveSnippet((t,e)=>{this.insertSnippet(t,e)})},saveSnippet:function(t,e){"function"==typeof t&&(e=t,t=void 0),void 0!==t&&"click"===t.type&&(t=void 0),"string"==typeof t&&(t=this.buildNewSnippetFromText(t));let i,n,a=DayjsHelper.unix();void 0===t?("all"===this.scope?this.postId=-1:this.postId=$v.PostManager.editingPostId,n=[a,this.editingSnippetName,this.editingSnippet,this.postId,this.editingSnippetStarred],i="number"==typeof this.editingId?"UPDATE snippets SET \n            lastUsedUnix = ?,\n            name = ?,\n            snippet = ?,\n            postId = ?,\n            starred = ?\n            WHERE id = "+this.editingId:"insert into \n            snippets(lastUsedUnix, name, snippet, postId, starred) \n            values(?,?,?,?,?)"):(n=[a,t.name,t.snippet,t.postId,t.starred],i="insert into \n            snippets(lastUsedUnix, name, snippet, postId, starred) \n            values(?,?,?,?,?)");let s=t=>{let i=t[0];"function"==typeof e&&e(this.editingId,i),this.moveSnippetToTop(i),this.editingId=null};WebSQLDatabaseHelper.exec(i,n,t=>{t="number"==typeof t?[{id:t,name:this.editingSnippetName,snippet:this.editingSnippet,postId:this.postId,starred:this.editingSnippetStarred,lastUsedUnix:a}]:[{id:this.editingId,name:this.editingSnippetName,snippet:this.editingSnippet,postId:this.postId,starred:this.editingSnippetStarred,lastUsedUnix:a}],s(t)})},buildNewSnippetFromText:function(t){let e=$(`<span>${t}</span>`).text();return e.length>30&&(e=e.slice(0,30)),{lastUsedUnix:0,name:e,snippet:t,postId:$v.PostManager.editingPostId,starred:0}},moveSnippetToTop:function(t){let e=t.id,i=this.filterSnippet(e);if(void 0!==i)for(let e in i)i[e]=t[e];else this.snippets=this.snippets.concat(t)},updateSnippetLastUsedUnix:function(t,e){let i=DayjsHelper.unix(),n="UPDATE snippets SET \n          lastUsedUnix = ?\n          WHERE id = "+t.id,a=[i];WebSQLDatabaseHelper.exec(n,a,e)},cancelEdit:function(){this.editingId=null},filterSnippet:function(t){if("number"==typeof t){let e=this.snippets.filter(e=>e.id===t);if(e.length>0)return e[0]}},loadSnippet:function(t){let e=`select * from snippets where (postId = -1 or postId = ${$v.PostManager.editingPostId}) order by starred, lastUsedUnix desc`;WebSQLDatabaseHelper.exec(e,e=>{this.snippets=[],Array.isArray(e)&&e.length>0&&(this.snippets=this.snippets.concat(e)),FunctionHelper.triggerCallback(t,e)})},setConfig:function(t,e){"string"==typeof t&&(t=JSON.parse(t));WebSQLDatabaseHelper.exec("delete from snippets",()=>{let i=n=>{if(n<t.length){let e=t[n],a="insert into \n              snippets(lastUsedUnix, name, snippet, postId, starred) \n              values(?,?,?,?,?)",s=[e.lastUsedUnix,e.name,e.snippet,e.postId,e.starred];WebSQLDatabaseHelper.exec(a,s,()=>{n++,i(n)})}else this.snippets=t,this.filterCondition="",FunctionHelper.triggerCallback(e)};i(0)})},toggleEditingSnippetView:function(){return"code"===this.editingSnippetView?this.editingSnippetView="preview":this.editingSnippetView="code",this},textareaSelectAll:function(){this.editingSnippetView="code",this.getUI().find("#editingSnippet").select()},textareaCopy:function(){CopyPasteHelper.copyRichFormat(this.editingSnippet)},textareaEmpty:function(){this.editingSnippet="",this.editingSnippetView="code"},toggleStarred:function(t){if("number"!=typeof t)this.editingSnippetStarred=(this.editingSnippetStarred+1)%2;else{let e=this.filterSnippet(t);e.starred=(e.starred+1)%2;let i="UPDATE snippets SET \n            starred = ?\n            WHERE id = "+e.id,n=[e.starred];WebSQLDatabaseHelper.exec(i,n)}},toggleScope:function(t){if("number"!=typeof t)-1===this.postId?this.postId=$v.PostManager.editingPostId:this.postId=-1;else{let e=this.filterSnippet(t);-1===e.postId?e.postId=$v.PostManager.editingPostId:e.postId=-1;let i="UPDATE snippets SET \n            postId = ?\n            WHERE id = "+e.id,n=[e.postId];WebSQLDatabaseHelper.exec(i,n)}}}},Vt=(i(244),i(79)),Kt=Object(o.a)(Gt,zt,[],!1,null,"8e490fc4",null);"function"==typeof Vt.default&&Object(Vt.default)(Kt),Kt.options.__file="src/views/EditorManager/SnippetInserter/SnippetInserter.vue";var qt=Kt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"save-indicator",class:t.getClassname,attrs:{title:t.getTitle}},[i("div",{staticClass:"circular yellow ui icon button",class:{disabled:t.locked},on:{click:t.save}},[!1===t.locked?i("i",{staticClass:"save icon"}):t._e(),t._v(" "),t.locked?i("i",{staticClass:"hourglass icon"}):t._e()])])};Yt._withStripped=!0;var Jt={data:function(){return{name:"SaveIndicator",ui:void 0,locked:!1,opened:!1}},computed:{getClassname:function(){let t=this.name;return!0===this.locked&&(t+=" locked"),!0===this.opened&&(t+=" show"),t},getTitle:function(){return!1===this.locked?this.$t("Saving... (Click to Save)"):this.$t("Please wait for saving.")}},created:function(){$v[this.name]=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.opened=!0},close:function(){this.opened=!1},save:function(){DelayExecHelper.forceExec(),this.close()},persist(){},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}}},Qt=(i(246),i(80)),Xt=Object(o.a)(Jt,Yt,[],!1,null,"d9d10288",null);"function"==typeof Qt.default&&Object(Qt.default)(Xt),Xt.options.__file="src/views/EditorManager/SaveIndicator/SaveIndicator.vue";var Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"google icon"}),t._v("\r\n      "+t._s(t.$t("Title"))+"\r\n    ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"input field"},[i("label",{attrs:{for:"GoogleDocLinkBuilder.link"}},[t._v("\r\n            "+t._s(t.$t("Share Link"))+"\r\n            ("),i("a",{attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/blob/master/help/GoogleDocLinkBuilderLink.md",target:"GoogleDocLinkBuilder.How-to-get-share-link"}},[t._v(t._s(t.$t("How to get share link")))]),t._v(")\r\n          ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shareLink,expression:"shareLink"}],attrs:{type:"url",id:"GoogleDocLinkBuilder.link",placeholder:"https://docs.google.com/..."},domProps:{value:t.shareLink},on:{input:function(e){e.target.composing||(t.shareLink=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui icon button",attrs:{type:"button"},on:{click:function(e){return t.popupLink(t.shareLink)}}},[i("i",{staticClass:"open folder icon"})])])]),t._v(" "),i("div",{staticClass:"unstackable fields"},[i("div",{staticClass:"twelve wide input field"},[i("label",{attrs:{for:"GoogleDocLinkBuilder.title"}},[t._v("\r\n              "+t._s(t.$t("GoogleDocTitle"))+"\r\n            ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"four wide input field"},[i("label",{attrs:{for:"GoogleDocLinkBuilder.delimiter"}},[t._v("\r\n              "+t._s(t.$t("Delimiter"))+"\r\n            ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.delimiter,expression:"delimiter"}],attrs:{type:"text",placeholder:","},domProps:{value:t.delimiter},on:{change:t.persist,input:function(e){e.target.composing||(t.delimiter=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"link-list"},[i("draggable",{attrs:{group:"settings"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1},change:t.onOrderChange},model:{value:t.links,callback:function(e){t.links=e},expression:"links"}},t._l(t.links,(function(e){return i("div",{staticClass:"link-item unstackable fields",attrs:{title:t.$t("type."+e.type)}},[i("div",{staticClass:"one wide inline field"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"link.checked"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0",id:"link.checkbox."+e.type},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(i){var n=e.checked,a=i.target,s=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&t.$set(e,"checked",n.concat([null])):o>-1&&t.$set(e,"checked",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(e,"checked",s)},t.onCheckboxChange]}}),t._v(" "),i("label")])]),t._v(" "),i("div",{staticClass:"six wide inline field"},[i("div",{staticClass:"ui left action input"},[i("label",{staticClass:"icon ui button",class:{green:e.checked},attrs:{for:"link.checkbox."+e.type}},[i("i",{staticClass:"icon",class:e.icon})]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"link.label"}],staticClass:"ui fluid text label-input",attrs:{type:"text",id:"link.label."+e.type,placeholder:t.$t("type."+e.type)},domProps:{value:e.label},on:{change:function(i){return t.onLabelChange(e.type,e.label)},input:function(i){i.target.composing||t.$set(e,"label",i.target.value)}}})])]),t._v(" "),i("div",{staticClass:"five wide inline field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"link.url"}],staticClass:"field-url ui fluid text",attrs:{type:"url",onfocus:"this.select()",readonly:""},domProps:{value:e.url},on:{input:function(i){i.target.composing||t.$set(e,"url",i.target.value)}}})]),t._v(" "),i("div",{staticClass:"three wide inline field"},[i("div",{staticClass:"ui fluid buttons"},[i("button",{staticClass:"ui icon button",attrs:{type:"button"},on:{click:function(i){return t.copyLink(e.url)}}},[i("i",{staticClass:"copy icon"})]),t._v(" "),i("button",{staticClass:"ui icon button",attrs:{type:"button"},on:{click:function(i){return t.popupLink(e.url)}}},[i("i",{staticClass:"open folder icon"})])])]),t._v(" "),i("div",{staticClass:"one wide inline draggable field"},[i("i",{staticClass:"bars icon draggable"})])])})),0)],1)])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n        "+t._s(t.$t("Close"))+"\r\n      ")]),t._v(" "),i("div",{staticClass:"ui button",class:{positive:t.isReadyInsert,disabled:!1===t.isReadyInsert},on:{click:t.insert}},[t._v("\r\n        "+t._s(t.$t("Insert"))+"\r\n      ")])])])};te._withStripped=!0;var ee={data:function(){return{name:"GoogleDocLinkBuilder",ui:void 0,shareLink:"",links:[],checked:{},labels:{},order:{},delimiter:", ",currentType:null,title:""}},mounted:function(){VueHelper.mountLocalStorage(this,"delimiter",", "),VueHelper.mountLocalStorageJSON(this,"checked",{}),VueHelper.mountLocalStorageJSON(this,"order",{}),VueHelper.mountLocalStorageJSON(this,"labels",{}),this.init()},components:{draggable:kt.a},watch:{shareLink:function(t){this.buildLinks(t)}},created:function(){$v[this.name]=this},computed:{isReadyInsert:function(){for(let t=0;t<this.links.length;t++)if(!0===this.links[t].checked)return!0;return!1}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},init:function(){this.buildLinks(this.shareLink)},open:function(){""===this.shareLink&&navigator.clipboard.readText().then(t=>{t=t.trim(),URLHelper.isURL(t)&&t.startsWith("https://docs.google.com/")&&(this.shareLink=t)}).catch(t=>{}),this.getUI().modal("show")},close:function(){this.getUI().modal("hide")},insert:function(){let t=[];if(this.links.forEach(e=>{if(!1===e.checked)return;let i=e.label.trim();""===i&&(i=this.$t("type."+e.type)),t.push(`<a href="${e.url}" target="_blank">${i}</a>`)}),t.length>0){let e=this.title.trim();t=""===e?"<ul><li>"+t.join(this.delimiter)+"</li></ul>":"<ul><li>"+e+this.$t(": ")+t.join(this.delimiter)+"</li></ul>",$v.EditorManager.FieldPostBody.insert(t)}this.shareLink="",this.title="",this.close()},persist(){VueHelper.persistLocalStorage(this,"delimiter")},onLabelChange:function(t,e){"obecjt"!=typeof this.labels&&(this.labels={}),""!==(e=e.trim())?this.labels[t]=e:delete this.labels[t],VueHelper.persistLocalStorage(this,"labels")},onOrderChange:function(){if(null!==this.currentType){let t=[];this.links.forEach(e=>{t.push(e.type)}),"obecjt"!=typeof this.order&&(this.order={}),this.order[this.currentType]=t,VueHelper.persistLocalStorage(this,"order")}},onCheckboxChange:function(){if(null!==this.currentType){let t=[];this.links.forEach(e=>{!0===e.checked&&t.push(e.type)}),"obecjt"!=typeof this.checked&&(this.checked={}),this.checked[this.currentType]=t,VueHelper.persistLocalStorage(this,"checked")}},copyLink:function(t){CopyPasteHelper.copyPlainText(t)},buildLinks:function(t){if("string"!=typeof t)return;if(setTimeout(()=>{this.getUI().find(".ui.checkbox").checkbox()},0),t.indexOf("/d/")>0){let e=this.getGoogleDocId(t),i=this.getGoogleDocType(t);this.currentType=i;let n=this.buildGoogleDocLinks(i,e);this.links=this.sortLinks(n)}else this.currentType=null,this.links=[]},getGoogleDocId:function(t){let e=t.indexOf("/d/");if(e>0){e+=3;let i=t.indexOf("/",e);return t.slice(e,i)}},getGoogleDocType:function(t){var e="file";return!0===t.startsWith("https://docs.google.com/document/d/")?e="document":!0===t.startsWith("https://docs.google.com/spreadsheets/d/")?e="spreadsheets":!0===t.startsWith("https://docs.google.com/presentation/d/")&&(e="presentation"),e},buildGoogleDocLink:function(t,e,i){let n=!1;"object"==typeof this.checked&&Array.isArray(this.checked[this.currentType])&&this.checked[this.currentType].indexOf(e)>-1&&(n=!0);let a=this.$t("type."+e);return"object"==typeof this.labels&&"string"==typeof this.labels[e]&&(a=this.labels[e]),{url:t,label:a,type:e,icon:i,checked:n}},buildGoogleDocLinks:function(t,e){let i,n={};switch(t){case"document":i="https://docs.google.com/document/d/",n[t+".share"]=this.buildGoogleDocLink(i+e+"/edit?usp=sharing",t+".share","linkify"),n[t+".copy"]=this.buildGoogleDocLink(i+e+"/copy",t+".copy","copy"),n[t+".pdf"]=this.buildGoogleDocLink(i+e+"/export?format=pdf",t+".pdf","file pdf outline"),n[t+".odt"]=this.buildGoogleDocLink(i+e+"/export?format=odt",t+".odt","file alternate"),n[t+".doc"]=this.buildGoogleDocLink(i+e+"/export?format=doc",t+".doc","file word outline"),n[t+".rtf"]=this.buildGoogleDocLink(i+e+"/export?format=rtf",t+".rtf","file alternate"),n[t+".txt"]=this.buildGoogleDocLink(i+e+"/export?format=txt",t+".txt","file alternate outline"),n[t+".html"]=this.buildGoogleDocLink(i+e+"/export?format=html",t+".html","html5"),n[t+".epub"]=this.buildGoogleDocLink(i+e+"/export?format=epub",t+".epub","book");break;case"spreadsheets":i="https://docs.google.com/spreadsheets/d/",n[t+".share"]=this.buildGoogleDocLink(i+e+"/edit?usp=sharing",t+".share","linkify"),n[t+".copy"]=this.buildGoogleDocLink(i+e+"/copy",t+".copy","copy"),n[t+".csv"]=this.buildGoogleDocLink(i+e+"/export?format=csv",t+".csv","file alternate outline"),n[t+".ods"]=this.buildGoogleDocLink(i+e+"/export?format=ods",t+".ods","file alternate"),n[t+".xlsx"]=this.buildGoogleDocLink(i+e+"/export?format=xlsx",t+".xlsx","file excel outline"),n[t+".tsv"]=this.buildGoogleDocLink(i+e+"/export?format=tsv",t+".tsc","file alternate outline"),n[t+".pdf"]=this.buildGoogleDocLink(i+e+"/export?format=pdf",t+".pdf","file pdf outline");break;case"presentation":i="https://docs.google.com/spreadsheets/d/",n[t+".share"]=this.buildGoogleDocLink(i+e+"/edit?usp=sharing",t+".share","linkify"),n[t+".copy"]=this.buildGoogleDocLink(i+e+"/copy",t+".copy","copy"),n[t+".pdf"]=this.buildGoogleDocLink(i+e+"/export?format=pdf",t+".pdf","file alternate outline"),n[t+".odp"]=this.buildGoogleDocLink(i+e+"/export?format=odp",t+".odp","file alternate"),n[t+".pptx"]=this.buildGoogleDocLink(i+e+"/export?format=pptx",t+".pptx","file excel outline"),n[t+".txt"]=this.buildGoogleDocLink(i+e+"/export?format=tsv",t+".txt","file alternate outline"),n[t+".jpeg"]=this.buildGoogleDocLink(i+e+"/export?format=pdf",t+".jpeg","file pdf outline"),n[t+".png"]=this.buildGoogleDocLink(i+e+"/export?format=png",t+".png","file pdf outline"),n[t+".svg"]=this.buildGoogleDocLink(i+e+"/export?format=svg",t+".svg","file pdf outline");break;default:n[t+".share"]=this.buildGoogleDocLink("https://drive.google.com/open?id="+e,t+".share","linkify"),n[t+".download"]=this.buildGoogleDocLink("https://drive.google.com/uc?export=download&id="+e,t+".download","file alternate outline")}return n},sortLinks:function(t){let e=[];"object"==typeof this.order&&Array.isArray(this.order[this.currentType])&&this.order[this.currentType].length>1&&this.order[this.currentType].forEach(i=>{"object"==typeof t[i]&&(e.push(t[i]),delete t[i])});for(let i in t)e.push(t[i]);return e},popupLink:function(t){WindowHelper.popup(t)}}},ie=(i(248),i(81)),ne=Object(o.a)(ee,te,[],!1,null,"0319e0d6",null);"function"==typeof ie.default&&Object(ie.default)(ne),ne.options.__file="src/views/EditorManager/GoogleDocLinkBuilder/GoogleDocLinkBuilder.vue";var ae=ne.exports,se=(i(13),i(12));se.a.filter=function(t){let e=(t.target||t.srcElement).tagName;return se.a.setScope(/^(INPUT|TEXTAREA|SELECT)$/.test(e)?"input":"other"),!0};se.a;var oe,re=se.a,le={data:function(){return{ui:void 0,uploadImageDraft:ConfigHelper.get("uploadImageDraft"),disableUploadImageDraft:!0,postSummerNote:null,titleSummerNote:null,labelsSUmmerNote:null,dateContainer:null,summerNoteInited:!1,imageSizeDefault:450,summerNoteConfigToolbar:"",summerNoteConfigStyleTags:"",summerNoteConfigLabels:"",$summerNoteConfigLabelsSearch:null,enableOCRImageFilename:!1,enableOCRImageAlt:!1,OCRImageLang:"chi_tra+eng",onCloseReload:!1,enableTypeWriterSoundEffect:!0,speakRate:1.5,ImageUploadDraft:"https://www.blogger.com/blog/post/edit/16607461/8994542276547065",PhotoRepository:"",CommentAnchor:"#comment-form-iframe",FieldPostBody:it,FieldPostLabels:nt,FieldPostTitle:at,FieldPostDate:st,SummerNoteConfig:tt.a,EditorManagerConfig:rt,ImageReplacer:null,IframePrompt:null,FileUploader:null,CodeInserter:null,MarkdownImporter:null,OutlineNavigator:null,SnippetInserter:null,SaveIndicator:null,GoogleDocLinkBuilder:null}},mounted(){VueHelper.mountLocalStorageBoolean(this,"enableOCRImageFilename"),VueHelper.mountLocalStorageBoolean(this,"enableOCRImageAlt"),VueHelper.mountLocalStorage(this,"uploadImageDraft"),VueHelper.mountLocalStorage(this,"PhotoRepository"),VueHelper.mountLocalStorage(this,"CommentAnchor"),VueHelper.mountLocalStorage(this,"OCRImageLang"),VueHelper.mountLocalStorageInt(this,"imageSizeDefault"),VueHelper.mountLocalStorage(this,"summerNoteConfigToolbar"),VueHelper.mountLocalStorage(this,"summerNoteConfigStyleTags"),VueHelper.mountLocalStorage(this,"summerNoteConfigLabels"),VueHelper.mountLocalStorageBoolean(this,"enableTypeWriterSoundEffect"),VueHelper.mountLocalStorageNumber(this,"speakRate"),this.initLabelsSearch(),this.checkOCRThreshold(),this.initKeyBinds()},created:function(){$v.EditorManager=this,this.validateUploadImageDrarfUrl(),!1===ConfigHelper.get("debug").disableImageReplacer&&VueHelper.init(ft,t=>{this.ImageReplacer=t}),!1===ConfigHelper.get("debug").disableIframePrompt&&VueHelper.init(Ct,t=>{this.IframePrompt=t}),!1===ConfigHelper.get("debug").disableFileUploader&&VueHelper.init(Pt,t=>{this.FileUploader=t}),!1===ConfigHelper.get("debug").disableCodeInserter&&VueHelper.init(Et,t=>{this.CodeInserter=t}),!1===ConfigHelper.get("debug").disableMarkdownImporter&&VueHelper.init(Dt,t=>{this.MarkdownImporter=t}),!1===ConfigHelper.get("debug").disableOutlineNavigator&&VueHelper.init(jt,t=>{this.OutlineNavigator=t}),!1===ConfigHelper.get("debug").disableSnippetInserter&&VueHelper.init(qt,t=>{this.SnippetInserter=t}),!1===ConfigHelper.get("debug").disableSaveIndicator&&VueHelper.init(Zt,t=>{this.SaveIndicator=t}),!1===ConfigHelper.get("debug").disableGoogleDocLinkBuilder&&VueHelper.init(ae,t=>{this.GoogleDocLinkBuilder=t})},computed:{toolbarJSON:function(){let t=tt.a.defaultToolbar();return JSON.stringify(t)},styleTagsJSON:function(){let t=tt.a.defaultStyleTags();return JSON.stringify(t)},labelsList:function(){let t=[];return this.summerNoteConfigLabels.trim().split("\n").forEach(e=>{""!==(e=e.trim())&&t.push(e)}),t},summernote:()=>$("#summernotePostBody"),isImageUploadDraftValid(){return!("string"!=typeof this.ImageUploadDraft&&!this.ImageUploadDraft.startsWith("https://www.blogger.com/blog/post/edit/")&&8!==this.ImageUploadDraft.split("/").length)},isPhotoRepositoryValid(){if("string"==typeof this.PhotoRepository)try{return new URL(this.PhotoRepository),!0}catch(t){return!1}return!1}},watch:{uploadImageDraft:function(t){this.validateUploadImageDrarfUrl(),EventManager.trigger(this,"disableUploadImageDraftChanged")},OCRImageLang:function(t){EventManager.trigger(this,"OCRImageLangChanged")},enableTypeWriterSoundEffect(){this.setEnableTypeWriterSoundEffect()},speakRate(){let t=ot.a.getRateLabel();if(!t)return!1;t.html(this.speakRate+this.$t("x"))}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(".EditorManager.ui.modal"),this.ui.find(".ui.checkbox").checkbox()),this.ui},open:function(t){this.getUI().modal("show"),"string"==typeof t&&$(()=>{$(t).focus()}),this.onCloseReload=!1},close:function(){!0===this.onCloseReload?(this.onCloseReload=!1,InitHelper.reload(()=>{this.getUI().modal("hide")})):this.getUI().modal("hide")},validateUploadImageDrarfUrl:function(t){return"string"==typeof t?!(t=t.trim()).startsWith("https://www.blogger.com/blog/posts/"):(this.disableUploadImageDraft=!this.uploadImageDraft.startsWith("https://www.blogger.com/blog/posts/"),this.disableUploadImageDraft)},persist(){VueHelper.persistLocalStorage(this,"enableOCRImageFilename"),VueHelper.persistLocalStorage(this,"enableOCRImageAlt"),VueHelper.persistLocalStorage(this,"OCRImageLang"),VueHelper.persistLocalStorage(this,"uploadImageDraft"),VueHelper.persistLocalStorage(this,"PhotoRepository"),VueHelper.persistLocalStorage(this,"CommentAnchor"),VueHelper.persistLocalStorage(this,"imageSizeDefault"),VueHelper.persistLocalStorage(this,"summerNoteConfigToolbar"),VueHelper.persistLocalStorage(this,"summerNoteConfigStyleTags"),VueHelper.persistLocalStorage(this,"summerNoteConfigLabels"),VueHelper.persistLocalStorage(this,"enableTypeWriterSoundEffect"),VueHelper.persistLocalStorage(this,"speakRate")},init:function(t){if(!0===ConfigHelper.get("debug").disableEditorManager)return FunctionHelper.triggerCallback(t);this.EditorManagerConfig.init(this),EventManager.on($v.PostManager,"open",()=>{this.save()}),$(window).bind("beforeunload",t=>{if(DelayExecHelper.isWaiting())return DelayExecHelper.forceExec(),!1});let e=t=>this.$t(t);at.init(e,()=>{nt.init(e,()=>{it.init(e,()=>{this.setupPostData(t)})})})},reload:function(t){st.reset(),at.reload(()=>{it.reload(()=>{nt.reload(()=>{this.setupPostData(t)})})})},setupPostData:function(t){$v.PostManager.getPost(e=>{void 0!==e&&(at.set(e.title),nt.set(e.labels),st.set(e.updateUnix)),$v.PostManager.getPostBody(e=>{void 0!==e&&it.set(e),this.setEnableTypeWriterSoundEffect(),FunctionHelper.triggerCallback(t)})})},save:function(t,e){if("function"==typeof t&&(e=t,t=!1),void 0===t&&(t=!1),!1===t)return DelayExecHelper.forceExec(),void FunctionHelper.triggerCallback(e);st.set(),at.save(()=>{nt.save(()=>{it.save(()=>{DelayExecHelper.clear(),FunctionHelper.triggerCallback(e)})})})},openBloggerDraft:function(){let t=this.uploadImageDraft;WindowHelper.popup(t,"uploadImageDraftWindow",900)},openBloggerConsole:function(){WindowHelper.popup("https://www.blogger.com","bloggerConsole")},openImageUploadDraft(){WindowHelper.popup(this.ImageUploadDraft,"image-upload-draft")},openPhotoRepository(){WindowHelper.popup(this.PhotoRepository,"photo-repository-draft")},openImageReplacer:function(){this.ImageReplacer.open()},openTab:function(t){SemanticUIHelper.openTab(t)},configDownload:function(){return this.EditorManagerConfig.configDownload()},triggerConfigUpload:function(t){$(t.target).parent().children("input:file:first").click()},configUpload:function(t){return this.EditorManagerConfig.configUpload(t)},configDrop:function(t){return this.EditorManagerConfig.configDrop(t)},setChanged:function(){this.onCloseReload=!0},setLabelsChanged:function(){this.initLabelsSearch(),this.setChanged()},initLabelsSearch:function(){let t=[];this.labelsList.forEach(e=>{t.push({title:e})}),void 0!==this.$summerNoteConfigLabelsSearch&&null!==this.$summerNoteConfigLabelsSearch||(this.$summerNoteConfigLabelsSearch=$(this.$refs.summerNoteConfigLabelsSearch)),this.$summerNoteConfigLabelsSearch.search({source:t})},addLabel:function(t){if("string"!=typeof t)return this;t=t.trim();let e=this.labelsList;-1===e.indexOf(t)&&(e.push(t),e.sort(),this.summerNoteConfigLabels=e.join("\n"),this.persist()),$v.EditorManager.FieldPostLabels.addSummernoteItem(t)},checkOCRThreshold:function(){let t=1024*ConfigHelper.get("enableOCRMemoryThresholdMB")*1024;return window.performance.memory.totalJSHeapSize<t&&(this.enableOCRImageFilename=!1,this.enableOCRImageAlt=!1,console.log("disable OCR")),this},setEnableTypeWriterSoundEffect(){this.FieldPostBody.get().summernote("setOption",{enableTypeWriterSoundEffect:this.enableTypeWriterSoundEffect})}}};(oe=le).methods.getKeyBindsConfig=function(){return{}},oe.methods.hotkeyFind=function(t,e){t.stopPropagation(),t.preventDefault();let i=this.$refs.CodeMirrorEditor.getSelectedText();""===i?""!==this.localConfig.stringToSearch?e():this.hotkeyStartSearch():(this.localConfig.displayPanel="replace",this.localConfig.stringToSearch!==i?(this.localConfig.stringToSearch=i,this.hotkeyStartSearch()):e())},oe.methods.hotkeyStartSearch=function(){this.localConfig.displayPanel="replace",this.$refs.ReplacePanel.selectSearchInput()},oe.methods.initKeyBinds=function(){let t=this.getKeyBindsConfig();re(Object.keys(t).join(","),async(e,i)=>{let n=i.key;for(let a in t)if(a===n)return await t[a](e,i),!0})};var ce=le,de=(i(251),i(82)),ue=Object(o.a)(ce,Z,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui icon input"},[e("input",{staticClass:"summernote-config-labels-search prompt",attrs:{type:"text",id:"summerNoteConfigLabelsSearch",placeholder:"Search labels..."}}),this._v(" "),e("i",{staticClass:"search icon"})])}],!1,null,"23f9c247",null);"function"==typeof de.default&&Object(de.default)(ue),ue.options.__file="src/views/EditorManager/EditorManager.vue";var pe=ue.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"keyboard outline icon"}),t._v("\r\n    "+t._s(t.$t("Config Manager"))+"\r\n  ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"ui form description"},[i("div",{staticClass:"ui top attached tabular menu"},[i("a",{ref:"interface",staticClass:"item",class:{active:"interface"===t.tab},attrs:{"data-tab":"interface"},on:{click:t.openTab}},[t._v("\r\n          "+t._s(t.$t("Interface"))+"\r\n        ")]),t._v(" "),i("a",{ref:"google-analytics",staticClass:"item",class:{active:"google-analytics"===t.tab},attrs:{"data-tab":"google-analytics"},on:{click:t.openTab}},[t._v("\r\n          "+t._s(t.$t("Event Track"))+"\r\n        ")]),t._v(" "),i("a",{ref:"backup",staticClass:"item",class:{active:"backup"===t.tab},attrs:{"data-tab":"backup"},on:{click:t.openTab}},[t._v("\r\n          "+t._s(t.$t("Backup Manage"))+"\r\n        ")]),t._v(" "),i("a",{ref:"apikeys",staticClass:"item",class:{active:"apikeys"===t.tab},attrs:{"data-tab":"apikeys"},on:{click:t.openTab}},[t._v("\r\n          "+t._s(t.$t("API Keys"))+"\r\n        ")]),t._v(" "),i("a",{ref:"about",staticClass:"item",class:{active:"about"===t.tab},attrs:{"data-tab":"about"},on:{click:t.openTab}},[t._v("\r\n          "+t._s(t.$t("About"))+"\r\n        ")])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",class:{active:"interface"===t.tab},attrs:{"data-tab":"interface"}},[i("div",{staticClass:"field"},[i("label",[t._v("\r\n            "+t._s(t.$t("Language"))+"\r\n          ")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.locale,expression:"locale"}],staticClass:"ui search dropdown",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.locale=e.target.multiple?i:i[0]},t.persistLocale]}},[t._l(t.localeOptions,(function(e){return[i("option",{domProps:{value:e}},[t._v("\r\n                "+t._s(t.$t(e))+"\r\n              ")])]}))],2)])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",class:{active:"apikeys"===t.tab},attrs:{"data-tab":"apikeys"}},[i("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1oO8gH6Le5IW8sWCQxqfBuGi-88QJ1s7G_ZGhNPpuAQs/edit#gid=0"}},[t._v("Private Document")]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.apiKeysChatGPT"}},[t._v("\r\n              "+t._s(t.$t("ChatGPT"))+"\r\n            ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.apiKeysChatGPT,expression:"apiKeysChatGPT"}],attrs:{type:"text",name:"apiKeysChatGPT",onfocus:"this.select()",id:"ConfigManager.apiKeysChatGPT"},domProps:{value:t.apiKeysChatGPT},on:{change:t.persist,input:function(e){e.target.composing||(t.apiKeysChatGPT=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.openChatGPTConfig}},[t._v("\r\n                "+t._s(t.$t("OPEN"))+"\r\n              ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.apiKeysAPILayer"}},[t._v("\r\n              "+t._s(t.$t("API Layer"))+"\r\n            ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.apiKeysAPILayer,expression:"apiKeysAPILayer"}],attrs:{type:"text",name:"apiKeysAPILayer",onfocus:"this.select()",id:"ConfigManager.apiKeysAPILayer"},domProps:{value:t.apiKeysAPILayer},on:{change:t.persist,input:function(e){e.target.composing||(t.apiKeysAPILayer=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.openAPILayerConfig}},[t._v("\r\n                "+t._s(t.$t("OPEN"))+"\r\n              ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.apiKeysTrans"}},[t._v("\r\n              "+t._s(t.$t("Trans"))+"\r\n            ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.apiKeysTrans,expression:"apiKeysTrans"}],attrs:{type:"text",name:"apiKeysTrans",onfocus:"this.select()",id:"ConfigManager.apiKeysTrans"},domProps:{value:t.apiKeysTrans},on:{change:t.persist,input:function(e){e.target.composing||(t.apiKeysTrans=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.apiKeysURLScreenshot"}},[t._v("\r\n              "+t._s(t.$t("URL Screenshot"))+"\r\n            ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.apiKeysURLScreenshot,expression:"apiKeysURLScreenshot"}],attrs:{type:"text",name:"apiKeysURLScreenshot",onfocus:"this.select()",id:"ConfigManager.apiKeysURLScreenshot"},domProps:{value:t.apiKeysURLScreenshot},on:{change:t.persist,input:function(e){e.target.composing||(t.apiKeysURLScreenshot=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",class:{active:"backup"===t.tab},attrs:{"data-tab":"backup"}},[i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.backupPageURL"}},[t._v("\r\n            "+t._s(t.$t("Backup URL"))+"\r\n          ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.backupPageURL,expression:"backupPageURL"}],attrs:{type:"url",name:"backupPageURL",onfocus:"this.select()",id:"ConfigManager.backupPageURL"},domProps:{value:t.backupPageURL},on:{change:t.persist,input:function(e){e.target.composing||(t.backupPageURL=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:!1===t.enableBackupPageButton},attrs:{type:"button"},on:{click:t.openBackupPageURL}},[t._v("\r\n              "+t._s(t.$t("OPEN"))+"\r\n            ")])])]),t._v(" "),i("div",{staticClass:"two unstackable fields"},[i("div",{staticClass:"field"},[i("label",[t._v("\r\n              "+t._s(t.$t("Backup Config"))+"\r\n            ")]),t._v(" "),i("button",{staticClass:"backup ui labeled icon fluid button",attrs:{type:"button"},on:{click:t.configDownload}},[i("i",{staticClass:"download icon"}),t._v("\r\n              "+t._s(t.$t("Backup"))+"\r\n            ")])]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\r\n               \r\n            ")]),t._v(" "),i("input",{attrs:{type:"file",name:"uploadConfig",accept:".zip"},on:{change:t.configUpload}}),t._v(" "),i("button",{staticClass:"ui labeled icon fluid button",attrs:{type:"button"},on:{click:t.triggerConfigUpload}},[i("i",{staticClass:"upload icon"}),t._v("\r\n              "+t._s(t.$t("Restore"))+"\r\n            ")])]),t._v(" "),i("div",{staticClass:"dragover-message",on:{drop:t.configDrop}},[t._v("\r\n            "+t._s(t.$t("Drop file to upload"))+"\r\n          ")])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",class:{active:"google-analytics"===t.tab},attrs:{"data-tab":"google-analytics"}},[i("div",{staticClass:"inline field"},[i("label",{attrs:{for:"eventTrackDayLimit"}},[t._v("\r\n            "+t._s(t.$t("Download in"))+"\r\n          ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.eventTrackDayLimit,expression:"eventTrackDayLimit"}],attrs:{type:"number",id:"eventTrackDayLimit"},domProps:{value:t.eventTrackDayLimit},on:{change:t.persist,input:function(e){e.target.composing||(t.eventTrackDayLimit=e.target.value)}}}),t._v(" "),i("label",{attrs:{for:"eventTrackDayLimit"}},[t._v("\r\n            "+t._s(t.$t("days event record."))+"\r\n          ")])]),t._v(" "),i("div",{staticClass:"inline field"},[i("div",{staticClass:"ui fluid buttons"},[i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.downloadEventTrackData}},[t._v("\r\n              "+t._s(t.$t("Download"))+"\r\n            ")]),t._v(" "),i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.downloadEventTrackProductionData}},[t._v("\r\n              "+t._s(t.$t("Production"))+"\r\n            ")]),t._v(" "),i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.downloadEventTrackStrengthData}},[t._v("\r\n              "+t._s(t.$t("Strength"))+"\r\n            ")]),t._v(" "),i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.downloadEventTrackModificationData}},[t._v("\r\n              "+t._s(t.$t("Modification"))+"\r\n            ")]),t._v(" "),i("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:t.clearEventTrackData}},[t._v("\r\n              "+t._s(t.$t("Clear"))+"\r\n            ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",[i("a",{attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/blob/master/help/UsageStatistics.md",target:"_blank"}},[t._v("\r\n              "+t._s(t.$t("(How to use the usage statistic data?)"))+"\r\n            ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.googleAnalyticsTrackingId"}},[t._v("\r\n            "+t._s(t.$t("Tracking ID"))+"\r\n            ("),i("a",{attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/blob/master/help/GoogleAnalyticsTrackingID.md",target:"GoogleAnalyticsTrackingID"}},[t._v(t._s(t.$t("How to get Tracking ID?")))]),t._v(")\r\n          ")]),t._v(" "),i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.googleAnalyticsTrackingId,expression:"googleAnalyticsTrackingId"}],attrs:{type:"text",name:"googleAnalyticsTrackingId",onfocus:"this.select()",id:"ConfigManager.googleAnalyticsTrackingId",placeholder:"UA-XXXXXX-Y"},domProps:{value:t.googleAnalyticsTrackingId},on:{change:t.persist,input:function(e){e.target.composing||(t.googleAnalyticsTrackingId=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.googleAnalyticsRealtimeReportURL"}},[t._v("\r\n            "+t._s(t.$t("Realtime Report URL"))+"\r\n          ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.googleAnalyticsRealtimeReportURL,expression:"googleAnalyticsRealtimeReportURL"}],attrs:{type:"url",name:"googleAnalyticsRealtimeReportURL",onfocus:"this.select()",id:"ConfigManager.googleAnalyticsRealtimeReportURL",placeholder:"https://analytics.google.com/analytics/web/#/realtime/rt-event/"},domProps:{value:t.googleAnalyticsRealtimeReportURL},on:{change:t.persist,input:function(e){e.target.composing||(t.googleAnalyticsRealtimeReportURL=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:!1===t.enableRealtimeReportButton},attrs:{type:"button"},on:{click:t.openRealtimeReportURL}},[t._v("\r\n              "+t._s(t.$t("OPEN"))+"\r\n            ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"ConfigManager.googleAnalyticsReportURL"}},[t._v("\r\n            "+t._s(t.$t("Report URL"))+"\r\n          ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.googleAnalyticsReportURL,expression:"googleAnalyticsReportURL"}],attrs:{type:"url",name:"googleAnalyticsReportURL",onfocus:"this.select()",id:"ConfigManager.googleAnalyticsReportURL",placeholder:"https://analytics.google.com/analytics/web/#/"},domProps:{value:t.googleAnalyticsReportURL},on:{change:t.persist,input:function(e){e.target.composing||(t.googleAnalyticsReportURL=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:!1===t.enableReportButton},attrs:{type:"button"},on:{click:t.openReportURL}},[t._v("\r\n              "+t._s(t.$t("OPEN"))+"\r\n            ")])])])]),t._v(" "),i("div",{staticClass:"ui bottom attached tab segment form",class:{active:"about"===t.tab},attrs:{"data-tab":"about"}},[i("div",{staticClass:"ui cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("img",{staticClass:"right floated mini ui image",attrs:{src:"static/blog.pulipuli.info.svg"}}),t._v(" "),i("div",{staticClass:"header"},[t._v("\r\n                布丁布丁吃布丁\r\n              ")]),t._v(" "),i("div",{staticClass:"meta"},[i("span",{staticClass:"date"},[t._v("\r\n                  "+t._s(t.$t("Author"))+"\r\n                ")])]),t._v(" "),i("div",{staticClass:"description"},[t._v("\r\n                這個布丁是在無聊的世界中找尋樂趣的一種不能吃的食物，喜愛動漫畫、遊戲、程式，以及跟世間脫節的生活步調。\r\n              ")])]),t._v(" "),i("div",{staticClass:"extra content"},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("a",{staticClass:"ui labeled icon basic fluid button",attrs:{href:"http://blog.pulipuli.info",target:"blog.pulipuli.info"}},[i("i",{staticClass:"blogger icon"}),t._v("\r\n                    "+t._s(t.$t("Blog"))+"\r\n                  ")])]),t._v(" "),i("div",{staticClass:"field"},[i("a",{staticClass:"ui labeled icon basic fluid button",attrs:{href:"http://blog.pulipuli.info/2005/12/blogger_113544406852218769.html#comment-editor",target:"blog.pulipuli.info-contact"}},[i("i",{staticClass:"paper plane icon"}),t._v("\r\n                    "+t._s(t.$t("Contact"))+"\r\n                  ")])]),t._v(" "),i("div",{staticClass:"field"},[i("a",{staticClass:"ui labeled icon basic fluid button",attrs:{href:"https://github.com/pulipulichen/Blogger-Editor/issues?q=is%3Aopen+is%3Aissue",target:"github.issues"}},[i("i",{staticClass:"envelope icon"}),t._v("\r\n                    "+t._s(t.$t("Issue"))+"\r\n                  ")])])])])])])])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\r\n      "+t._s(t.$t("Close"))+"\r\n    ")])])])};he._withStripped=!0;i(9);var ge={data:function(){return{name:"ConfigManager",ui:void 0,onCloseReload:!1,onCloseReloadI18n:!1,locale:ConfigHelper.get("locale"),localeOptions:ConfigHelper.get("localeOptions"),backupPageURL:"",tab:"interface",googleAnalyticsTrackingId:"",googleAnalyticsReportURL:"",googleAnalyticsRealtimeReportURL:"",eventTrackDayLimit:3,apiKeysChatGPT:"",apiKeysAPILayer:"",apiKeysTrans:"",apiKeysURLScreenshot:""}},mounted(){VueHelper.mountLocalStorage(this,"locale",ConfigHelper.get("locale")),VueHelper.mountLocalStorage(this,"backupPageURL","https://drive.google.com/drive/u/0/my-drive"),VueHelper.mountLocalStorage(this,"googleAnalyticsTrackingId"),VueHelper.mountLocalStorage(this,"googleAnalyticsReportURL"),VueHelper.mountLocalStorage(this,"googleAnalyticsRealtimeReportURL"),VueHelper.mountLocalStorageInt(this,"eventTrackDayLimit"),VueHelper.mountLocalStorage(this,"apiKeysChatGPT"),VueHelper.mountLocalStorage(this,"apiKeysAPILayer"),VueHelper.mountLocalStorage(this,"apiKeysTrans"),VueHelper.mountLocalStorage(this,"apiKeysURLScreenshot")},created:function(){$v[this.name]=this},computed:{enableBackupPageButton:function(){return this.backupPageURL.startsWith("https://drive.google.com/drive/u/0/")},enableReportButton:function(){return this.googleAnalyticsReportURL.startsWith("https://analytics.google.com/analytics/web/#/")},enableRealtimeReportButton:function(){return this.googleAnalyticsRealtimeReportURL.startsWith("https://analytics.google.com/analytics/web/#/realtime/rt-event/")}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal),this.ui.find("select.dropdown").dropdown()),this.ui},open:function(t){"string"==typeof t&&(this.openTab(t),console.log(t)),this.getUI().modal("show")},close:function(){if(!0===this.onCloseReloadI18n)return this.onCloseReloadI18n=!1,WindowHelper.confirm(this.$t("You need reload this page to change language. <br />Do you want to reload?"),()=>{location.reload()},()=>{this.close()}),this;!0===this.onCloseReload?(this.onCloseReload=!1,InitHelper.reload(()=>{this.getUI().modal("hide")})):this.getUI().modal("hide")},configDownload:function(){let t=new T.a,e="blogger-editor-config-"+DayjsHelper.nowFormat("YYYY-MMDD"),i=t.folder(e),n=[t=>{$v.ThemeManager.getConfig((e,n)=>{void 0!==e&&i.file("template.html",e),void 0!==n&&i.file("style.css",n),t()})},t=>{$v.EditorManager.SnippetInserter.getConfig(e=>{void 0!==e&&i.file("SnippetInserter.json",JSON.stringify(e)),t()})},t=>{let e=$v.EditorManager.getConfig();i.file("editorConfig.json",JSON.stringify(e));let n=$v.EditorManager.FileUploader.getConfig();i.file("FileUploaderConfig.json",JSON.stringify(n)),t()},i=>{t.generateAsync({type:"blob"}).then(t=>{Object(L.saveAs)(t,e+".zip")})}],a=t=>{t<n.length&&n[t](()=>{t++,a(t)})};a(0)},triggerConfigUpload:function(t){$(t.target).parent().children("input:file:first").click()},configUpload:function(t){let e=t.target.files;this.readConfig(e)},configDrop:function(t){let e=t.dataTransfer.files;this.readConfig(e)},readConfig:function(t){return 1!==t.length||"application/zip"!==t[0].type||(this.onCloseReload=!0,FileHelper.readZip(t[0],(t,e)=>{let i=t.path,n=t.content;i.endsWith("/editorConfig.json")?($v.EditorManager.setConfig(n),FunctionHelper.triggerCallback(e)):i.endsWith("/FileUploaderConfig.json")?($v.EditorManager.FileUploader.setConfig(n),FunctionHelper.triggerCallback(e)):i.endsWith("/SnippetInserter.json")?($v.EditorManager.SnippetInserter.setConfig(n),FunctionHelper.triggerCallback(e)):i.endsWith("/template.html")?$v.ThemeManager.TemplateManager.setConfig(n,e):i.endsWith("/style.css")&&$v.ThemeManager.StyleManager.setConfig(n,e)},()=>{WindowHelper.alert("Config restored.")})),this},persistLocale(){this.onCloseReloadI18n=!0,this.persist()},persist(){VueHelper.persistLocalStorage(this,"locale"),VueHelper.persistLocalStorage(this,"backupPageURL"),VueHelper.persistLocalStorage(this,"googleAnalyticsTrackingId"),VueHelper.persistLocalStorage(this,"googleAnalyticsReportURL"),VueHelper.persistLocalStorage(this,"googleAnalyticsRealtimeReportURL"),VueHelper.persistLocalStorage(this,"eventTrackDayLimit"),VueHelper.persistLocalStorage(this,"apiKeysChatGPT"),VueHelper.persistLocalStorage(this,"apiKeysAPILayer"),VueHelper.persistLocalStorage(this,"apiKeysTrans"),VueHelper.persistLocalStorage(this,"apiKeysURLScreenshot")},openBackupPageURL(){this.enableBackupPageButton&&WindowHelper.popup(this.backupPageURL,"ConfigManager.backupPageURL")},openReportURL(){this.enableReportButton&&WindowHelper.popup(this.googleAnalyticsReportURL,"ConfigManager.googleAnalyticsReportURL")},openRealtimeReportURL(){this.enableRealtimeReportButton&&WindowHelper.popup(this.googleAnalyticsRealtimeReportURL,"ConfigManager.googleAnalyticsRealtimeReportURL")},openTab:function(t){let e=t;"object"==typeof e&&(e=$(t.target).attr("data-tab")),this.tab=e,"string"==typeof t&&(t=$(this.$refs[t])),SemanticUIHelper.openTab(t)},downloadEventTrackData:function(t){let e=this.eventTrackDayLimit;return e<=0&&(e=void 0),GoogleAnalyticsHelper.databaseSelect(this.eventTrackDayLimit,t=>{for(let e=0;e<t.length;e++)t[e].action=this.filterAction(t[e].action),t[e].timestamp=DayjsHelper.format(t[e].unix,"YYYY/MM/DD HH:mm:ss");let i=this.buildEventTrackDownloadFilename("events",e);FileHelper.saveCSV(t,i)}),this},downloadEventTrackProductionData:function(t){let e=this.eventTrackDayLimit;return e<=0&&(e=void 0),GoogleAnalyticsHelper.databaseSelectProduction(this.eventTrackDayLimit,t=>{for(let e=0;e<t.length;e++){let i=DayjsHelper.format(t[e].unix,"YYYY/MM/DD HH:mm:ss"),n=JSON.parse(t[e].action),a=n.timeSpent.split(":"),s=60*parseInt(a[0],10)+parseInt(a[1],10);t[e]={timestamp:i,minSpent:s,charCount:n.charCount,wordCount:n.wordCount,imageCount:n.imageCount}}let i=this.buildEventTrackDownloadFilename("production",e);FileHelper.saveCSV(t,i)}),this},downloadEventTrackStrengthData:function(t){let e=this.eventTrackDayLimit;return e<=0&&(e=void 0),GoogleAnalyticsHelper.databaseSelectStrength(this.eventTrackDayLimit,t=>{let i,n,a=[];for(let e=0;e<t.length;e++){let s=DayjsHelper.format(t[e].unix,"YYYY/MM/DD HH:"),o=DayjsHelper.format(t[e].unix,"mm");o=10*Math.floor(parseInt(o,10)/10),o<10&&(o="0"+o),s+=o,i!==s?(void 0!==n&&a.push(n),n={timestamp:s,strength:1},i=s):n.strength++}let s=this.buildEventTrackDownloadFilename("strength",e);FileHelper.saveCSV(a,s)}),this},downloadEventTrackModificationData:function(t){return window.alert("TODO #278"),this},buildEventTrackDownloadFilename:function(t,e){let i=DayjsHelper.unix(),n=DayjsHelper.format("YYYYMMDD"),a=[t,$v.PostManager.editingPostId];if(void 0!==e){let t=i-60*e*24,s=DayjsHelper.format(t,"YYYYMMDD");s!==n&&a.push(s)}return a.push(n),a=a.join("-"),a},filterAction:function(t){if("string"==typeof t&&(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]"))&&(t=JSON.parse(t)),Array.isArray(t))t=t.join(";");else if("object"==typeof t){let e=[];for(let i in t){let n=t[i];e.push(`${i}:${n}`)}t=e.join(";")}return t},clearEventTrackData:function(t){return GoogleAnalyticsHelper.databaseReset(),this},openChatGPTConfig(){WindowHelper.popup("https://platform.openai.com/account/api-keys","ChatGPT API Key")},openAPILayerConfig(){WindowHelper.popup("https://apilayer.com/marketplace/keyword-api","APILayer API Key")}}},me=(i(253),i(83)),fe=Object(o.a)(ge,he,[],!1,null,"78477dc6",null);"function"==typeof me.default&&Object(me.default)(fe),fe.options.__file="src/views/ConfigManager/ConfigManager.vue";var _e=fe.exports,ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"ui modal",class:t.name},[i("i",{staticClass:"close icon",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"blogger icon"}),t._v("\n    "+t._s(t.$t("Title"))+"\n  ")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"description ui form"},[i("div",{staticClass:"dragover-message",on:{drop:t.dropPosts}},[t._v("\n        "+t._s(t.$t("Drop file to upload"))+"\n      ")]),t._v(" "),i("input",{attrs:{type:"file",name:"uploadPosts",accept:".zip",ondragstart:"return false;"},on:{change:t.uploadPosts}}),t._v(" "),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{staticClass:"field"},[i("label",[t._v("\n              "+t._s(t.$t("Blogger Console"))+"\n            ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.bloggerConsoleURL,expression:"bloggerConsoleURL"}],attrs:{type:"url",ondragstart:"return false;"},domProps:{value:t.bloggerConsoleURL},on:{change:t.persist,input:function(e){e.target.composing||(t.bloggerConsoleURL=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:t.disableOpenBloggerConsole,green:t.disableOpenEditURL},on:{click:function(e){return t.popup("bloggerConsoleURL")}}},[t._v("\n                "+t._s(t.$t("Open"))+"\n              ")])])])]),t._v(" "),i("div",{staticClass:"eight wide field"},[i("div",{staticClass:"field"},[i("label",[t._v("\n              "+t._s(t.$t("Post Draft URL"))+"\n            ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editURL,expression:"editURL"}],attrs:{type:"url",ondragstart:"return false;"},domProps:{value:t.editURL},on:{change:function(e){return t.persistPost("editURL")},input:function(e){e.target.composing||(t.editURL=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:t.disableOpenEditURL,green:!1===t.disableOpenEditURL&&t.disableOpenPublicURL},on:{click:function(e){return t.popup("editURL")}}},[t._v("\n                "+t._s(t.$t("Open"))+"\n              ")])])])])]),t._v(" "),i("div",{staticClass:"fields"},[i("div",{staticClass:"ten wide field"},[i("label",[t._v("\n            "+t._s(t.$t("Post Title"))+"\n\n          ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.postTitle,expression:"postTitle"}],attrs:{type:"url",onfocus:"this.select()",ondragstart:"return false;"},domProps:{value:t.postTitle},on:{change:t.changePostMetadata,input:function(e){e.target.composing||(t.postTitle=e.target.value)}}}),t._v(" "),i("a",{staticClass:"icon ui button",attrs:{href:"https://chat.openai.com/chat",ondragstart:"return false;"},on:{click:function(e){return e.preventDefault(),t.getTitleRecommend(e)}}},[i("i",{staticClass:"user md icon"})]),t._v(" "),i("a",{staticClass:"icon ui button",attrs:{href:t.googleTransLink,ondragstart:"return false;"},on:{click:function(e){return e.preventDefault(),t.openGoogleTransLink(e)}}},[i("i",{staticClass:"language icon"})]),t._v(" "),i("button",{staticClass:"icon ui button",class:{disabled:""===t.postTitle.trim()},attrs:{type:"button",ondragstart:"return false;"},on:{click:t.copyInput}},[i("i",{staticClass:"copy icon"})])])]),t._v(" "),i("div",{staticClass:"six wide field"},[i("label",[t._v("\n            "+t._s(t.$t("SEO Link"))+"\n          ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.postSEOLink,expression:"postSEOLink"}],attrs:{type:"url",onfocus:"this.select()",ondragstart:"return false;"},domProps:{value:t.postSEOLink},on:{change:function(e){return t.persistPost("postSEOLink")},blur:t.fixSEOLink,input:function(e){e.target.composing||(t.postSEOLink=e.target.value)}}}),t._v(" "),i("button",{staticClass:"icon ui button",class:{positive:""===t.postSEOLink.trim()},attrs:{type:"button",ondragstart:"return false;"},on:{click:t.generateSEOLink}},[i("i",{staticClass:"linkify icon"})]),t._v(" "),i("a",{staticClass:"icon ui button",attrs:{target:"trans",href:t.googleTransLink,ondragstart:"return false;"}},[i("i",{staticClass:"language icon"})]),t._v(" "),i("button",{staticClass:"icon ui button",class:{disabled:""===t.postSEOLink.trim()},attrs:{type:"button",ondragstart:"return false;"},on:{click:t.copyInput}},[i("i",{staticClass:"copy icon"})])])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\n            "+t._s(t.$t("Post Labels"))+"\n\n            "),0===t.labelRecommends.length?i("a",{class:{disabled:t.isLabelRecommending},on:{click:t.getLabelRecommend}},[t._v("("+t._s(t.$t("Recommend..."))+")")]):t._e(),t._v(" "),t._l(t.labelRecommends,(function(e,n){return[0===n?i("span",[t._v(": ")]):t._e(),t._v(" "),n>0?i("span",[t._v(", ")]):t._e(),t._v(" "),t.labelRecommends.length>0?i("a",{on:{click:function(i){return t.addLabelRecommend(e)}}},[t._v(t._s(e))]):t._e()]}))],2),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.postLabels,expression:"postLabels"}],attrs:{type:"text",onfocus:"this.select()",id:"PublishManager.postLabels",ondragstart:"return false;"},domProps:{value:t.postLabels},on:{change:t.changePostMetadata,input:function(e){e.target.composing||(t.postLabels=e.target.value)}}}),t._v(" "),i("button",{staticClass:"icon ui button",class:{disabled:""===t.postLabels.trim()},attrs:{type:"button"},on:{click:t.copyInput}},[i("i",{staticClass:"copy icon"})])])]),t._v(" "),i("div",{staticClass:"two unstackable fields"},[i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",class:{green:t.enableImageUpload,disabled:!t.enableImageUpload},on:{click:t.openImageReplacer}},[i("i",{staticClass:"image icon"}),t._v("\n            "+t._s(t.$t("Upload Image"))+"\n          ")])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",class:{green:0===t.filesystemImageCount},on:{click:t.copyHTML}},[i("i",{staticClass:"copy icon"}),t._v("\n            "+t._s(t.$t("Copy HTML"))+"\n          ")])])]),t._v(" "),i("div",{staticClass:"three unstackable fields"},[i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",on:{click:t.downloadPostBackup}},[i("i",{staticClass:"download icon"}),t._v("\n            "+t._s(t.$t("Save"))+"\n          ")])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",on:{click:t.triggerUploadPostBackup}},[i("i",{staticClass:"file upload icon"}),t._v("\n            "+t._s(t.$t("Open"))+"\n          ")])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",on:{click:t.openBackupPage}},[i("i",{staticClass:"cloud icon"}),t._v("\n            "+t._s(t.$t("Cloud Storage"))+"\n          ")])])]),t._v(" "),i("div",{staticClass:"two unstackable fields"},[i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",on:{click:t.saveOneFileHTML}},[i("i",{staticClass:"file alternate outline icon"}),t._v("\n            "+t._s(t.$t("Save HTML File"))+"\n          ")])]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"fluid ui labeled icon button",on:{click:t.saveOneFileHTMLtoDOC}},[i("i",{staticClass:"file word outline icon"}),t._v("\n            "+t._s(t.$t("Save RTF File (for local editor)"))+"\n          ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\n          "+t._s(t.$t("Public URL"))+"\n        ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.publicURL,expression:"publicURL"}],attrs:{type:"url",ondragstart:"return false;"},domProps:{value:t.publicURL},on:{change:function(e){return t.persistPost("publicURL")},input:function(e){e.target.composing||(t.publicURL=e.target.value)}}}),t._v(" "),i("button",{staticClass:"ui button",class:{disabled:t.disableOpenPublicURL,green:!1===t.disableOpenPublicURL},on:{click:function(e){return t.popup("publicURL")}}},[t._v("\n            "+t._s(t.$t("Open"))+"\n          ")])])]),t._v(" "),i("div",{staticClass:"field"},[i("label",[t._v("\n          "+t._s(t.$t("Edit Note"))+"\n        ")]),t._v(" "),i("div",{staticClass:"ui action input"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editNote,expression:"editNote"}],attrs:{ondragstart:"return false;"},domProps:{value:t.editNote},on:{change:function(e){return t.persistPost("editNote")},input:function(e){e.target.composing||(t.editNote=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui button",on:{click:t.close}},[t._v("\n      "+t._s(t.$t("Close"))+"\n    ")])])])};ve._withStripped=!0;var be=i(5);var ye={data:function(){return this.$i18n.locale="auto",{name:"PublishManager",ui:void 0,bloggerConsoleURL:"https://www.blogger.com/",editURL:"",publicURL:"",postId:null,postTitle:"",postLabels:"",postSEOLink:"",editNote:"",filesystemImageCount:0,titleRecommend:!1,isTitleRecommending:!1,labelRecommends:[],isLabelRecommending:!1,URLpattern:new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i")}},mounted:function(){VueHelper.mountLocalStorage(this,"bloggerConsoleURL")},computed:{disableOpenBloggerConsole:function(){return"https://www.blogger.com"!==this.bloggerConsoleURL&&!this.bloggerConsoleURL.startsWith("https://www.blogger.com/")},disableOpenEditURL:function(){return!this.editURL.startsWith("https://www.blogger.com/blog/post/edit/")&&!this.editURL.startsWith("https://www.blogger.com/blog/page/edit/")},disableOpenPublicURL:function(){return!this.publicURL.startsWith("http")&&!this.publicURL.startsWith("//")},enableImageUpload:function(){return this.filesystemImageCount>0},postTitleSafe(){let t=this.postTitle;return t.indexOf("/")>-1&&(t=t.slice(0,t.indexOf("/")).trim()),t.length>20&&(t=t.slice(0,20).trim()),t},googleTransLink(){let t=this.postTitle,e=t.indexOf(" / ");return e>-1&&(t=t.slice(0,e).trim()),t=t.trim(),t=encodeURIComponent(t),`https://translate.google.com.tw/?sl=zh-TW&tl=en&text=${t}&op=translate`}},created:function(){$v[this.name]=this,EventManager.on($v.ImageReplacer,"onFilesystemImageCountChange",t=>{this.filesystemImageCount=t.filesystemImageCount})},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.loadPostData(()=>{$v.ImageReplacer.validateHasFileSystemImage(),this.getUI().modal("show")})},close:function(){this.getUI().modal("hide")},loadPostData:function(t){if(!1!==ConfigHelper.get("debug").disablePublishManager)return FunctionHelper.triggerCallback(t);let e=$v.PostManager.getPost();if(void 0===e)return console.error("post is not found"),FunctionHelper.triggerCallback(t),!1;this.postId=e.id,this.editURL=e.editURL,this.publicURL=e.publicURL,this.editNote=e.editNote,this.postSEOLink=e.postSEOLink;let i=$v.EditorManager.FieldPostTitle;this.postTitle=i.getText();let n=$v.EditorManager.FieldPostLabels;this.postLabels=n.getText(),this.postSEOLink&&""!==this.postSEOLink||this.generateSEOLink(),FunctionHelper.triggerCallback(t)},persist:function(){VueHelper.persistLocalStorage(this,"bloggerConsoleURL")},persistPost:function(t){let e=$v.PostManager,i=this[t];console.log([t,i]),e.updateEditingPost(t,i)},popup:function(t){let e=this[t];WindowHelper.forcePopup(e,t)},openImageReplacer:function(){return $v.EditorManager.ImageReplacer.open(),this},downloadPostBackup:function(){return $v.PostManager.backupPost(),this},changePostMetadata:function(){return $v.EditorManager.FieldPostTitle.set(this.postTitle),$v.EditorManager.FieldPostLabels.set(this.postLabels),this},copyInput:function(t){let e=t.target,i=$(e).parents(".ui.input:first").find("input").val();return CopyPasteHelper.copyPlainText(i),this},copyHTML:function(){return be.a.CopyCodeClick(t=>this.$t(t)),this},saveOneFileHTML(){let t=be.a.GetOneFileHTML(t=>this.$t(t)),e=`<!doctype html>\n\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n\n  <title>${this.postTitle}</title>\n\n</head>\n\n<body>\n\n<h1>${this.postTitle}</h1>\n${t}\n\n</body>\n</html>`,i=new Blob([e],{type:"text/html;charset=utf-8"});return Object(L.saveAs)(i,DayjsHelper.nowMMDDHHmmFormat()+` ${this.postTitleSafe}.html`),this},saveOneFileHTMLtoDOC(){let t=be.a.GetOneFileHTML(t=>this.$t(t)),e=`<!doctype html>\n\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n\n  <title>${this.postTitle}</title>\n\n</head>\n\n<body>\n\n<h1>${this.postTitle}</h1>\n${t}\n\n</body>\n</html>`,i=new T.a,n=DayjsHelper.nowMMDDHHmmFormat()+` ${this.postTitleSafe}.rtf`;return i.file(n,e),i.generateAsync({type:"blob"}).then(t=>{Object(L.saveAs)(t,n+".zip")}),this},openBackupPage:function(){let t=$v.ConfigManager;!1===t.enableBackupPageButton||"https://drive.google.com/drive/u/0/my-drive"===t.backupPageURL?t.open("backup"):t.openBackupPageURL()},triggerUploadPostBackup:function(t){return this.getUI().find('input:file[name="uploadPosts"]').click(),this},uploadPosts:function(t){return $v.PostManager.uploadPosts(t,this.postId,t=>{this.afterUploadPost(t)}),this},dropPosts:function(t){return $v.PostManager.dropPosts(t,this.postId,t=>{this.afterUploadPost(t)}),this},afterUploadPost:function(t){return"object"!=typeof t?(console.log("This is not a valided post data."),!1):("string"==typeof t.title?this.postTitle=t.title:this.postTitle="","string"==typeof t.labels?this.postLabels=t.labels:Array.isArray(t.labels)?this.postLabels=t.labels.join(", "):this.postLabels="","string"==typeof t.editURL?this.editURL=t.editURL:this.editURL="","string"==typeof t.publicURL?this.publicURL=t.publicURL:this.publicURL="","string"==typeof t.postSEOLink?this.postSEOLink=t.postSEOLink:this.postSEOLink="","string"==typeof t.editNote?this.editNote=t.editNote:this.editNote="",this.resetUploadInput(),this.close(),this)},resetUploadInput:function(){this.getUI().find('input:file[name="uploadPosts"]').val("")},generateSEOLink(){let t=this.postTitle,e=t.indexOf(" / ");-1===e&&(e=t.indexOf(" / ")),e>-1&&(t=t.slice(e+3).trim()),this.convertPostTitleToSEOLink(t)},fixSEOLink(){let t=this.postSEOLink;if(-1===t.indexOf(" ")&&!1===new RegExp("[^\0-]","g").test(t)&&!1===new RegExp("[A-Z]","g").test(t))return!1;this.convertPostTitleToSEOLink(t)},convertPostTitleToSEOLink(t){let e=t.toLowerCase().trim();for(e=e.replace(/[^a-zA-Z ]/g,""),e=e.replace(/[^\x00-\x7F]/g,"-"),e=e.split(" ").join("-"),e=e.split(":").join("-");e.length>0&&e.indexOf("--")>-1;)e=e.split("--").join("-");for(;e.length>0&&e.startsWith("-");)e=e.slice(1);for(;e.length>0&&e.endsWith("-");)e=e.slice(0,-1);if("-"===e||""===e)return!1;this.postSEOLink=e},getTitleRecommend:async function(){let t=be.a.CopyCodeClick(t=>this.$t(t),!1),e="請為以下文字產生100字以內的中文文章標題："+$(t).text();CopyPasteHelper.copyPlainText(e),WindowHelper.popup("https://chat.openai.com/chat")},getLabelRecommend:async function(){this.isLabelRecommending=!0;let t=$v.EditorManager.FieldPostBody.getElement().text(),e=await this.trans(t),i=await this.getKeywords(e);i=i.filter(t=>!this.isURL(t)).map(t=>{let e=t.split(" ");return e=e.filter(t=>!this.isURL(t)).map(t=>t.slice(0,1).toUpperCase()+t.slice(1)),e.join("")}),this.isLabelRecommending=!1,this.labelRecommends=i},trans:async function(t,e="zh",i="en"){let n=$v.ConfigManager.apiKeysTrans;if(""===n)return"NoAPIKey";var a={method:"POST",redirect:"follow",body:t};let s=n+"?s="+e+"&t="+i,o=await fetch(s,a),r=await o.text();return console.log(r),r=JSON.parse(r),r.output},getKeywords(t){let e=$v.ConfigManager.apiKeysAPILayer;return""===e?["NoAPIKey"]:new Promise(async(i,n)=>{var a=new Headers;a.append("apikey",e);var s={method:"POST",redirect:"follow",headers:a,body:t};let o=await fetch("https://api.apilayer.com/keyword",s),r=await o.text(),l=JSON.parse(r).result;l=l.map(({text:t})=>decodeURIComponent(JSON.parse('"'+t.replace(/\"/g,'\\"')+'"'))).filter(t=>!this.isURL(t)),l.sort((t,e)=>t.length-e.length),i(l)})},isURL:function(t){return!!this.URLpattern.test(t)},addLabelRecommend(t){-1===this.postLabels.split(",").map(t=>t.trim().toLowerCase()).indexOf(t.toLowerCase())&&(""!==this.postLabels.trim()&&(this.postLabels=this.postLabels+", "),this.postLabels=this.postLabels+t)},openGoogleTransLink(){WindowHelper.popup(this.googleTransLink)}}},Ce=(i(255),i(84)),we=Object(o.a)(ye,ve,[],!1,null,"000529f6",null);"function"==typeof Ce.default&&Object(Ce.default)(we),we.options.__file="src/views/PublishManager/PublishManager.vue";var Se=we.exports,ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",class:t.name},[t.wordCount>0?i("span",{staticClass:"word-count",attrs:{title:t.titleWordCount}},[i("i",{staticClass:"language icon"}),t._v("\r\n    "+t._s(t.wordCount)+"\r\n  ")]):t._e(),t._v(" "),t.imageCount>0?i("span",{staticClass:"image-count",attrs:{title:t.titleImageCount}},[i("i",{staticClass:"image icon"}),t._v("\r\n    "+t._s(t.imageCount)+"\r\n  ")]):t._e(),t._v(" "),t.tableCount>0?i("span",{staticClass:"table-count",attrs:{title:t.titleTableCount}},[i("i",{staticClass:"table icon"}),t._v("\r\n    "+t._s(t.tableCount)+"\r\n  ")]):t._e(),t._v(" "),t.iframeCount>0?i("span",{staticClass:"iframe-count",attrs:{title:t.titleIframeCount}},[i("i",{staticClass:"paperclip icon"}),t._v("\r\n    "+t._s(t.iframeCount)+"\r\n  ")]):t._e(),t._v(" "),i("span",{staticClass:"time-spent-display",attrs:{title:t.timeSpentTitle}},[i("i",{staticClass:"hourglass icon"}),t._v("\r\n    "+t._s(t.timeSpentDisplay)+"\r\n  ")])])};ke._withStripped=!0;var Ie={data:function(){return{name:"StatisticIndicator",ui:void 0,wordCount:0,imageCount:0,tableCount:0,iframeCount:0,timeSpentSecond:0,lastEditTimestamp:0,updateTimeSpentLock:!1}},mounted:function(){this.init()},computed:{wordCountUnit:function(){return this.wordCount>1?this.$t("words"):this.$t("word")},titleWordCount:function(){return this.wordCount+" "+this.wordCountUnit},imageCountUnit:function(){return this.imageCount>1?this.$t("pictures"):this.$t("picture")},tableCountUnit:function(){return this.tableCount>1?this.$t("tables"):this.$t("table")},iframeCountUnit:function(){return this.iframeCount>1?this.$t("iframes"):this.$t("iframe")},titleImageCount:function(){return this.imageCount+" "+this.imageCountUnit},titleTableCount:function(){return this.tableCount+" "+this.tableCountUnit},titleIframeCount:function(){return this.iframeCount+" "+this.iframeCountUnit},timeSpentDisplay:function(){return DayjsHelper.timeSpentDisplay(this.timeSpentSecond)},timeSpentTitle:function(){let t=DayjsHelper.timeSpentDisplay(this.timeSpentSecond).split(":"),e=parseInt(t[0],10),i=parseInt(t[1],10),n={hour:e,minute:i},a=60*e+i,s="Total spent time is {hour} hours and {minute} minutes";return s=0===e?i>1?"Total spent time is {minute} minutes":"Total spent time is {minute} minute":e>1?i>1?"Total spent time is {hour} hours and {minute} minutes":"Total spent time is {hour} hours and {minute} minute":i>1?"Total spent time is {hour} hour and {minute} minutes":"Total spent time is {hour} hour and {minute} minute",this.$tc(s,a,n)}},created:function(){$v[this.name]=this},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},open:function(){this.getUI().show()},close:function(){this.getUI().hide()},persist(){},init(t){EventManager.on($v.EditorManager.FieldPostBody,["set","change"],t=>{this.updateWordImageCount(t),this.updateTimeSpent(),this.getUI().fadeIn()}),EventManager.on($v.EditorManager.FieldPostBody,["beforechange"],t=>{this.getUI().fadeOut()}),FunctionHelper.triggerCallback(t)},updateWordImageCount:function(t){this.wordCount=t.getTextCount(),this.imageCount=t.countImage(),this.tableCount=t.countTable(),this.iframeCount=t.countIframe()},updateTimeSpent:function(){if(!1===InitHelper.ready){let t=$v.PostManager.getPost();return this.timeSpentSecond=t.timeSpentSecond,this}if(!0===this.updateTimeSpentLock)return this;this.updateTimeSpentLock=!0;let t=(new Date).getTime(),e=Math.round((t-this.lastEditTimestamp)/1e3);e>60&&(e=60);let i=$v.PostManager.getPost();void 0!==i?(i.timeSpentSecond=i.timeSpentSecond+e,this.timeSpentSecond=i.timeSpentSecond):this.timeSpentSecond=0,$v.PostManager.updateEditingPost("timeSpentSecond",this.timeSpentSecond,()=>{this.lastEditTimestamp=t,setTimeout(()=>{this.updateTimeSpentLock=!1},1e3)})}}},Te=(i(257),i(85)),xe=Object(o.a)(Ie,ke,[],!1,null,"6547332c",null);"function"==typeof Te.default&&Object(Te.default)(xe),xe.options.__file="src/views/NavBar/StatisticIndicator/StatisticIndicator.vue";var Pe=xe.exports,Le=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"modal",staticClass:"ui left fixed vertical inverted menu"},[e("navbar-menu",{attrs:{mode:"sidebar"}})],1)};Le._withStripped=!0;var $e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fragment",{ref:"modal"},[i("a",{staticClass:"item post",on:{click:t.openPostManager}},[i("i",{staticClass:"list alternate icon",attrs:{title:t.$t("Post")}}),t._v(" "),i("span",[t._v(t._s(t.$t("Post")))])]),t._v(" "),i("a",{staticClass:"item publish",on:{click:t.openPublishManager}},[i("i",{staticClass:"blogger icon",attrs:{title:t.$t("Publish")}}),t._v(" "),i("span",[t._v(t._s(t.$t("Publish")))])]),t._v(" "),i("a",{staticClass:"item theme",on:{click:t.openThemeManager}},[i("i",{staticClass:"columns icon",attrs:{title:t.$t("Theme")}}),t._v(" "),i("span",[t._v(t._s(t.$t("Theme")))])]),t._v(" "),i("a",{staticClass:"item editor",on:{click:t.openEditorManager}},[i("i",{staticClass:"keyboard outline icon",attrs:{title:t.$t("Editor")}}),t._v(" "),i("span",[t._v(t._s(t.$t("Editor")))])]),t._v(" "),i("a",{staticClass:"item config",on:{click:t.openConfigManager}},[i("i",{staticClass:"cogs icon",attrs:{title:t.$t("Config")}}),t._v(" "),i("span",[t._v(t._s(t.$t("Config")))])]),t._v(" "),i("div",{staticClass:"right menu"},[i("a",{staticClass:"item word-count",class:{active:"topbar"===t.mode,topbar:"topbar"===t.mode}},[t.wordCount>0?i("span",{staticClass:"word-count",attrs:{title:t.titleWordCount}},[i("i",{staticClass:"language icon"}),t._v("\r\n        "+t._s(t.wordCount)+"\r\n      ")]):t._e(),t._v(" "),t.imageCount>0?i("span",{staticClass:"image-count",attrs:{title:t.titleImageCount}},[i("i",{staticClass:"image icon"}),t._v("\r\n        "+t._s(t.imageCount)+"\r\n      ")]):t._e(),t._v(" "),t.tableCount>0?i("span",{staticClass:"table-count",attrs:{title:t.titleTableCount}},[i("i",{staticClass:"table icon"}),t._v("\r\n        "+t._s(t.tableCount)+"\r\n      ")]):t._e(),t._v(" "),t.iframeCount>0?i("span",{staticClass:"iframe-count",attrs:{title:t.titleIframeCount}},[i("i",{staticClass:"paperclip icon"}),t._v("\r\n        "+t._s(t.iframeCount)+"\r\n      ")]):t._e(),t._v(" "),i("span",{staticClass:"time-spent-display",attrs:{title:t.timeSpentTitle}},[i("i",{staticClass:"hourglass icon"}),t._v("\r\n        "+t._s(t.timeSpentDisplay)+"\r\n      ")])]),t._v(" "),i("a",{ref:"reload",staticClass:"item reload-page",on:{click:t.reloadPage}},[i("i",{staticClass:"redo icon",attrs:{title:t.$t("Reload Page")}}),t._v(" "),"sidebar"===t.mode?i("span",[t._v(t._s(t.$t("Reload Page")))]):t._e()])])])};$e._withStripped=!0;var He=i(4);var Re={data:function(){return{name:"NavBarMenu",ui:void 0,wordCount:0,imageCount:0,tableCount:0,iframeCount:0,timeSpentSecond:0,lastEditTimestamp:0}},props:["mode"],mounted:function(){this.init()},computed:{wordCountUnit:function(){return this.wordCount>1?this.$t("words"):this.$t("word")},imageCountUnit:function(){return this.imageCount>1?this.$t("pictures"):this.$t("picture")},tableCountUnit:function(){return this.tableCount>1?this.$t("tables"):this.$t("table")},iframeCountUnit:function(){return this.iframeCount>1?this.$t("iframes"):this.$t("iframe")},timeSpentDisplay:function(){return DayjsHelper.timeSpentDisplay(this.timeSpentSecond)},titleWordCount:function(){return this.wordCount+" "+this.wordCountUnit},titleImageCount:function(){return this.imageCount+" "+this.imageCountUnit},titleTableCount:function(){return this.tableCount+" "+this.tableCountUnit},titleIframeCount:function(){return this.iframeCount+" "+this.iframeCountUnit},timeSpentTitle:function(){let t=DayjsHelper.timeSpentDisplay(this.timeSpentSecond).split(":"),e=parseInt(t[0],10),i=parseInt(t[1],10),n={hour:e,minute:i},a=60*e+i,s="Total spent time is {hour} hours and {minute} minutes";return s=0===e?i>1?"Total spent time is {minute} minutes":"Total spent time is {minute} minute":e>1?i>1?"Total spent time is {hour} hours and {minute} minutes":"Total spent time is {hour} hours and {minute} minute":i>1?"Total spent time is {hour} hour and {minute} minutes":"Total spent time is {hour} hour and {minute} minute",this.$tc(s,a,n)}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},openPublishManager:function(){$v.PublishManager.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openPublishManager"),this.hideNavBar()},openPostManager:function(){$v.PostManager.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openPostManager"),this.hideNavBar()},openThemeManager:function(){$v.ThemeManager.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openThemeManager"),this.hideNavBar()},openEditorManager:function(){$v.EditorManager.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openEditorManager"),this.hideNavBar()},openConfigManager:function(){$v.ConfigManager.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openConfigManager"),this.hideNavBar()},editorInsertMore:function(){be.a.insertMoreClick(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorInsertMore"),this.hideNavBar()},editorInsertSnippet:function(){$v.SnippetInserter.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorInsertSnippet"),this.hideNavBar()},editorInsertIframe:function(){$v.IframePrompt.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorInsertIframe"),this.hideNavBar()},editorInsertFile:function(){$v.FileUploader.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorInsertFile"),this.hideNavBar()},editorInsertCode:function(){$v.CodeInserter.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorInsertCode"),this.hideNavBar()},editorImportMarkdown:function(){$v.MarkdownImporter.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorImportMarkdown"),this.hideNavBar()},downloadImageTemplate:function(){He.a.downloadImageTamplateClick(),GoogleAnalyticsHelper.send("NavBarMenu.open","downloadImageTemplate"),this.hideNavBar()},openImageReaplcer:function(){$v.ImageReplacer.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openImageReaplcer"),this.hideNavBar()},openGooglePhoto:function(){WindowHelper.forcePopup("https://photos.google.com/?hl=zh-TW","googlePhoto"),GoogleAnalyticsHelper.send("NavBarMenu.open","openGooglePhoto"),this.hideNavBar()},openGoogleDocsLinkBuilder:function(){$v.GoogleDocLinkBuilder.open(),GoogleAnalyticsHelper.send("NavBarMenu.open","openGoogleDocsLinkBuilder"),this.hideNavBar()},openOneDriveLinkBuilder:function(){WindowHelper.forcePopup("https://blog.pulipuli.info/2019/02/onedrive-onedrive-file-download-link.html#postcataonedrive-onedrive-file-download-link.html0_anchor3","OneDriveDownload"),GoogleAnalyticsHelper.send("NavBarMenu.open","openOneDriveLinkBuilder"),this.hideNavBar()},editorCleanCode:function(){be.a.CleanCodeClick(t=>this.$t(t)),GoogleAnalyticsHelper.send("NavBarMenu.open","editorCleanCode"),this.hideNavBar()},editorCopyCode:function(){be.a.CopyCodeClick(t=>this.$t(t)),GoogleAnalyticsHelper.send("NavBarMenu.open","editorCopyCode"),this.hideNavBar()},editorImageResizeOriginal:function(){He.a.imageSizeOriginalClick(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorImageResizeOriginal"),this.hideNavBar()},editorImageResizeThumbnail:function(){He.a.imageSizeThumbnailClick(),GoogleAnalyticsHelper.send("NavBarMenu.open","editorImageResizeThumbnail"),this.hideNavBar()},reloadPage:function(){GoogleAnalyticsHelper.send("NavBarMenu.open","reloadPage"),DelayExecHelper.forceExec(()=>{location.reload()})},toggle:function(){this.getUI().toggleClass("call-fixed")},init:function(t){EventManager.on($v.EditorManager.FieldPostBody,["set","change"],t=>{this.wordCount=t.getTextCount(),this.imageCount=t.countImage(),this.tableCount=t.countTable(),this.iframeCount=t.countIframe(),this.updateTimeSpent()}),FunctionHelper.triggerCallback(t),"sidebar"===this.mode?($(this.$refs.dropdownInsert).click(t=>{this.sidebarToggleSubmenu(t)}),$(this.$refs.dropdownPublish).click(t=>{this.sidebarToggleSubmenu(t)})):"topbar"===this.mode&&(this.topbarDropdownItem(this.$refs.dropdownInsert),this.topbarDropdownItem(this.$refs.dropdownPublish)),this.lastEditTimestamp=(new Date).getTime(),!1===ConfigHelper.get("showReload")&&$(this.$refs.reload).hide()},updateTimeSpent:function(){return setTimeout(()=>{let t=$v.PostManager.getPost();return this.timeSpentSecond=t.timeSpentSecond,this},0),this},topbarDropdownItem:function(t){(t=$(t)).removeClass("sub-menu-button"),t.addClass("simple").addClass("dropdown"),t.dropdown()},sidebarToggleSubmenu:function(t){let e=$(t.target);e.toggleClass("open-submenu"),e.children(".menu").transition("slide down")},hideNavBar:function(){$v.NavBar.unpin()}}},Ee=(i(259),i(261),i(86)),Me=Object(o.a)(Re,$e,[],!1,null,"c1dd8b2c",null);"function"==typeof Ee.default&&Object(Ee.default)(Me),Me.options.__file="src/views/NavBar/NavBarMenu/NavBarMenu.vue";var Ue=Me.exports;var Oe={data:function(){return{name:"NavBarSidebar",ui:void 0,dimmer:void 0,body:void 0,isOpened:!1}},created:function(){$v[this.name]=this},components:{"navbar-menu":Ue},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal),this.buildDimmer(),this.body=$("body")),this.ui},buildDimmer:function(){return this.dimmer=$('<div class="dimmer"></div>').appendTo("body"),this.dimmer.attr(this.$options._scopeId,""),this.dimmer.click(()=>{this.close()}),this.dimmer},open:function(){null!==this.isOpened&&!0!==this.isOpened&&(!1===$v.OutlineNavigator.opened?(this.isOpened=null,this.getUI().transition({animation:"slide right",onComplete:()=>{this.isOpened=!0}}),this.dimmer.transition("fade in")):(this.getUI().show(),this.dimmer.show(),this.isOpened=!0),this.body.css("overflow-y","hidden"))},close:function(){null!==this.isOpened&&!1!==this.isOpened&&(!1===$v.OutlineNavigator.opened?(this.isOpened=null,this.getUI().transition({animation:"slide right",onComplete:()=>{this.isOpened=!1}}),this.dimmer.transition("fade out")):(this.getUI().hide(),this.dimmer.hide(),this.isOpened=!1),this.body.css("overflow-y",""))}}},Fe=(i(263),i(265),i(87)),De=Object(o.a)(Oe,Le,[],!1,null,"79b766a4",null);"function"==typeof Fe.default&&Object(Fe.default)(De),De.options.__file="src/views/NavBar/NavBarSidebar/NavBarSidebar.vue";var Ne=De.exports,Be=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"modal",staticClass:"ui top inverted menu",on:{mouseover:this.clearScrollTimeout,click:this.clearScrollTimeout}},[e("a",{staticClass:"item sidebar-menu-toggle",on:{click:this.openSidebarMenu}},[e("i",{staticClass:"bars icon"})]),this._v(" "),e("navbar-menu",{attrs:{mode:"topbar"}})],1)};Be._withStripped=!0;var Ae={data:function(){return{name:"NavBar",ui:void 0,wordCount:0,navbarHeight:55,classNameFixed:"call-fixed",classNamePrepare:"prepare-fixed",$body:null,sidebarWidth:700,lastScrollTop:0,scrollTimer:null}},components:{"navbar-menu":Ue},created:function(){$v.NavBar=this,this.$body=$("body"),this.initWindowEvent()},computed:{wordCountUnit:function(){return this.wordCount>1?this.$t("words"):this.$t("word")}},methods:{getUI:function(){return void 0===this.ui&&(this.ui=$(this.$refs.modal)),this.ui},openSidebarMenu:function(){$v.NavBarSidebar.open()},toggle:function(){if(document.body.clientWidth<this.sidebarWidth)$v.NavBarSidebar.open();else{let t=this.getUI();window.scrollY>this.navbarHeight?!1===t.hasClass(this.classNameFixed)?(t.addClass(this.classNamePrepare),setTimeout(()=>{t.addClass(this.classNameFixed)},100),this.$body.toggleClass(this.classNameFixed)):(t.addClass("hide"),setTimeout(()=>{t.removeClass(this.classNamePrepare),t.removeClass(this.classNameFixed),t.removeClass("hide")},500),this.$body.toggleClass(this.classNameFixed)):(t.removeClass(this.classNameFixed),this.$body.removeClass(this.classNameFixed))}},unpin:function(){if(document.body.clientWidth<this.sidebarWidth)$v.NavBarSidebar.close();else{let t=this.getUI();window.scrollY>this.navbarHeight?!1===t.hasClass(this.classNameFixed)?(t.addClass(this.classNamePrepare),setTimeout(()=>{t.addClass(this.classNameFixed)},100),this.$body.toggleClass(this.classNameFixed)):(t.addClass("hide"),setTimeout(()=>{t.removeClass(this.classNamePrepare),t.removeClass(this.classNameFixed),t.removeClass("hide")},500),this.$body.toggleClass(this.classNameFixed)):(t.removeClass(this.classNameFixed),this.$body.removeClass(this.classNameFixed))}},init:function(t){EventManager.on($v.EditorManager.FieldPostBody,["set","change"],t=>{let e=t.getText();e=e.replace(/[^\x20-\x7E]/gim,""),e=e.split(" ").join(""),this.wordCount=e.length}),FunctionHelper.triggerCallback(t)},initWindowEvent:function(){if(!1===ConfigHelper.get("scrollUpShowMenu"))return;let t=()=>{window.scrollY>this.navbarHeight?this.$body.addClass("topbar-out-of-view"):this.$body.removeClass("topbar-out-of-view")},e=$(window),i=t=>{t.addClass(this.classNamePrepare),setTimeout(()=>{t.addClass("upscroll")},100),this.$body.addClass(this.classNameFixed)},n=t=>{this.$body.removeClass(this.classNameFixed),(window.pageYOffset||document.documentElement.scrollTop)<this.navbarHeight||(t.addClass("hide"),setTimeout(()=>{t.removeClass(this.classNamePrepare),t.removeClass("upscroll"),t.removeClass("hide")},500))};e.scroll(()=>{t();let e=this.getUI();var a=window.pageYOffset||document.documentElement.scrollTop;a>this.lastScrollTop?n(e):(i(e),clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{n(e)},3e3)),this.lastScrollTop=a<=0?0:a}),e.resize(()=>{t()})},clearScrollTimeout:function(){null!==this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null)}}},We=(i(267),i(269),i(88)),je=Object(o.a)(Ae,Be,[],!1,null,"2aa9a7c5",null);"function"==typeof We.default&&Object(We.default)(je),je.options.__file="src/views/NavBar/NavBar.vue";var ze=je.exports;i(188),i(189),i(66),i(193),i(194),i(195),i(97),i(97),i(196),i(197),i(198),i(199),i(200),i(201),i(206),i(207),i(208),i(212),i(213),window.$v={},VueHelper.init(l),VueHelper.init(p),VueHelper.init(_),VueHelper.init(S),VueHelper.init(F),VueHelper.init(X),VueHelper.init(pe),VueHelper.init(_e),VueHelper.init(Se),VueHelper.init(Pe),VueHelper.init(Ne),VueHelper.init(ze),InitHelper.init()}]);